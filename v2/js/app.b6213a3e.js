(function(){var t={5808:function(t,e,i){"use strict";var n=i(4246);function r(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}r["default"]=r,e.A=r},2846:function(t,e,i){"use strict";function n(t,e,i){void 0===i&&(i={});var n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=e||{},n.geometry=t,n}function r(t,e,i){switch(void 0===i&&(i={}),t){case"Point":return o(e).geometry;case"LineString":return l(e).geometry;case"Polygon":return a(e).geometry;case"MultiPoint":return f(e).geometry;case"MultiLineString":return p(e).geometry;case"MultiPolygon":return d(e).geometry;default:throw new Error(t+" is invalid")}}function o(t,e,i){if(void 0===i&&(i={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(t[0])||!S(t[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:t};return n(r,e,i)}function s(t,e,i){return void 0===i&&(i={}),c(t.map((function(t){return o(t,e)})),i)}function a(t,e,i){void 0===i&&(i={});for(var r=0,o=t;r<o.length;r++){var s=o[r];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}var h={type:"Polygon",coordinates:t};return n(h,e,i)}function h(t,e,i){return void 0===i&&(i={}),c(t.map((function(t){return a(t,e)})),i)}function l(t,e,i){if(void 0===i&&(i={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:t};return n(r,e,i)}function u(t,e,i){return void 0===i&&(i={}),c(t.map((function(t){return l(t,e)})),i)}function c(t,e){void 0===e&&(e={});var i={type:"FeatureCollection"};return e.id&&(i.id=e.id),e.bbox&&(i.bbox=e.bbox),i.features=t,i}function p(t,e,i){void 0===i&&(i={});var r={type:"MultiLineString",coordinates:t};return n(r,e,i)}function f(t,e,i){void 0===i&&(i={});var r={type:"MultiPoint",coordinates:t};return n(r,e,i)}function d(t,e,i){void 0===i&&(i={});var r={type:"MultiPolygon",coordinates:t};return n(r,e,i)}function g(t,e,i){void 0===i&&(i={});var r={type:"GeometryCollection",geometries:t};return n(r,e,i)}function y(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var i=Math.pow(10,e||0);return Math.round(t*i)/i}function m(t,i){void 0===i&&(i="kilometers");var n=e.factors[i];if(!n)throw new Error(i+" units is invalid");return t*n}function _(t,i){void 0===i&&(i="kilometers");var n=e.factors[i];if(!n)throw new Error(i+" units is invalid");return t/n}function v(t,e){return b(_(t,e))}function x(t){var e=t%360;return e<0&&(e+=360),e}function b(t){var e=t%(2*Math.PI);return 180*e/Math.PI}function w(t){var e=t%360;return e*Math.PI/180}function M(t,e,i){if(void 0===e&&(e="kilometers"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("length must be a positive number");return m(_(t,e),i)}function E(t,i,n){if(void 0===i&&(i="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=e.areaFactors[i];if(!r)throw new Error("invalid original units");var o=e.areaFactors[n];if(!o)throw new Error("invalid final units");return t/r*o}function S(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function I(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!S(t))throw new Error("bbox must only contain numbers")}))}function P(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}i(8992),i(3949),i(1454),Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=r,e.point=o,e.points=s,e.polygon=a,e.polygons=h,e.lineString=l,e.lineStrings=u,e.featureCollection=c,e.multiLineString=p,e.multiPoint=f,e.multiPolygon=d,e.geometryCollection=g,e.round=y,e.radiansToLength=m,e.lengthToRadians=_,e.lengthToDegrees=v,e.bearingToAzimuth=x,e.radiansToDegrees=b,e.degreesToRadians=w,e.convertLength=M,e.convertArea=E,e.isNumber=S,e.isObject=C,e.validateBBox=I,e.validateId=P},4246:function(t,e,i){"use strict";i(4114),Object.defineProperty(e,"__esModule",{value:!0});var n=i(2846);function r(t,e,i){if(null!==t)for(var n,o,s,a,h,l,u,c,p=0,f=0,d=t.type,g="FeatureCollection"===d,y="Feature"===d,m=g?t.features.length:1,_=0;_<m;_++){u=g?t.features[_].geometry:y?t.geometry:t,c=!!u&&"GeometryCollection"===u.type,h=c?u.geometries.length:1;for(var v=0;v<h;v++){var x=0,b=0;if(a=c?u.geometries[v]:u,null!==a){l=a.coordinates;var w=a.type;switch(p=!i||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(l,f,_,x,b))return!1;f++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],f,_,x,b))return!1;f++,"MultiPoint"===w&&x++}"LineString"===w&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-p;o++){if(!1===e(l[n][o],f,_,x,b))return!1;f++}"MultiLineString"===w&&x++,"Polygon"===w&&b++}"Polygon"===w&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(b=0,o=0;o<l[n].length;o++){for(s=0;s<l[n][o].length-p;s++){if(!1===e(l[n][o][s],f,_,x,b))return!1;f++}b++}x++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===r(a.geometries[n],e,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e,i,n){var o=i;return r(t,(function(t,n,r,s,a){o=0===n&&void 0===i?t:e(o,t,n,r,s,a)}),n),o}function s(t,e){var i;switch(t.type){case"FeatureCollection":for(i=0;i<t.features.length;i++)if(!1===e(t.features[i].properties,i))break;break;case"Feature":e(t.properties,0);break}}function a(t,e,i){var n=i;return s(t,(function(t,r){n=0===r&&void 0===i?t:e(n,t,r)})),n}function h(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)if(!1===e(t.features[i],i))break}function l(t,e,i){var n=i;return h(t,(function(t,r){n=0===r&&void 0===i?t:e(n,t,r)})),n}function u(t){var e=[];return r(t,(function(t){e.push(t)})),e}function c(t,e){var i,n,r,o,s,a,h,l,u,c,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(i=0;i<g;i++){for(a=f?t.features[i].geometry:d?t.geometry:t,l=f?t.features[i].properties:d?t.properties:{},u=f?t.features[i].bbox:d?t.bbox:void 0,c=f?t.features[i].id:d?t.id:void 0,h=!!a&&"GeometryCollection"===a.type,s=h?a.geometries.length:1,r=0;r<s;r++)if(o=h?a.geometries[r]:a,null!==o)switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,p,l,u,c))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],p,l,u,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,u,c))return!1;p++}}function p(t,e,i){var n=i;return c(t,(function(t,r,o,s,a){n=0===r&&void 0===i?t:e(n,t,r,o,s,a)})),n}function f(t,e){c(t,(function(t,i,r,o,s){var a,h=null===t?null:t.type;switch(h){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,r,{bbox:o,id:s}),i,0)&&void 0}switch(h){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon";break}for(var l=0;l<t.coordinates.length;l++){var u=t.coordinates[l],c={type:a,coordinates:u};if(!1===e(n.feature(c,r),i,l))return!1}}))}function d(t,e,i){var n=i;return f(t,(function(t,r,o){n=0===r&&0===o&&void 0===i?t:e(n,t,r,o)})),n}function g(t,e){f(t,(function(t,i,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var h,l=0,u=0,c=0;return!1!==r(t,(function(r,a,p,f,d){if(void 0===h||i>l||f>u||d>c)return h=r,l=i,u=f,c=d,void(s=0);var g=n.lineString([h,r],t.properties);if(!1===e(g,i,o,d,s))return!1;s++,h=r}))&&void 0}}}))}function y(t,e,i){var n=i,r=!1;return g(t,(function(t,o,s,a,h){n=!1===r&&void 0===i?t:e(n,t,o,s,a,h),r=!0})),n}function m(t,e){if(!t)throw new Error("geojson is required");f(t,(function(t,i,r){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,i,r,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(n.lineString(s[a],t.properties),i,r,a))return!1;break}}}))}function _(t,e,i){var n=i;return m(t,(function(t,r,o,s){n=0===r&&void 0===i?t:e(n,t,r,o,s)})),n}function v(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var i,r=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,h=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),h=h||t.features[r].properties,i=t.features[r].geometry;break;case"Feature":h=h||t.properties,i=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=t;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var l=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),n.lineString([l[a],l[a+1]],h,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a-1),n.lineString([l[s][a],l[s][a+1]],h,e);case"MultiLineString":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),n.lineString([l[o][a],l[o][a+1]],h,e);case"MultiPolygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),a<0&&(a=l[o][s].length-a-1),n.lineString([l[o][s][a],l[o][s][a+1]],h,e)}throw new Error("geojson is invalid")}function x(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var i,r=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,h=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),h=h||t.features[r].properties,i=t.features[r].geometry;break;case"Feature":h=h||t.properties,i=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=t;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var l=i.coordinates;switch(i.type){case"Point":return n.point(l,h,e);case"MultiPoint":return o<0&&(o=l.length+o),n.point(l[o],h,e);case"LineString":return a<0&&(a=l.length+a),n.point(l[a],h,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a),n.point(l[s][a],h,e);case"MultiLineString":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),n.point(l[o][a],h,e);case"MultiPolygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),a<0&&(a=l[o][s].length-a),n.point(l[o][s][a],h,e)}throw new Error("geojson is invalid")}e.coordAll=u,e.coordEach=r,e.coordReduce=o,e.featureEach=h,e.featureReduce=l,e.findPoint=x,e.findSegment=v,e.flattenEach=f,e.flattenReduce=d,e.geomEach=c,e.geomReduce=p,e.lineEach=m,e.lineReduce=_,e.propEach=s,e.propReduce=a,e.segmentEach=g,e.segmentReduce=y},4362:function(t,e,i){"use strict";var n=i(5072),r=i(6610),o=r(n("String.prototype.indexOf"));t.exports=function(t,e){var i=n(t,!!e);return"function"===typeof i&&o(t,".prototype.")>-1?r(i):i}},6610:function(t,e,i){"use strict";var n=i(3682),r=i(5072),o=i(8460),s=i(9340),a=r("%Function.prototype.apply%"),h=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||n.call(h,a),u=i(4924),c=r("%Math.max%");t.exports=function(t){if("function"!==typeof t)throw new s("a function is required");var e=l(n,h,arguments);return o(e,1+c(0,t.length-(arguments.length-1)),!0)};var p=function(){return l(n,a,arguments)};u?u(t.exports,"apply",{value:p}):t.exports.apply=p},4801:function(t,e,i){"use strict";i(4114);var n=i(169),r=i(5915),o=i(9743),s=i(5936).orient2d;function a(t,e,i){e=Math.max(0,void 0===e?2:e),i=i||0;var r=y(t),o=new n(16);o.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},o.compareMinX=function(t,e){return t[0]-e[0]},o.compareMinY=function(t,e){return t[1]-e[1]},o.load(t);for(var s,a=[],l=0;l<r.length;l++){var u=r[l];o.remove(u),s=m(u,s),a.push(s)}var c=new n(16);for(l=0;l<a.length;l++)c.insert(g(a[l]));var p=e*e,f=i*i;while(a.length){var d=a.shift(),v=d.p,x=d.next.p,b=_(v,x);if(!(b<f)){var w=b/p;u=h(o,d.prev.p,v,x,d.next.next.p,w,c),u&&Math.min(_(u,v),_(u,x))<=w&&(a.push(d),a.push(m(u,d)),o.remove(u),c.remove(d),c.insert(g(d)),c.insert(g(d.next)))}}d=s;var M=[];do{M.push(d.p),d=d.next}while(d!==s);return M.push(d.p),M}function h(t,e,i,n,o,s,a){var h=new r([],l),c=t.data;while(c){for(var f=0;f<c.children.length;f++){var d=c.children[f],g=c.leaf?v(d,i,n):u(i,n,d);g>s||h.push({node:d,dist:g})}while(h.length&&!h.peek().node.children){var y=h.pop(),m=y.node,_=v(m,e,i),x=v(m,n,o);if(y.dist<_&&y.dist<x&&p(i,m,a)&&p(n,m,a))return m}c=h.pop(),c&&(c=c.node)}return null}function l(t,e){return t.dist-e.dist}function u(t,e,i){if(c(t,i)||c(e,i))return 0;var n=x(t[0],t[1],e[0],e[1],i.minX,i.minY,i.maxX,i.minY);if(0===n)return 0;var r=x(t[0],t[1],e[0],e[1],i.minX,i.minY,i.minX,i.maxY);if(0===r)return 0;var o=x(t[0],t[1],e[0],e[1],i.maxX,i.minY,i.maxX,i.maxY);if(0===o)return 0;var s=x(t[0],t[1],e[0],e[1],i.minX,i.maxY,i.maxX,i.maxY);return 0===s?0:Math.min(n,r,o,s)}function c(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function p(t,e,i){for(var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=i.search({minX:n,minY:r,maxX:o,maxY:s}),h=0;h<a.length;h++)if(d(a[h].p,a[h].next.p,t,e))return!1;return!0}function f(t,e,i){return s(t[0],t[1],e[0],e[1],i[0],i[1])}function d(t,e,i,n){return t!==n&&e!==i&&f(t,e,i)>0!==f(t,e,n)>0&&f(i,n,t)>0!==f(i,n,e)>0}function g(t){var e=t.p,i=t.next.p;return t.minX=Math.min(e[0],i[0]),t.minY=Math.min(e[1],i[1]),t.maxX=Math.max(e[0],i[0]),t.maxY=Math.max(e[1],i[1]),t}function y(t){for(var e=t[0],i=t[0],n=t[0],r=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>n[0]&&(n=a),a[1]<i[1]&&(i=a),a[1]>r[1]&&(r=a)}var h=[e,i,n,r],l=h.slice();for(s=0;s<t.length;s++)o(t[s],h)||l.push(t[s]);return w(l)}function m(t,e){var i={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(i.next=e.next,i.prev=e,e.next.prev=i,e.next=i):(i.prev=i,i.next=i),i}function _(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function v(t,e,i){var n=e[0],r=e[1],o=i[0]-n,s=i[1]-r;if(0!==o||0!==s){var a=((t[0]-n)*o+(t[1]-r)*s)/(o*o+s*s);a>1?(n=i[0],r=i[1]):a>0&&(n+=o*a,r+=s*a)}return o=t[0]-n,s=t[1]-r,o*o+s*s}function x(t,e,i,n,r,o,s,a){var h,l,u,c,p=i-t,f=n-e,d=s-r,g=a-o,y=t-r,m=e-o,_=p*p+f*f,v=p*d+f*g,x=d*d+g*g,b=p*y+f*m,w=d*y+g*m,M=_*x-v*v,E=M,S=M;0===M?(l=0,E=1,c=w,S=x):(l=v*w-x*b,c=_*w-v*b,l<0?(l=0,c=w,S=x):l>E&&(l=E,c=w+v,S=x)),c<0?(c=0,-b<0?l=0:-b>_?l=E:(l=-b,E=_)):c>S&&(c=S,-b+v<0?l=0:-b+v>_?l=E:(l=-b+v,E=_)),h=0===l?0:l/E,u=0===c?0:c/S;var C=(1-h)*t+h*i,I=(1-h)*e+h*n,P=(1-u)*r+u*s,L=(1-u)*o+u*a,O=P-C,N=L-I;return O*O+N*N}function b(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function w(t){t.sort(b);for(var e=[],i=0;i<t.length;i++){while(e.length>=2&&f(e[e.length-2],e[e.length-1],t[i])<=0)e.pop();e.push(t[i])}for(var n=[],r=t.length-1;r>=0;r--){while(n.length>=2&&f(n[n.length-2],n[n.length-1],t[r])<=0)n.pop();n.push(t[r])}return n.pop(),e.pop(),e.concat(n)}r.default&&(r=r.default),t.exports=a,t.exports["default"]=a},169:function(t,e,i){i(4114),function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,n,r,o,s){!function t(i,n,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,h=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(h-a/2<0?-1:1),p=Math.max(r,Math.floor(n-h*u/a+c)),f=Math.min(o,Math.floor(n+(a-h)*u/a+c));t(i,n,p,f,s)}var d=i[n],g=r,y=o;for(e(i,r,n),s(i[o],d)>0&&e(i,r,o);g<y;){for(e(i,g,y),g++,y--;s(i[g],d)<0;)g++;for(;s(i[y],d)>0;)y--}0===s(i[r],d)?e(i,r,y):e(i,++y,o),y<=n&&(r=y+1),n<=y&&(o=y-1)}}(t,n,r||0,o||t.length-1,s||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var s=t.children[o];a(r,t.leaf?n(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,i,n,r,o){for(var s=[i,n];s.length;)if(!((n=s.pop())-(i=s.pop())<=r)){var a=i+Math.ceil((n-i)/r/2)*r;t(e,a,i,n,o),s.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?n(s):s;f(t,a)&&(e.leaf?i.push(s):p(t,a)?this._all(s,i):r.push(s))}e=r.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=e.leaf?this.toBBox(r):r;if(f(t,o)){if(e.leaf||p(t,o))return!0;i.push(r)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,o,s=this.data,a=this.toBBox(t),h=[],l=[];s||h.length;){if(s||(s=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),s.leaf){var u=r(t,s.children,e);if(-1!==u)return s.children.splice(u,1),h.push(s),this._condense(h),this}o||s.leaf||!p(s,a)?n?(i++,s=n.children[i],o=!1):s=null:(h.push(s),l.push(i),i=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var r,s=i-e+1,a=this._maxEntries;if(s<=a)return o(r=d(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=d([])).leaf=!1,r.height=n;var h=Math.ceil(s/a),l=h*Math.ceil(Math.sqrt(a));g(t,e,i,l,this.compareMinX);for(var u=e;u<=i;u+=l){var c=Math.min(u+l-1,i);g(t,u,c,h,this.compareMinY);for(var p=u;p<=c;p+=h){var f=Math.min(p+h-1,c);r.children.push(this._build(t,p,f,n-1))}}return o(r,this.toBBox),r},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var h=e.children[a],l=u(h),c=(p=t,f=h,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);c<o?(o=c,r=l<r?l:r,s=h):c===o&&l<r&&(r=l,s=h)}e=s||e.children[0]}var p,f;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),a(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=d(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,r,o,a,h,l,c,p=1/0,f=1/0,d=e;d<=i-e;d++){var g=s(t,0,d,this.toBBox),y=s(t,d,i,this.toBBox),m=(r=g,o=y,a=void 0,h=void 0,l=void 0,c=void 0,a=Math.max(r.minX,o.minX),h=Math.max(r.minY,o.minY),l=Math.min(r.maxX,o.maxX),c=Math.min(r.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,c-h)),_=u(g)+u(y);m<p?(p=m,n=d,f=_<f?_:f):m===p&&_<f&&(f=_,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var r=this.toBBox,o=s(t,0,e,r),h=s(t,i-e,i,r),l=c(o)+c(h),u=e;u<i-e;u++){var p=t.children[u];a(o,t.leaf?r(p):p),l+=c(o)}for(var f=i-e-1;f>=e;f--){var d=t.children[f];a(h,t.leaf?r(d):d),l+=c(h)}return l},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}))},3433:function(t,e,i){var n=i(396),r=i(7323),o=i(4080),s=i(4896),a=i(4834),h=i(8247),l=Date.prototype.getTime;function u(t,e,i){var n=i||{};return!!(n.strict?o(t,e):t===e)||(!t||!e||"object"!==typeof t&&"object"!==typeof e?n.strict?o(t,e):t==e:f(t,e,n))}function c(t){return null===t||void 0===t}function p(t){return!(!t||"object"!==typeof t||"number"!==typeof t.length)&&("function"===typeof t.copy&&"function"===typeof t.slice&&!(t.length>0&&"number"!==typeof t[0]))}function f(t,e,i){var o,f;if(typeof t!==typeof e)return!1;if(c(t)||c(e))return!1;if(t.prototype!==e.prototype)return!1;if(r(t)!==r(e))return!1;var d=s(t),g=s(e);if(d!==g)return!1;if(d||g)return t.source===e.source&&a(t)===a(e);if(h(t)&&h(e))return l.call(t)===l.call(e);var y=p(t),m=p(e);if(y!==m)return!1;if(y||m){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!==typeof e)return!1;try{var _=n(t),v=n(e)}catch(x){return!1}if(_.length!==v.length)return!1;for(_.sort(),v.sort(),o=_.length-1;o>=0;o--)if(_[o]!=v[o])return!1;for(o=_.length-1;o>=0;o--)if(f=_[o],!u(t[f],e[f],i))return!1;return!0}t.exports=u},7774:function(t,e,i){"use strict";var n=i(4924),r=i(4195),o=i(9340),s=i(9576);t.exports=function(t,e,i){if(!t||"object"!==typeof t&&"function"!==typeof t)throw new o("`obj` must be an object or a function`");if("string"!==typeof e&&"symbol"!==typeof e)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],c=!!s&&s(t,e);if(n)n(t,e,{configurable:null===l&&c?c.configurable:!l,enumerable:null===a&&c?c.enumerable:!a,value:i,writable:null===h&&c?c.writable:!h});else{if(!u&&(a||h||l))throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=i}}},8321:function(t,e,i){"use strict";var n=i(396),r="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=i(7774),h=function(t){return"function"===typeof t&&"[object Function]"===o.call(t)},l=i(1719)(),u=function(t,e,i,n){if(e in t)if(!0===n){if(t[e]===i)return}else if(!h(n)||!n())return;l?a(t,e,i,!0):a(t,e,i)},c=function(t,e){var i=arguments.length>2?arguments[2]:{},o=n(e);r&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)u(t,o[a],e[o[a]],i[o[a]])};c.supportsDescriptors=!!l,t.exports=c},3864:function(t,e,i){function n(t,e,i,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,i,n)}i(4114),n.prototype.run=function(t,e,i,n){this._init(t,e,i,n);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},n.prototype._init=function(t,e,i,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),i&&(this.minPts=i),n&&(this.distance=n)},n.prototype._expandCluster=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if(1!==this._visited[n]){this._visited[n]=1;var r=this._regionQuery(n);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[n]&&this._addToCluster(n,t)}},n.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},n.prototype._regionQuery=function(t){for(var e=[],i=0;i<this._datasetLength;i++){var n=this.distance(this.dataset[t],this.dataset[i]);n<this.epsilon&&e.push(i)}return e},n.prototype._mergeArrays=function(t,e){for(var i=e.length,n=0;n<i;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}return t},n.prototype._euclideanDistance=function(t,e){var i=0,n=Math.min(t.length,e.length);while(n--)i+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(i)},t.exports&&(t.exports=n)},4918:function(t,e,i){function n(t,e,i){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,i)}i(4114),n.prototype.init=function(t,e,i){this.assignments=[],this.centroids=[],"undefined"!==typeof t&&(this.dataset=t),"undefined"!==typeof e&&(this.k=e),"undefined"!==typeof i&&(this.distance=i)},n.prototype.run=function(t,e){this.init(t,e);for(var i=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();var r=!0;while(r){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(u),a=0,h=0;h<u;h++)s[h]=0;for(var l=0;l<i;l++){var u=this.dataset[l].length;if(o===this.assignments[l]){for(h=0;h<u;h++)s[h]+=this.dataset[l][h];a++}}if(a>0){for(h=0;h<u;h++)s[h]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},n.prototype.randomCentroid=function(){var t,e,i=this.dataset.length-1;do{e=Math.round(Math.random()*i),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},n.prototype.assign=function(){for(var t,e=!1,i=this.dataset.length,n=0;n<i;n++)t=this.argmin(this.dataset[n],this.centroids,this.distance),t!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},n.prototype.getClusters=function(){for(var t,e=new Array(this.k),i=0;i<this.assignments.length;i++)t=this.assignments[i],"undefined"===typeof e[t]&&(e[t]=[]),e[t].push(i);return e},n.prototype.argmin=function(t,e,i){for(var n,r=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)n=i(t,e[a]),n<r&&(r=n,o=a);return o},n.prototype.distance=function(t,e){var i=0,n=Math.min(t.length,e.length);while(n--){var r=t[n]-e[n];i+=r*r}return Math.sqrt(i)},t.exports&&(t.exports=n)},7765:function(t,e,i){if(i(4114),i(8992),i(3949),t.exports)var n=i(2272);function r(t,e,i,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,i,n)}r.prototype.run=function(t,e,i,r){this._init(t,e,i,r);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var h=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,h),this._expandCluster(a,h))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var t=[],e=0,i=this._orderedList.length;e<i;e++){var n=this._orderedList[e],r=this._reachability[n];t.push([n,r])}return t},r.prototype._init=function(t,e,i,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),i&&(this.minPts=i),n&&(this.distance=n)},r.prototype._updateQueue=function(t,e,i){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===n._processed[e]){var r=n.distance(n.dataset[t],n.dataset[e]),o=Math.max(n._coreDistance,r);void 0===n._reachability[e]?(n._reachability[e]=o,i.insert(e,o)):o<n._reachability[e]&&(n._reachability[e]=o,i.remove(e),i.insert(e,o))}}))},r.prototype._expandCluster=function(t,e){for(var i=e.getElements(),n=0,r=i.length;n<r;n++){var o=i[n];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},r.prototype._distanceToCore=function(t){for(var e=this.epsilon,i=0;i<e;i++){var n=this._regionQuery(t,i);if(n.length>=this.minPts)return i}},r.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var i=[],n=0,r=this.dataset.length;n<r;n++)this.distance(this.dataset[t],this.dataset[n])<e&&i.push(n);return i},r.prototype._euclideanDistance=function(t,e){var i=0,n=Math.min(t.length,e.length);while(n--)i+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(i)},t.exports&&(t.exports=r)},2272:function(t,e,i){function n(t,e,i){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,i)}i(4114),i(8992),i(3949),n.prototype.insert=function(t,e){var i=this._queue.length,n=i;while(n--){var r=this._priorities[n];"desc"===this._sorting?e>r&&(i=n):e<r&&(i=n)}this._insertAt(t,e,i)},n.prototype.remove=function(t){var e=this._queue.length;while(e--){var i=this._queue[e];if(t===i){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},n.prototype.forEach=function(t){this._queue.forEach(t)},n.prototype.getElements=function(){return this._queue},n.prototype.getElementPriority=function(t){return this._priorities[t]},n.prototype.getPriorities=function(){return this._priorities},n.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,i=this._queue.length;e<i;e++)t.push([this._queue[e],this._priorities[e]]);return t},n.prototype._init=function(t,e,i){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}i&&(this._sorting=i)},n.prototype._insertAt=function(t,e,i){this._queue.length===i?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(i,0,t),this._priorities.splice(i,0,e))},t.exports&&(t.exports=n)},5439:function(t,e,i){t.exports&&(t.exports={DBSCAN:i(3864),KMEANS:i(4918),OPTICS:i(7765),PriorityQueue:i(2272)})},6583:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,o,a,h,l,u,p,f=e&&e.length,d=f?e[0]*i:t.length,g=r(t,0,d,i,!0),y=[];if(!g||g.next===g.prev)return y;if(f&&(g=c(t,e,g,i)),t.length>80*i){n=a=t[0],o=h=t[1];for(var m=i;m<d;m+=i)l=t[m],u=t[m+1],l<n&&(n=l),u<o&&(o=u),l>a&&(a=l),u>h&&(h=u);p=Math.max(a-n,h-o),p=0!==p?32767/p:0}return s(g,y,i,n,o,p,0),y}function r(t,e,i,n,r){var o,s;if(r===R(t,e,i,n)>0)for(o=e;o<i;o+=n)s=N(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=N(o,t[o],t[o+1],s);return s&&M(s,s.next)&&(T(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!M(n,n.next)&&0!==w(n.prev,n,n.next))n=n.next;else{if(T(n),n=e=n.prev,n===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,r,c,p){if(t){!p&&c&&y(t,n,r,c);var f,d,g=t;while(t.prev!==t.next)if(f=t.prev,d=t.next,c?h(t,n,r,c):a(t))e.push(f.i/i|0),e.push(t.i/i|0),e.push(d.i/i|0),T(t),t=d.next,g=d.next;else if(t=d,t===g){p?1===p?(t=l(o(t),e,i),s(t,e,i,n,r,c,2)):2===p&&u(t,e,i,n,r,c):s(o(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(w(e,i,n)>=0)return!1;var r=e.x,o=i.x,s=n.x,a=e.y,h=i.y,l=n.y,u=r<o?r<s?r:s:o<s?o:s,c=a<h?a<l?a:l:h<l?h:l,p=r>o?r>s?r:s:o>s?o:s,f=a>h?a>l?a:l:h>l?h:l,d=n.next;while(d!==e){if(d.x>=u&&d.x<=p&&d.y>=c&&d.y<=f&&x(r,a,o,h,s,l,d.x,d.y)&&w(d.prev,d,d.next)>=0)return!1;d=d.next}return!0}function h(t,e,i,n){var r=t.prev,o=t,s=t.next;if(w(r,o,s)>=0)return!1;var a=r.x,h=o.x,l=s.x,u=r.y,c=o.y,p=s.y,f=a<h?a<l?a:l:h<l?h:l,d=u<c?u<p?u:p:c<p?c:p,g=a>h?a>l?a:l:h>l?h:l,y=u>c?u>p?u:p:c>p?c:p,m=_(f,d,e,i,n),v=_(g,y,e,i,n),b=t.prevZ,M=t.nextZ;while(b&&b.z>=m&&M&&M.z<=v){if(b.x>=f&&b.x<=g&&b.y>=d&&b.y<=y&&b!==r&&b!==s&&x(a,u,h,c,l,p,b.x,b.y)&&w(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,M.x>=f&&M.x<=g&&M.y>=d&&M.y<=y&&M!==r&&M!==s&&x(a,u,h,c,l,p,M.x,M.y)&&w(M.prev,M,M.next)>=0)return!1;M=M.nextZ}while(b&&b.z>=m){if(b.x>=f&&b.x<=g&&b.y>=d&&b.y<=y&&b!==r&&b!==s&&x(a,u,h,c,l,p,b.x,b.y)&&w(b.prev,b,b.next)>=0)return!1;b=b.prevZ}while(M&&M.z<=v){if(M.x>=f&&M.x<=g&&M.y>=d&&M.y<=y&&M!==r&&M!==s&&x(a,u,h,c,l,p,M.x,M.y)&&w(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function l(t,e,i){var n=t;do{var r=n.prev,s=n.next.next;!M(r,s)&&E(r,n,n.next,s)&&P(r,s)&&P(s,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(s.i/i|0),T(n),T(n.next),n=t=s),n=n.next}while(n!==t);return o(n)}function u(t,e,i,n,r,a){var h=t;do{var l=h.next.next;while(l!==h.prev){if(h.i!==l.i&&b(h,l)){var u=O(h,l);return h=o(h,h.next),u=o(u,u.next),s(h,e,i,n,r,a,0),void s(u,e,i,n,r,a,0)}l=l.next}h=h.next}while(h!==t)}function c(t,e,i,n){var o,s,a,h,l,u=[];for(o=0,s=e.length;o<s;o++)a=e[o]*n,h=o<s-1?e[o+1]*n:t.length,l=r(t,a,h,n,!1),l===l.next&&(l.steiner=!0),u.push(v(l));for(u.sort(p),o=0;o<u.length;o++)i=f(u[o],i);return i}function p(t,e){return t.x-e.x}function f(t,e){var i=d(t,e);if(!i)return e;var n=O(i,t);return o(n,n.next),o(i,i.next)}function d(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s&&(s=a,i=n.x<n.next.x?n:n.next,a===r))return i}n=n.next}while(n!==e);if(!i)return null;var h,l=i,u=i.x,c=i.y,p=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&x(o<c?r:s,o,u,c,o<c?s:r,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(r-n.x),P(n,t)&&(h<p||h===p&&(n.x>i.x||n.x===i.x&&g(i,n)))&&(i=n,p=h)),n=n.next}while(n!==l);return i}function g(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function y(t,e,i,n){var r=t;do{0===r.z&&(r.z=_(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,i,n,r,o,s,a,h,l=1;do{i=t,t=null,o=null,s=0;while(i){for(s++,n=i,a=0,e=0;e<l;e++)if(a++,n=n.nextZ,!n)break;h=l;while(a>0||h>0&&n)0!==a&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,h--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,l*=2}while(s>1);return t}function _(t,e,i,n,r){return t=(t-i)*r|0,e=(e-n)*r|0,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function v(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function x(t,e,i,n,r,o,s,a){return(r-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(n-a)>=(i-s)*(e-a)&&(i-s)*(o-a)>=(r-s)*(n-a)}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!I(t,e)&&(P(t,e)&&P(e,t)&&L(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||M(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function M(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,i,n){var r=C(w(t,e,i)),o=C(w(t,e,n)),s=C(w(i,n,t)),a=C(w(i,n,e));return r!==o&&s!==a||(!(0!==r||!S(t,i,e))||(!(0!==o||!S(t,n,e))||(!(0!==s||!S(i,t,n))||!(0!==a||!S(i,e,n)))))}function S(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function C(t){return t>0?1:t<0?-1:0}function I(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&E(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function P(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function L(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!==i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}function O(t,e){var i=new A(t.i,t.x,t.y),n=new A(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function N(t,e,i,n){var r=new A(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}i(4114),t.exports=n,t.exports["default"]=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(R(t,0,o,i));if(r)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,u=a<h-1?e[a+1]*i:t.length;s-=Math.abs(R(t,l,u,i))}var c=0;for(a=0;a<n.length;a+=3){var p=n[a]*i,f=n[a+1]*i,d=n[a+2]*i;c+=Math.abs((t[p]-t[d])*(t[f+1]-t[p+1])-(t[p]-t[f])*(t[d+1]-t[p+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},4924:function(t,e,i){"use strict";var n=i(5072),r=n("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(o){r=!1}t.exports=r},1334:function(t){"use strict";t.exports=EvalError},4302:function(t){"use strict";t.exports=Error},5619:function(t){"use strict";t.exports=RangeError},4671:function(t){"use strict";t.exports=ReferenceError},4195:function(t){"use strict";t.exports=SyntaxError},9340:function(t){"use strict";t.exports=TypeError},1868:function(t){"use strict";t.exports=URIError},2602:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",i=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(t,e){for(var i=[],n=0;n<t.length;n+=1)i[n]=t[n];for(var r=0;r<e.length;r+=1)i[r+t.length]=e[r];return i},s=function(t,e){for(var i=[],n=e||0,r=0;n<t.length;n+=1,r+=1)i[r]=t[n];return i},a=function(t,e){for(var i="",n=0;n<t.length;n+=1)i+=t[n],n+1<t.length&&(i+=e);return i};t.exports=function(t){var h=this;if("function"!==typeof h||i.apply(h)!==r)throw new TypeError(e+h);for(var l,u=s(arguments,1),c=function(){if(this instanceof l){var e=h.apply(this,o(u,arguments));return Object(e)===e?e:this}return h.apply(t,o(u,arguments))},p=n(0,h.length-u.length),f=[],d=0;d<p;d++)f[d]="$"+d;if(l=Function("binder","return function ("+a(f,",")+"){ return binder.apply(this,arguments); }")(c),h.prototype){var g=function(){};g.prototype=h.prototype,l.prototype=new g,g.prototype=null}return l}},3682:function(t,e,i){"use strict";var n=i(2602);t.exports=Function.prototype.bind||n},6081:function(t){"use strict";var e=function(){return"string"===typeof function(){}.name},i=Object.getOwnPropertyDescriptor;if(i)try{i([],"length")}catch(r){i=null}e.functionsHaveConfigurableNames=function(){if(!e()||!i)return!1;var t=i((function(){}),"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"===typeof n&&""!==function(){}.bind().name},t.exports=e},9756:function(t,e,i){i(8992),i(3215),i(1454),i(7550);var n=i(3433),r=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function o(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return n(t,e,{strict:!0})}r.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var i=this,n=o(t),r=o(e);return n.every((function(t){return this.some((function(e){return i.compare(t,e)}))}),r)}}return!1},r.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i].toFixed(this.precision)!==e[i].toFixed(this.precision))return!1;return!0},r.prototype.compareLine=function(t,e,i,n){if(!s(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r),o)){var a=this.compareCoord(r[i],o[i]);return this.direction||a?this.comparePath(r,o):!!this.compareCoord(r[i],o[o.length-(1+i)])&&this.comparePath(r.slice().reverse(),o)}},r.prototype.fixStartIndex=function(t,e){for(var i,n=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){n=r;break}return n>=0&&(i=[].concat(t.slice(n,t.length),t.slice(1,n+1))),i},r.prototype.comparePath=function(t,e){var i=this;return t.every((function(t,e){return i.compareCoord(t,this[e])}),e)},r.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var i=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),r=this;return i.every((function(t){return this.some((function(e){return r.compareLine(t,e,1,!0)}))}),n)}return!1},r.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},r.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},r.prototype.removePseudo=function(t){return t},t.exports=r},6928:function(t,e,i){i(4114),i(8992),i(3949);var n=i(1542),r=i(2846),o=i(4246),s=i(5808).A,a=o.featureEach,h=(o.coordEach,r.polygon,r.featureCollection);function l(t){var e=new n(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){var e=n.prototype.search.call(this,this.toBBox(t));return h(e)},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=n.prototype.all.call(this);return h(t)},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports["default"]=l},1542:function(t,e,i){i(4114),function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,n,r,o,s){!function t(i,n,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,h=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(h-a/2<0?-1:1),p=Math.max(r,Math.floor(n-h*u/a+c)),f=Math.min(o,Math.floor(n+(a-h)*u/a+c));t(i,n,p,f,s)}var d=i[n],g=r,y=o;for(e(i,r,n),s(i[o],d)>0&&e(i,r,o);g<y;){for(e(i,g,y),g++,y--;s(i[g],d)<0;)g++;for(;s(i[y],d)>0;)y--}0===s(i[r],d)?e(i,r,y):e(i,++y,o),y<=n&&(r=y+1),n<=y&&(o=y-1)}}(t,n,r||0,o||t.length-1,s||i)}function e(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function i(t,e){return t<e?-1:t>e?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=e;o<i;o++){var s=t.children[o];a(r,t.leaf?n(s):s)}return r}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,i,n,r,o){for(var s=[i,n];s.length;)if(!((n=s.pop())-(i=s.pop())<=r)){var a=i+Math.ceil((n-i)/r/2)*r;t(e,a,i,n,o),s.push(i,a,a,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var e=this.data,i=[];if(!f(t,e))return i;for(var n=this.toBBox,r=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?n(s):s;f(t,a)&&(e.leaf?i.push(s):p(t,a)?this._all(s,i):r.push(s))}e=r.pop()}return i},n.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var i=[];e;){for(var n=0;n<e.children.length;n++){var r=e.children[n],o=e.leaf?this.toBBox(r):r;if(f(t,o)){if(e.leaf||p(t,o))return!0;i.push(r)}}e=i.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var n=this.data;this.data=i,i=n}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(t,e){if(!t)return this;for(var i,n,o,s=this.data,a=this.toBBox(t),h=[],l=[];s||h.length;){if(s||(s=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),s.leaf){var u=r(t,s.children,e);if(-1!==u)return s.children.splice(u,1),h.push(s),this._condense(h),this}o||s.leaf||!p(s,a)?n?(i++,s=n.children[i],o=!1):s=null:(h.push(s),l.push(i),i=0,n=s,s=s.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,e){return t.minX-e.minX},n.prototype.compareMinY=function(t,e){return t.minY-e.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},n.prototype._build=function(t,e,i,n){var r,s=i-e+1,a=this._maxEntries;if(s<=a)return o(r=d(t.slice(e,i+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,n-1))),(r=d([])).leaf=!1,r.height=n;var h=Math.ceil(s/a),l=h*Math.ceil(Math.sqrt(a));g(t,e,i,l,this.compareMinX);for(var u=e;u<=i;u+=l){var c=Math.min(u+l-1,i);g(t,u,c,h,this.compareMinY);for(var p=u;p<=c;p+=h){var f=Math.min(p+h-1,c);r.children.push(this._build(t,p,f,n-1))}}return o(r,this.toBBox),r},n.prototype._chooseSubtree=function(t,e,i,n){for(;n.push(e),!e.leaf&&n.length-1!==i;){for(var r=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var h=e.children[a],l=u(h),c=(p=t,f=h,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);c<o?(o=c,r=l<r?l:r,s=h):c===o&&l<r&&(r=l,s=h)}e=s||e.children[0]}var p,f;return e},n.prototype._insert=function(t,e,i){var n=i?t:this.toBBox(t),r=[],o=this._chooseSubtree(n,this.data,e,r);for(o.children.push(t),a(o,n);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(n,r,e)},n.prototype._split=function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var s=this._chooseSplitIndex(i,r,n),a=d(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},n.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,e,i){for(var n,r,o,a,h,l,c,p=1/0,f=1/0,d=e;d<=i-e;d++){var g=s(t,0,d,this.toBBox),y=s(t,d,i,this.toBBox),m=(r=g,o=y,a=void 0,h=void 0,l=void 0,c=void 0,a=Math.max(r.minX,o.minX),h=Math.max(r.minY,o.minY),l=Math.min(r.maxX,o.maxX),c=Math.min(r.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,c-h)),_=u(g)+u(y);m<p?(p=m,n=d,f=_<f?_:f):m===p&&_<f&&(f=_,n=d)}return n||i-e},n.prototype._chooseSplitAxis=function(t,e,i){var n=t.leaf?this.compareMinX:h,r=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,r)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,e,i,n){t.children.sort(n);for(var r=this.toBBox,o=s(t,0,e,r),h=s(t,i-e,i,r),l=c(o)+c(h),u=e;u<i-e;u++){var p=t.children[u];a(o,t.leaf?r(p):p),l+=c(o)}for(var f=i-e-1;f>=e;f--){var d=t.children[f];a(h,t.leaf?r(d):d),l+=c(h)}return l},n.prototype._adjustParentBBoxes=function(t,e,i){for(var n=i;n>=0;n--)a(e[n],t)},n.prototype._condense=function(t){for(var e=t.length-1,i=void 0;e>=0;e--)0===t[e].children.length?e>0?(i=t[e-1].children).splice(i.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},n}))},5072:function(t,e,i){"use strict";var n;i(6573),i(8100),i(7936),i(7642),i(8004),i(3853),i(5876),i(2475),i(5024),i(1698),i(7467),i(4732),i(9577);var r=i(4302),o=i(1334),s=i(5619),a=i(4671),h=i(4195),l=i(9340),u=i(1868),c=Function,p=function(t){try{return c('"use strict"; return ('+t+").constructor;")()}catch(e){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(k){f=null}var d=function(){throw new l},g=f?function(){try{return d}catch(t){try{return f(arguments,"callee").get}catch(e){return d}}}():d,y=i(8374)(),m=i(1333)(),_=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),v={},x="undefined"!==typeof Uint8Array&&_?_(Uint8Array):n,b={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":y&&_?_([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":v,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&_?_(_([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&y&&_?_((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&y&&_?_((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&_?_(""[Symbol.iterator]()):n,"%Symbol%":y?Symbol:n,"%SyntaxError%":h,"%ThrowTypeError%":g,"%TypedArray%":x,"%TypeError%":l,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};if(_)try{null.error}catch(k){var w=_(_(k));b["%Error.prototype%"]=w}var M=function t(e){var i;if("%AsyncFunction%"===e)i=p("async function () {}");else if("%GeneratorFunction%"===e)i=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)i=p("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&_&&(i=_(r.prototype))}return b[e]=i,i},E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=i(3682),C=i(1866),I=S.call(Function.call,Array.prototype.concat),P=S.call(Function.apply,Array.prototype.splice),L=S.call(Function.call,String.prototype.replace),O=S.call(Function.call,String.prototype.slice),N=S.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,R=function(t){var e=O(t,0,1),i=O(t,-1);if("%"===e&&"%"!==i)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==e)throw new h("invalid intrinsic syntax, expected opening `%`");var n=[];return L(t,T,(function(t,e,i,r){n[n.length]=i?L(r,A,"$1"):e||t})),n},D=function(t,e){var i,n=t;if(C(E,n)&&(i=E[n],n="%"+i[0]+"%"),C(b,n)){var r=b[n];if(r===v&&(r=M(n)),"undefined"===typeof r&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new h("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!==typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,t))throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=R(t),n=i.length>0?i[0]:"",r=D("%"+n+"%",e),o=r.name,s=r.value,a=!1,u=r.alias;u&&(n=u[0],P(i,I([0,1],u)));for(var c=1,p=!0;c<i.length;c+=1){var d=i[c],g=O(d,0,1),y=O(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new h("property names with quotes must have matching quotes");if("constructor"!==d&&p||(a=!0),n+="."+d,o="%"+n+"%",C(b,o))s=b[o];else if(null!=s){if(!(d in s)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(f&&c+1>=i.length){var m=f(s,d);p=!!m,s=p&&"get"in m&&!("originalValue"in m.get)?m.get:s[d]}else p=C(s,d),s=s[d];p&&!a&&(b[o]=s)}}return s}},9576:function(t,e,i){"use strict";var n=i(5072),r=n("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(o){r=null}t.exports=r},1719:function(t,e,i){"use strict";var n=i(4924),r=function(){return!!n};r.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=r},1333:function(t){"use strict";var e={__proto__:null,foo:{}},i=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof i)}},8374:function(t,e,i){"use strict";var n="undefined"!==typeof Symbol&&Symbol,r=i(7724);t.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&r())))}},7724:function(t){"use strict";t.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),i=Object(e);if("string"===typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;var n=42;for(e in t[e]=n,t)return!1;if("function"===typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(o.value!==n||!0!==o.enumerable)return!1}return!0}},8441:function(t,e,i){"use strict";var n=i(7724);t.exports=function(){return n()&&!!Symbol.toStringTag}},1866:function(t,e,i){"use strict";var n=Function.prototype.call,r=Object.prototype.hasOwnProperty,o=i(3682);t.exports=o.call(n,r)},7323:function(t,e,i){"use strict";var n=i(8441)(),r=i(4362),o=r("Object.prototype.toString"),s=function(t){return!(n&&t&&"object"===typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!s(t)||null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},h=function(){return s(arguments)}();s.isLegacyArguments=a,t.exports=h?s:a},8247:function(t,e,i){"use strict";var n=Date.prototype.getDay,r=function(t){try{return n.call(t),!0}catch(e){return!1}},o=Object.prototype.toString,s="[object Date]",a=i(8441)();t.exports=function(t){return"object"===typeof t&&null!==t&&(a?r(t):o.call(t)===s)}},4896:function(t,e,i){"use strict";var n,r,o,s,a=i(4362),h=i(8441)();if(h){n=a("Object.prototype.hasOwnProperty"),r=a("RegExp.prototype.exec"),o={};var l=function(){throw o};s={toString:l,valueOf:l},"symbol"===typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var u=a("Object.prototype.toString"),c=Object.getOwnPropertyDescriptor,p="[object RegExp]";t.exports=h?function(t){if(!t||"object"!==typeof t)return!1;var e=c(t,"lastIndex"),i=e&&n(e,"value");if(!i)return!1;try{r(t,s)}catch(a){return a===o}}:function(t){return!(!t||"object"!==typeof t&&"function"!==typeof t)&&u(t)===p}},6886:function(t,e,i){i(4114),i(6573),i(8100),i(7936),i(7467),i(4732),i(9577),i(8992),i(4520),i(1454),i(7550),
/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
function(t,i){i(e)}(0,(function(t){"use strict";var e="1.9.4";function i(t){var e,i,n,r;for(i=1,n=arguments.length;i<n;i++)for(e in r=arguments[i],r)t[e]=r[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var o=0;function s(t){return"_leaflet_id"in t||(t["_leaflet_id"]=++o),t._leaflet_id}function a(t,e,i){var n,r,o,s;return s=function(){n=!1,r&&(o.apply(i,r),r=!1)},o=function(){n?r=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)},o}function h(t,e,i){var n=e[1],r=e[0],o=n-r;return t===n&&i?t:((t-r)%o+o)%o+r}function l(){return!1}function u(t,e){if(!1===e)return t;var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function c(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function p(t){return c(t).split(/\s+/)}function f(t,e){for(var i in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function d(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function y(t,e){return t.replace(g,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"===typeof n&&(n=n(e)),n}))}var m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-b));return b=e+i,window.setTimeout(t,i)}var M=window.requestAnimationFrame||x("RequestAnimationFrame")||w,E=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,i){if(!i||M!==w)return M.call(window,r(t,e));t.call(e)}function C(t){t&&E.call(window,t)}var I={__proto__:null,extend:i,create:n,bind:r,get lastId(){return o},stamp:s,throttle:a,wrapNum:h,falseFn:l,formatNum:u,trim:c,splitWords:p,setOptions:f,getParamString:d,template:y,isArray:m,indexOf:_,emptyImageUrl:v,requestFn:M,cancelFn:E,requestAnimFrame:S,cancelAnimFrame:C};function P(){}function O(t){if("undefined"!==typeof L&&L&&L.Mixin){t=m(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(t){var e=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=e.__super__=this.prototype,o=n(r);for(var s in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&i(e,t.statics),t.includes&&(O(t.includes),i.apply(null,[o].concat(t.includes))),i(o,t),delete o.statics,delete o.includes,o.options&&(o.options=r.options?n(r.options):{},i(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},P.include=function(t){var e=this.prototype.options;return i(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},P.mergeOptions=function(t){return i(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var N={on:function(t,e,i){if("object"===typeof t)for(var n in t)this._on(n,t[n],e);else{t=p(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,i)}return this},off:function(t,e,i){if(arguments.length)if("object"===typeof t)for(var n in t)this._off(n,t[n],e);else{t=p(t);for(var r=1===arguments.length,o=0,s=t.length;o<s;o++)r?this._off(t[o]):this._off(t[o],e,i)}else delete this._events;return this},_on:function(t,e,i,n){if("function"===typeof e){if(!1===this._listens(t,e,i)){i===this&&(i=void 0);var r={fn:e,ctx:i};n&&(r.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(r)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,i){var n,r,o;if(this._events&&(n=this._events[t],n))if(1!==arguments.length)if("function"===typeof e){var s=this._listens(t,e,i);if(!1!==s){var a=n[s];this._firingCount&&(a.fn=l,this._events[t]=n=n.slice()),n.splice(s,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(r=0,o=n.length;r<o;r++)n[r].fn=l;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var r=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var h=o[s],l=h.fn;h.once&&this.off(t,l,h.ctx),l.call(h.ctx||this,r)}this._firingCount--}}return n&&this._propagateEvent(r),this},listens:function(t,e,i,n){"string"!==typeof t&&console.warn('"string" type argument expected');var r=e;"function"!==typeof e&&(n=!!e,r=void 0,i=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,r,i))return!0;if(n)for(var s in this._eventParents)if(this._eventParents[s].listens(t,e,i,n))return!0;return!1},_listens:function(t,e,i){if(!this._events)return!1;var n=this._events[t]||[];if(!e)return!!n.length;i===this&&(i=void 0);for(var r=0,o=n.length;r<o;r++)if(n[r].fn===e&&n[r].ctx===i)return r;return!1},once:function(t,e,i){if("object"===typeof t)for(var n in t)this._on(n,t[n],e,!0);else{t=p(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,i,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var T=P.extend(N);function A(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var R=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function D(t,e,i){return t instanceof A?t:m(t)?new A(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new A(t.x,t.y):new A(t,e,i)}function k(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function F(t,e){return!t||t instanceof k?t:new k(t,e)}function B(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;n<r;n++)this.extend(i[n])}function z(t,e){return t instanceof B?t:new B(t,e)}function j(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function U(t,e,i){return t instanceof j?t:m(t)&&"object"!==typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,i)}A.prototype={clone:function(){return new A(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new A(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new A(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(t){t=D(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=D(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},k.prototype={extend:function(t){var e,i;if(!t)return this;if(t instanceof A||"number"===typeof t[0]||"x"in t)e=i=D(t);else if(t=F(t),e=t.min,i=t.max,!e||!i)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)):(this.min=e.clone(),this.max=i.clone()),this},getCenter:function(t){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"===typeof t[0]||t instanceof A?D(t):F(t),t instanceof k?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=F(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>=e.x&&n.x<=i.x,s=r.y>=e.y&&n.y<=i.y;return o&&s},overlaps:function(t){t=F(t);var e=this.min,i=this.max,n=t.min,r=t.max,o=r.x>e.x&&n.x<i.x,s=r.y>e.y&&n.y<i.y;return o&&s},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,i=this.max,n=Math.abs(e.x-i.x)*t,r=Math.abs(e.y-i.y)*t;return F(D(e.x-n,e.y-r),D(i.x+n,i.y+r))},equals:function(t){return!!t&&(t=F(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},B.prototype={extend:function(t){var e,i,n=this._southWest,r=this._northEast;if(t instanceof j)e=t,i=t;else{if(!(t instanceof B))return t?this.extend(U(t)||z(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||r?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),r.lat=Math.max(i.lat,r.lat),r.lng=Math.max(i.lng,r.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,r=Math.abs(e.lng-i.lng)*t;return new B(new j(e.lat-n,e.lng-r),new j(i.lat+n,i.lng+r))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof j||"lat"in t?U(t):z(t);var e,i,n=this._southWest,r=this._northEast;return t instanceof B?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=r.lat&&e.lng>=n.lng&&i.lng<=r.lng},intersects:function(t){t=z(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&n.lat<=i.lat,s=r.lng>=e.lng&&n.lng<=i.lng;return o&&s},overlaps:function(t){t=z(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&n.lat<i.lat,s=r.lng>e.lng&&n.lng<i.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=z(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){if(!t)return!1;t=U(t);var i=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return i<=(void 0===e?1e-9:e)},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return V.distance(this,U(t))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return z([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var G={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),r=this.transformation.transform(e.max,i);return new k(n,r)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?h(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?h(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return new j(i,e,n)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,r=e.lng-i.lng;if(0===n&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast(),a=new j(o.lat-n,o.lng-r),h=new j(s.lat-n,s.lng-r);return new B(a,h)}},V=i({},G,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=o*o+Math.cos(n)*Math.cos(r)*s*s,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),r=Math.sin(n*e);return new A(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=q*Math.PI;return new k([-t,-t],[t,t])}()};function Y(t,e,i,n){if(m(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function H(t,e,i,n){return new Y(t,e,i,n)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new A((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var X=i({},V,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return H(t,.5,-t,.5)}()}),Z=i({},X,{code:"EPSG:900913"});function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var i,n,r,o,s,a,h="";for(i=0,r=t.length;i<r;i++){for(s=t[i],n=0,o=s.length;n<o;n++)a=s[n],h+=(n?"L":"M")+a.x+" "+a.y;h+=e?kt.svg?"z":"x":""}return h||"M0 0"}var K=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),it=Dt("webkit"),nt=Dt("android"),rt=Dt("android 2")||Dt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=nt&&Dt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,ht=!et&&Dt("chrome"),lt=Dt("gecko")&&!it&&!at&&!Q,ut=!ht&&Dt("safari"),ct=Dt("phantom"),pt="OTransition"in K,ft=0===navigator.platform.indexOf("Win"),dt=Q&&"transition"in K,gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,yt="MozPerspective"in K,mt=!window.L_DISABLE_3D&&(dt||gt||yt)&&!pt&&!ct,_t="undefined"!==typeof orientation||Dt("mobile"),vt=_t&&it,xt=_t&&gt,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),Mt="ontouchstart"in window||!!window.TouchEvent,Et=!window.L_NO_TOUCH&&(Mt||wt),St=_t&&at,Ct=_t&&lt,It=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(i){}return t}(),Lt=function(){return!!document.createElement("canvas").getContext}(),Ot=!(!document.createElementNS||!$("svg").createSVGRect),Nt=!!Ot&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),Tt=!Ot&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(i){return!1}}(),At=0===navigator.platform.indexOf("Mac"),Rt=0===navigator.platform.indexOf("Linux");function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var kt={ie:Q,ielt9:tt,edge:et,webkit:it,android:nt,android23:rt,androidStock:st,opera:at,chrome:ht,gecko:lt,safari:ut,phantom:ct,opera12:pt,win:ft,ie3d:dt,webkit3d:gt,gecko3d:yt,any3d:mt,mobile:_t,mobileWebkit:vt,mobileWebkit3d:xt,msPointer:bt,pointer:wt,touch:Et,touchNative:Mt,mobileOpera:St,mobileGecko:Ct,retina:It,passiveEvents:Pt,canvas:Lt,svg:Ot,vml:Tt,inlineSvg:Nt,mac:At,linux:Rt},Ft=kt.msPointer?"MSPointerDown":"pointerdown",Bt=kt.msPointer?"MSPointerMove":"pointermove",zt=kt.msPointer?"MSPointerUp":"pointerup",jt=kt.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:Ft,touchmove:Bt,touchend:zt,touchcancel:jt},Gt={touchstart:Kt,touchmove:Jt,touchend:Jt,touchcancel:Jt},Vt={},qt=!1;function Wt(t,e,i){return"touchstart"===e&&$t(),Gt[e]?(i=Gt[e].bind(this,i),t.addEventListener(Ut[e],i,!1),i):(console.warn("wrong event specified:",e),l)}function Yt(t,e,i){Ut[e]?t.removeEventListener(Ut[e],i,!1):console.warn("wrong event specified:",e)}function Ht(t){Vt[t.pointerId]=t}function Xt(t){Vt[t.pointerId]&&(Vt[t.pointerId]=t)}function Zt(t){delete Vt[t.pointerId]}function $t(){qt||(document.addEventListener(Ft,Ht,!0),document.addEventListener(Bt,Xt,!0),document.addEventListener(zt,Zt,!0),document.addEventListener(jt,Zt,!0),qt=!0)}function Jt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var i in e.touches=[],Vt)e.touches.push(Vt[i]);e.changedTouches=[e],t(e)}}function Kt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&He(e),Jt(t,e)}function Qt(t){var e,i,n={};for(i in t)e=t[i],n[i]=e&&e.bind?e.bind(t):e;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var i,n=0;function r(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var r=Ze(t);if(!r.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||r.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var o=Date.now();o-n<=te?(i++,2===i&&e(Qt(t))):i=1,n=o}}}else i=t.detail}return t.addEventListener("click",r),{dblclick:e,simDblclick:r}}function ie(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var ne,re,oe,se,ae,he=Se(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),le=Se(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===le||"OTransition"===le?le+"End":"transitionend";function ce(t){return"string"===typeof t?document.getElementById(t):t}function pe(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function fe(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function de(t){var e=t.parentNode;e&&e.removeChild(t)}function ge(t){while(t.firstChild)t.removeChild(t.firstChild)}function ye(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function me(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function _e(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=we(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function ve(t,e){if(void 0!==t.classList)for(var i=p(e),n=0,r=i.length;n<r;n++)t.classList.add(i[n]);else if(!_e(t,e)){var o=we(t);be(t,(o?o+" ":"")+e)}}function xe(t,e){void 0!==t.classList?t.classList.remove(e):be(t,c((" "+we(t)+" ").replace(" "+e+" "," ")))}function be(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function we(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Ee(t,e)}function Ee(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(r){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}function Se(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function Ce(t,e,i){var n=e||new A(0,0);t.style[he]=(kt.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function Ie(t,e){t._leaflet_pos=e,kt.any3d?Ce(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Pe(t){return t._leaflet_pos||new A(0,0)}if("onselectstart"in document)ne=function(){Fe(window,"selectstart",He)},re=function(){ze(window,"selectstart",He)};else{var Le=Se(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ne=function(){if(Le){var t=document.documentElement.style;oe=t[Le],t[Le]="none"}},re=function(){Le&&(document.documentElement.style[Le]=oe,oe=void 0)}}function Oe(){Fe(window,"dragstart",He)}function Ne(){ze(window,"dragstart",He)}function Te(t){while(-1===t.tabIndex)t=t.parentNode;t.style&&(Ae(),se=t,ae=t.style.outlineStyle,t.style.outlineStyle="none",Fe(window,"keydown",Ae))}function Ae(){se&&(se.style.outlineStyle=ae,se=void 0,ae=void 0,ze(window,"keydown",Ae))}function Re(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function De(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var ke={__proto__:null,TRANSFORM:he,TRANSITION:le,TRANSITION_END:ue,get:ce,getStyle:pe,create:fe,remove:de,empty:ge,toFront:ye,toBack:me,hasClass:_e,addClass:ve,removeClass:xe,setClass:be,getClass:we,setOpacity:Me,testProp:Se,setTransform:Ce,setPosition:Ie,getPosition:Pe,get disableTextSelection(){return ne},get enableTextSelection(){return re},disableImageDrag:Oe,enableImageDrag:Ne,preventOutline:Te,restoreOutline:Ae,getSizedParentNode:Re,getScale:De};function Fe(t,e,i,n){if(e&&"object"===typeof e)for(var r in e)Ge(t,r,e[r],i);else{e=p(e);for(var o=0,s=e.length;o<s;o++)Ge(t,e[o],i,n)}return this}var Be="_leaflet_events";function ze(t,e,i,n){if(1===arguments.length)je(t),delete t[Be];else if(e&&"object"===typeof e)for(var r in e)Ve(t,r,e[r],i);else if(e=p(e),2===arguments.length)je(t,(function(t){return-1!==_(e,t)}));else for(var o=0,s=e.length;o<s;o++)Ve(t,e[o],i,n);return this}function je(t,e){for(var i in t[Be]){var n=i.split(/\d/)[0];e&&!e(n)||Ve(t,n,null,null,i)}}var Ue={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ge(t,e,i,n){var r=e+s(i)+(n?"_"+s(n):"");if(t[Be]&&t[Be][r])return this;var o=function(e){return i.call(n||t,e||window.event)},a=o;!kt.touchNative&&kt.pointer&&0===e.indexOf("touch")?o=Wt(t,e,o):kt.touch&&"dblclick"===e?o=ee(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ue[e]||e,o,!!kt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Qe(t,e)&&a(e)},t.addEventListener(Ue[e],o,!1)):t.addEventListener(e,a,!1):t.attachEvent("on"+e,o),t[Be]=t[Be]||{},t[Be][r]=o}function Ve(t,e,i,n,r){r=r||e+s(i)+(n?"_"+s(n):"");var o=t[Be]&&t[Be][r];if(!o)return this;!kt.touchNative&&kt.pointer&&0===e.indexOf("touch")?Yt(t,e,o):kt.touch&&"dblclick"===e?ie(t,o):"removeEventListener"in t?t.removeEventListener(Ue[e]||e,o,!1):t.detachEvent("on"+e,o),t[Be][r]=null}function qe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function We(t){return Ge(t,"wheel",qe),this}function Ye(t){return Fe(t,"mousedown touchstart dblclick contextmenu",qe),t["_leaflet_disable_click"]=!0,this}function He(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Xe(t){return He(t),qe(t),this}function Ze(t){if(t.composedPath)return t.composedPath();var e=[],i=t.target;while(i)e.push(i),i=i.parentNode;return e}function $e(t,e){if(!e)return new A(t.clientX,t.clientY);var i=De(e),n=i.boundingClientRect;return new A((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var Je=kt.linux&&kt.chrome?window.devicePixelRatio:kt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ke(t){return kt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Je:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Qe(t,e){var i=e.relatedTarget;if(!i)return!0;try{while(i&&i!==t)i=i.parentNode}catch(n){return!1}return i!==t}var ti={__proto__:null,on:Fe,off:ze,stopPropagation:qe,disableScrollPropagation:We,disableClickPropagation:Ye,preventDefault:He,stop:Xe,getPropagationPath:Ze,getMousePosition:$e,getWheelDelta:Ke,isExternalTarget:Qe,addListener:Fe,removeListener:ze},ei=T.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Pe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),Ie(this._el,i),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),ii=T.extend({options:{crs:X,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=le&&kt.any3d&&!kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){if(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n){void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan));var r=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,n.pan&&n.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof A?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/n),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():z(t);var i=D(e.paddingTopLeft||e.padding||[0,0]),n=D(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,i.add(n));if(r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r,r===1/0)return{center:t.getCenter(),zoom:r};var o=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r),h=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:h,zoom:r}},fitBounds:function(t,e){if(t=z(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=D(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ei,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ve(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(i=i||{},!1===i.animate||!kt.any3d)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=U(t),e=void 0===e?s:e;var a=Math.max(o.x,o.y),h=a*this.getZoomScale(s,e),l=r.distanceTo(n)||1,u=1.42,c=u*u;function p(t){var e=t?-1:1,i=t?h:a,n=h*h-a*a+e*c*c*l*l,r=2*i*c*l,o=n/r,s=Math.sqrt(o*o+1)-o,u=s<1e-9?-18:Math.log(s);return u}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}function g(t){return f(t)/d(t)}var y=p(0);function m(t){return a*(d(y)/d(y+u*t))}function _(t){return a*(d(y)*g(y+u*t)-f(y))/c}function v(t){return 1-Math.pow(1-t,1.5)}var x=Date.now(),b=(p(1)-y)/u,w=i.duration?1e3*i.duration:1e3*b*.8;function M(){var i=(Date.now()-x)/w,o=v(i)*b;i<=1?(this._flyToFrame=S(M,this),this._move(this.unproject(n.add(r.subtract(n).multiplyBy(_(o)/l)),s),this.getScaleZoom(a/m(o),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),M.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return t=z(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,z(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var i=D(e.paddingTopLeft||e.padding||[0,0]),n=D(e.paddingBottomRight||e.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(t),s=this.getPixelBounds(),a=F([s.min.add(i),s.max.subtract(n)]),h=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var l=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(h);r.x+=l.x<0?-u.x:u.x,r.y+=l.y<0?-u.y:u.y,this.panTo(this.unproject(r),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),o=e.divideBy(2).round(),s=n.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r(this._handleGeolocationResponse,this),n=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,i=t.coords.longitude,n=new j(e,i),r=n.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(n,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:n,bounds:r,timestamp:t.timestamp};for(var h in t.coords)"number"===typeof t.coords[h]&&(a[h]=t.coords[h]);this.fire("locationfound",a)}},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),de(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)de(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=fe("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new B(e,i)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=z(t),i=D(i||[0,0]);var n=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(i),l=F(this.project(a,n),this.project(s,n)).getSize(),u=kt.any3d?this.options.zoomSnap:1,c=h.x/l.x,p=h.y/l.y,f=e?Math.max(c,p):Math.min(c,p);return n=this.getScaleZoom(f,n),u&&(n=Math.round(n/(u/100))*(u/100),n=e?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(r,Math.min(o,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new k(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(U(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(z(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return $e(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ce(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Fe(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&kt.any3d,ve(t,"leaflet-container"+(kt.touch?" leaflet-touch":"")+(kt.retina?" leaflet-retina":"")+(kt.ielt9?" leaflet-oldie":"")+(kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=pe(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ie(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ve(t.markerPane,"leaflet-zoom-hide"),ve(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,i){Ie(this._mapPane,new A(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,i)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),n?i&&i.pinch&&this.fire("zoom",i):((r||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ie(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?ze:Fe;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),kt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){var i,n=[],r="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,a=!1;while(o){if(i=this._targets[s(o)],i&&("click"===e||"preclick"===e)&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(r&&!Qe(o,t))break;if(n.push(i),r)break}if(o===this._container)break;o=o.parentNode}return n.length||a||r||!this.listens(e,!0)||(n=[this]),n},_isClickDisabled:function(t){while(t&&t!==this._container){if(t["_leaflet_disable_click"])return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e["_leaflet_disable_events"]||"click"===t.type&&this._isClickDisabled(e))){var i=t.type;"mousedown"===i&&Te(e),this._fireDOMEvent(t,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var r=i({},t);r.type="preclick",this._fireDOMEvent(r,r.type,n)}var o=this._findEventTargets(t,e);if(n){for(var s=[],a=0;a<n.length;a++)n[a].listens(e,!0)&&s.push(n[a]);o=s.concat(o)}if(o.length){"contextmenu"===e&&He(t);var h=o[0],l={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=h.getLatLng&&(!h._radius||h._radius<=10);l.containerPoint=u?this.latLngToContainerPoint(h.getLatLng()):this.mouseEventToContainerPoint(t),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=u?h.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(e,l,!0),l.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Pe(this._mapPane)||new A(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var i=t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return F([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),r=this.getSize().divideBy(2),o=new k(n.subtract(r),n.add(r)),s=this._getBoundsOffset(o,i,e);return Math.abs(s.x)<=1&&Math.abs(s.y)<=1?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new k(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=F(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),r=n.min.subtract(t.min),o=n.max.subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new A(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=kt.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)},_createAnimProxy:function(){var t=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=he,i=this._proxy.style[e];Ce(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){de(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ce(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(r))&&(S((function(){this._moveStart(!0,i.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ve(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ni(t,e){return new ii(t,e)}var ri=P.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return ve(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(de(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),oi=function(t){return new ri(t)};ii.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=fe("div",e+"control-container",this._container);function n(n,r){var o=e+n+" "+e+r;t[n+r]=fe("div",o,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)de(this._controlCorners[t]);de(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var si=ri.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in f(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ri.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ve(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ve(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=fe("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ye(e),We(e);var n=this._section=fe("section",t+"-list");i&&(this._map.on("click",this.collapse,this),Fe(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var r=this._layersLink=fe("a",t+"-toggle",e);r.href="#",r.title="Layers",r.setAttribute("role","button"),Fe(r,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){He(t),this._expandSafely()}},this),i||this.expand(),this._baseLayersList=fe("div",t+"-base",n),this._separator=fe("div",t+"-separator",n),this._overlaysList=fe("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ge(this._baseLayersList),ge(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,r=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,r+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+s(this),n),this._layerControlInputs.push(e),e.layerId=s(t.layer),Fe(e,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+t.name;var o=document.createElement("span");i.appendChild(o),o.appendChild(e),o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;return a.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t,e,i=this._layerControlInputs,n=[],r=[];this._handlingClick=!0;for(var o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Fe(t,"click",He),this.expand();var e=this;setTimeout((function(){ze(t,"click",He),e._preventClick=!1}))}}),ai=function(t,e,i){return new si(t,e,i)},hi=ri.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=fe("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,r){var o=fe("a",i,n);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),Ye(o),Fe(o,"click",Xe),Fe(o,"click",r,this),Fe(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";xe(this._zoomInButton,e),xe(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ve(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ve(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});ii.mergeOptions({zoomControl:!0}),ii.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new hi,this.addControl(this.zoomControl))}));var li=function(t){return new hi(t)},ui=ri.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=fe("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=fe("div",e,i)),t.imperial&&(this._iScale=fe("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,r=3.2808399*t;r>5280?(e=r/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(r),this._updateScale(this._iScale,n+" ft",n/r))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),ci=function(t){return new ui(t)},pi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fi=ri.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(kt.inlineSvg?pi+" ":"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),Ye(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});ii.mergeOptions({attributionControl:!0}),ii.addInitHook((function(){this.options.attributionControl&&(new fi).addTo(this)}));var di=function(t){return new fi(t)};ri.Layers=si,ri.Zoom=hi,ri.Scale=ui,ri.Attribution=fi,oi.layers=ai,oi.zoom=li,oi.scale=ci,oi.attribution=di;var gi=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gi.addTo=function(t,e){return t.addHandler(e,this),this};var yi={Events:N},mi=kt.touch?"touchstart mousedown":"mousedown",_i=T.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){f(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(Fe(this._dragStartTarget,mi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_i._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,mi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!_e(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)_i._dragging===this&&this.finishDrag();else if(!(_i._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(_i._dragging=this,this._preventOutline&&Te(this._element),Oe(),ne(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,i=Re(this._element);this._startPoint=new A(e.clientX,e.clientY),this._startPos=Pe(this._element),this._parentScale=De(i);var n="mousedown"===t.type;Fe(document,n?"mousemove":"touchmove",this._onMove,this),Fe(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new A(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,He(t),this._moved||(this.fire("dragstart"),this._moved=!0,ve(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ve(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ie(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),Ne(),re();var e=this._moved&&this._moving;this._moving=!1,_i._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function vi(t,e,i){var n,r,o,s,a,h,l,u,c,p=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Ti(t[r],e);for(s=0;s<4;s++){for(u=p[s],n=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],h=t[o],a._code&u?h._code&u||(c=Ni(h,a,u,e,i),c._code=Ti(c,e),n.push(c)):(h._code&u&&(c=Ni(h,a,u,e,i),c._code=Ti(c,e),n.push(c)),n.push(a));t=n}return t}function xi(t,e){var i,n,r,o,s,a,h,l,u;if(!t||0===t.length)throw new Error("latlngs not passed");Di(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var c=U([0,0]),p=z(t),f=p.getNorthWest().distanceTo(p.getSouthWest())*p.getNorthEast().distanceTo(p.getNorthWest());f<1700&&(c=bi(t));var d=t.length,g=[];for(i=0;i<d;i++){var y=U(t[i]);g.push(e.project(U([y.lat-c.lat,y.lng-c.lng])))}for(a=h=l=0,i=0,n=d-1;i<d;n=i++)r=g[i],o=g[n],s=r.y*o.x-o.y*r.x,h+=(r.x+o.x)*s,l+=(r.y+o.y)*s,a+=3*s;u=0===a?g[0]:[h/a,l/a];var m=e.unproject(D(u));return U([m.lat+c.lat,m.lng+c.lng])}function bi(t){for(var e=0,i=0,n=0,r=0;r<t.length;r++){var o=U(t[r]);e+=o.lat,i+=o.lng,n++}return U([e/n,i/n])}var wi,Mi={__proto__:null,clipPolygon:vi,polygonCenter:xi,centroid:bi};function Ei(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=Li(t,i),t=Ii(t,i),t}function Si(t,e,i){return Math.sqrt(Ri(t,e,i,!0))}function Ci(t,e,i){return Ri(t,e,i)}function Ii(t,e){var i=t.length,n=typeof Uint8Array!==void 0+""?Uint8Array:Array,r=new n(i);r[0]=r[i-1]=1,Pi(t,r,e,0,i-1);var o,s=[];for(o=0;o<i;o++)r[o]&&s.push(t[o]);return s}function Pi(t,e,i,n,r){var o,s,a,h=0;for(s=n+1;s<=r-1;s++)a=Ri(t[s],t[n],t[r],!0),a>h&&(o=s,h=a);h>i&&(e[o]=1,Pi(t,e,i,n,o),Pi(t,e,i,o,r))}function Li(t,e){for(var i=[t[0]],n=1,r=0,o=t.length;n<o;n++)Ai(t[n],t[r])>e&&(i.push(t[n]),r=n);return r<o-1&&i.push(t[o-1]),i}function Oi(t,e,i,n,r){var o,s,a,h=n?wi:Ti(t,i),l=Ti(e,i);wi=l;while(1){if(!(h|l))return[t,e];if(h&l)return!1;o=h||l,s=Ni(t,e,o,i,r),a=Ti(s,i),o===h?(t=s,h=a):(e=s,l=a)}}function Ni(t,e,i,n,r){var o,s,a=e.x-t.x,h=e.y-t.y,l=n.min,u=n.max;return 8&i?(o=t.x+a*(u.y-t.y)/h,s=u.y):4&i?(o=t.x+a*(l.y-t.y)/h,s=l.y):2&i?(o=u.x,s=t.y+h*(u.x-t.x)/a):1&i&&(o=l.x,s=t.y+h*(l.x-t.x)/a),new A(o,s,r)}function Ti(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function Ai(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}function Ri(t,e,i,n){var r,o=e.x,s=e.y,a=i.x-o,h=i.y-s,l=a*a+h*h;return l>0&&(r=((t.x-o)*a+(t.y-s)*h)/l,r>1?(o=i.x,s=i.y):r>0&&(o+=a*r,s+=h*r)),a=t.x-o,h=t.y-s,n?a*a+h*h:new A(o,s)}function Di(t){return!m(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function ki(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Di(t)}function Fi(t,e){var i,n,r,o,s,a,h,l;if(!t||0===t.length)throw new Error("latlngs not passed");Di(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=U([0,0]),c=z(t),p=c.getNorthWest().distanceTo(c.getSouthWest())*c.getNorthEast().distanceTo(c.getNorthWest());p<1700&&(u=bi(t));var f=t.length,d=[];for(i=0;i<f;i++){var g=U(t[i]);d.push(e.project(U([g.lat-u.lat,g.lng-u.lng])))}for(i=0,n=0;i<f-1;i++)n+=d[i].distanceTo(d[i+1])/2;if(0===n)l=d[0];else for(i=0,o=0;i<f-1;i++)if(s=d[i],a=d[i+1],r=s.distanceTo(a),o+=r,o>n){h=(o-n)/r,l=[a.x-h*(a.x-s.x),a.y-h*(a.y-s.y)];break}var y=e.unproject(D(l));return U([y.lat+u.lat,y.lng+u.lng])}var Bi={__proto__:null,simplify:Ei,pointToSegmentDistance:Si,closestPointOnSegment:Ci,clipSegment:Oi,_getEdgeIntersection:Ni,_getBitCode:Ti,_sqClosestPointOnSegment:Ri,isFlat:Di,_flat:ki,polylineCenter:Fi},zi={project:function(t){return new A(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new k([-180,-90],[180,90])},ji={R:6378137,R_MINOR:6356752.314245179,bounds:new k([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new A(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),h=0,l=.1;h<15&&Math.abs(l)>1e-7;h++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new j(a*i,t.x*i/n)}},Ui={__proto__:null,LonLat:zi,Mercator:ji,SphericalMercator:W},Gi=i({},V,{code:"EPSG:3395",projection:ji,transformation:function(){var t=.5/(Math.PI*ji.R);return H(t,.5,-t,.5)}()}),Vi=i({},V,{code:"EPSG:4326",projection:zi,transformation:H(1/180,1,-1/180,.5)}),qi=i({},G,{projection:zi,transformation:H(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});G.Earth=V,G.EPSG3395=Gi,G.EPSG3857=X,G.EPSG900913=Z,G.EPSG4326=Vi,G.Simple=qi;var Wi=T.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});ii.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?m(t)?t:[t]:[];for(var e=0,i=t.length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var r=this._zoomBoundLayers[n].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yi=Wi.extend({initialize:function(t,e){var i,n;if(f(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e="number"===typeof t?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Hi=function(t,e){return new Yi(t,e)},Xi=Yi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Yi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Yi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),Zi=function(t,e){return new Xi(t,e)},$i=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"===typeof n&&(n=[n,n]);var r=D(n),o=D("shadow"===e&&i.shadowAnchor||i.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return kt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Ji(t){return new $i(t)}var Ki=$i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Ki.imagePath&&(Ki.imagePath=this._detectIconPath()),(this.options.imagePath||Ki.imagePath)+$i.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,i){var n=e.exec(t);return n&&n[i]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=fe("div","leaflet-default-icon-path",document.body),e=pe(t,"background-image")||pe(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Qi=gi.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new _i(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ve(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=Pe(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),h=F(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!h.contains(o)){var l=D((Math.max(h.max.x,o.x)-h.max.x)/(s.max.x-h.max.x)-(Math.min(h.min.x,o.x)-h.min.x)/(s.min.x-h.min.x),(Math.max(h.max.y,o.y)-h.max.y)/(s.max.y-h.max.y)-(Math.min(h.min.y,o.y)-h.min.y)/(s.min.y-h.min.y)).multiplyBy(n);i.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),Ie(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=Pe(e._icon),r=e._map.layerPointToLatLng(n);i&&Ie(i,n),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),tn=Wi.extend({options:{icon:new Ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),ve(i,e),t.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(i,"focus",this._panOnFocus,this);var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ve(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),de(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&de(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ie(this._icon,t),this._shadow&&Ie(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ve(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Qi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Qi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Me(this._icon,t),this._shadow&&Me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,i=e.iconSize?D(e.iconSize):D(0,0),n=e.iconAnchor?D(e.iconAnchor):D(0,0);t.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function en(t,e){return new tn(t,e)}var nn=Wi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rn=nn.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return nn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new k(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function on(t,e){return new rn(t,e)}var sn=rn.extend({initialize:function(t,e,n){if("number"===typeof e&&(e=i({},n,{radius:e})),f(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:nn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===V.distance){var r=Math.PI/180,o=this._mRadius/V.R/r,s=i.project([e+o,t]),a=i.project([e-o,t]),h=s.add(a).divideBy(2),l=i.unproject(h).lat,u=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*e)),this._point=h.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:h.x-i.project([l,t-u]).x,this._radiusY=h.y-s.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}});function an(t,e,i){return new sn(t,e,i)}var hn=nn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,r=null,o=Ri,s=0,a=this._parts.length;s<a;s++)for(var h=this._parts[s],l=1,u=h.length;l<u;l++){e=h[l-1],i=h[l];var c=o(t,e,i,!0);c<n&&(n=c,r=o(t,e,i))}return r&&(r.distance=Math.sqrt(n)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Di(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=Di(t),n=0,r=t.length;n<r;n++)i?(e[n]=U(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new A(t,t);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,i){var n,r,o=t[0]instanceof j,s=t.length;if(o){for(r=[],n=0;n<s;n++)r[n]=this._map.latLngToLayerPoint(t[n]),i.extend(r[n]);e.push(r)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,r,o,s,a,h=this._parts;for(e=0,n=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],i=0,o=a.length;i<o-1;i++)s=Oi(a[i],a[i+1],t,i,!0),s&&(h[n]=h[n]||[],h[n].push(s[0]),s[1]===a[i+1]&&i!==o-2||(h[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=Ei(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,r,o,s,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,o=this._parts.length;i<o;i++)for(a=this._parts[i],n=0,s=a.length,r=s-1;n<s;r=n++)if((e||0!==n)&&Si(t,a[r],a[n])<=h)return!0;return!1}});function ln(t,e){return new hn(t,e)}hn._flat=ki;var un=hn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=hn.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof j&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){hn.prototype._setLatLngs.call(this,t),Di(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Di(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new A(e,e);if(t=new k(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,r=0,o=this._rings.length;r<o;r++)n=vi(this._rings[r],t,!0),n.length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,r,o,s,a,h,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,h=e.length,s=h-1;o<h;s=o++)i=e[o],n=e[s],i.y>t.y!==n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||hn.prototype._containsPoint.call(this,t,!0)}});function cn(t,e){return new un(t,e)}var pn=Xi.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,r=m(t)?t:t.features;if(r){for(e=0,i=r.length;e<i;e++)n=r[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=fn(t,o);return s?(s.feature=xn(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fn(t,e){var i,n,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,h=[],l=e&&e.pointToLayer,u=e&&e.coordsToLatLng||gn;if(!a&&!s)return null;switch(s.type){case"Point":return i=u(a),dn(l,t,i,e);case"MultiPoint":for(r=0,o=a.length;r<o;r++)i=u(a[r]),h.push(dn(l,t,i,e));return new Xi(h);case"LineString":case"MultiLineString":return n=yn(a,"LineString"===s.type?0:1,u),new hn(n,e);case"Polygon":case"MultiPolygon":return n=yn(a,"Polygon"===s.type?1:2,u),new un(n,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var c=fn({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);c&&h.push(c)}return new Xi(h);case"FeatureCollection":for(r=0,o=s.features.length;r<o;r++){var p=fn(s.features[r],e);p&&h.push(p)}return new Xi(h);default:throw new Error("Invalid GeoJSON object.")}}function dn(t,e,i,n){return t?t(e,i):new tn(i,n&&n.markersInheritOptions&&n)}function gn(t){return new j(t[1],t[0],t[2])}function yn(t,e,i){for(var n,r=[],o=0,s=t.length;o<s;o++)n=e?yn(t[o],e-1,i):(i||gn)(t[o]),r.push(n);return r}function mn(t,e){return t=U(t),void 0!==t.alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function _n(t,e,i,n){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?_n(t[o],Di(t[o])?0:e-1,i,n):mn(t[o],n));return!e&&i&&r.length>0&&r.push(r[0].slice()),r}function vn(t,e){return t.feature?i({},t.feature,{geometry:e}):xn(e)}function xn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var bn={toGeoJSON:function(t){return vn(this,{type:"Point",coordinates:mn(this.getLatLng(),t)})}};function wn(t,e){return new pn(t,e)}tn.include(bn),sn.include(bn),rn.include(bn),hn.include({toGeoJSON:function(t){var e=!Di(this._latlngs),i=_n(this._latlngs,e?1:0,!1,t);return vn(this,{type:(e?"Multi":"")+"LineString",coordinates:i})}}),un.include({toGeoJSON:function(t){var e=!Di(this._latlngs),i=e&&!Di(this._latlngs[0]),n=_n(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),vn(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Yi.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),vn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(i)n.push(r.geometry);else{var o=xn(r);"FeatureCollection"===o.type?n.push.apply(n,o.features):n.push(o)}}})),i?vn(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Mn=wn,En=Wi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=z(e),f(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ve(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){de(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ye(this._image),this},bringToBack:function(){return this._map&&me(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=z(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:fe("img");ve(e,"leaflet-image-layer"),this._zoomAnimated&&ve(e,"leaflet-zoom-animated"),this.options.className&&ve(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ce(this._image,i,e)},_reset:function(){var t=this._image,e=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();Ie(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){Me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Sn=function(t,e,i){return new En(t,e,i)},Cn=En.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:fe("video");if(ve(e,"leaflet-image-layer"),this._zoomAnimated&&ve(e,"leaflet-zoom-animated"),this.options.className&&ve(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=r(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=i.length>0?n:[e.src]}else{m(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style["objectFit"]="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=fe("source");a.src=this._url[s],e.appendChild(a)}}}});function In(t,e,i){return new Cn(t,e,i)}var Pn=En.extend({_initImage:function(){var t=this._image=this._url;ve(t,"leaflet-image-layer"),this._zoomAnimated&&ve(t,"leaflet-zoom-animated"),this.options.className&&ve(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});function Ln(t,e,i){return new Pn(t,e,i)}var On=Wi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof j||m(t))?(this._latlng=U(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Me(this._container,1),this.bringToFront(),this.options.interactive&&(ve(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Me(this._container,0),this._removeTimeout=setTimeout(r(de,void 0,this._container),200)):de(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ye(this._container),this},bringToBack:function(){return this._map&&me(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Xi){e=null;var i=this._source._layers;for(var n in i)if(i[n]._map){e=i[n];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{while(t.hasChildNodes())t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),i=this._getAnchor();this._zoomAnimated?Ie(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});ii.include({_initOverlay:function(t,e,i,n){var r=e;return r instanceof t||(r=new t(n).setContent(e)),i&&r.setLatLng(i),r}}),Wi.include({_initOverlay:function(t,e,i,n){var r=i;return r instanceof t?(f(r,n),r._source=this):(r=e&&!n?e:new t(n,this),r.setContent(i)),r}});var Nn=On.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,On.prototype.openOn.call(this,t)},onAdd:function(t){On.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nn||this._source.on("preclick",qe))},onRemove:function(t){On.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nn||this._source.off("preclick",qe))},getEvents:function(){var t=On.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=fe("div",t+"-content-wrapper",e);if(this._contentNode=fe("div",t+"-content",i),Ye(e),We(this._contentNode),Fe(e,"contextmenu",qe),this._tipContainer=fe("div",t+"-tip-container",e),this._tip=fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=fe("a",t+"-close-button",e);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(n,"click",(function(t){He(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&n>r?(e.height=r+"px",ve(t,o)):xe(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();Ie(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(pe(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,r=new A(this._containerLeft,-i-this._containerBottom);r._add(Pe(this._container));var o=t.layerPointToContainerPoint(r),s=D(this.options.autoPanPadding),a=D(this.options.autoPanPaddingTopLeft||s),h=D(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),u=0,c=0;o.x+n+h.x>l.x&&(u=o.x+n-l.x+h.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+i+h.y>l.y&&(c=o.y+i-l.y+h.y),o.y-c-a.y<0&&(c=o.y-a.y),(u||c)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,c]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tn=function(t,e){return new Nn(t,e)};ii.mergeOptions({closePopupOnClick:!0}),ii.include({openPopup:function(t,e,i){return this._initOverlay(Nn,t,e,i).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Wi.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Nn,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Xi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Xe(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof nn?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var An=On.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){On.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){On.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=On.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+s(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,i,n=this._map,r=this._container,o=n.latLngToContainerPoint(n.getCenter()),s=n.layerPointToContainerPoint(t),a=this.options.direction,h=r.offsetWidth,l=r.offsetHeight,u=D(this.options.offset),c=this._getAnchor();"top"===a?(e=h/2,i=l):"bottom"===a?(e=h/2,i=0):"center"===a?(e=h/2,i=l/2):"right"===a?(e=0,i=l/2):"left"===a?(e=h,i=l/2):s.x<o.x?(a="right",e=0,i=l/2):(a="left",e=h+2*(u.x+c.x),i=l/2),t=t.subtract(D(e,i,!0)).add(u).add(c),xe(r,"leaflet-tooltip-right"),xe(r,"leaflet-tooltip-left"),xe(r,"leaflet-tooltip-top"),xe(r,"leaflet-tooltip-bottom"),ve(r,"leaflet-tooltip-"+a),Ie(r,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rn=function(t,e){return new An(t,e)};ii.include({openTooltip:function(t,e,i){return this._initOverlay(An,t,e,i).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Wi.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(An,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Xi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Fe(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Fe(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var Dn=$i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(i.html instanceof Element?(ge(e),e.appendChild(i.html)):e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=D(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function kn(t){return new Dn(t)}$i.Default=Ki;var Fn=Wi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),de(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(me(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof A?t:new A(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),r=0,o=i.length;r<o;r++)e=i[r].style.zIndex,i[r]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!kt.ielt9){Me(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var r=this._tiles[n];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);Me(r.el,o),o<1?e=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(de(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],r=this._map;return n||(n=this._levels[t]={},n.el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,r.getCenter(),r.getZoom()),l(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)de(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var r=Math.floor(t/2),o=Math.floor(e/2),s=i-1,a=new A(+r,+o);a.z=+s;var h=this._tileCoordsToKey(a),l=this._tiles[h];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>n&&this._retainParent(r,o,s,n))},_retainChildren:function(t,e,i,n){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new A(r,o);s.z=i+1;var a=this._tileCoordsToKey(s),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),i+1<n&&this._retainChildren(r,o,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var r=Math.round(e);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;n&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),r=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();kt.any3d?Ce(t.el,r,n):Ie(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*n);return new k(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(n),o=r.getCenter(),s=[],a=this.options.keepBuffer,h=new k(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var u=this._tiles[l].coords;u.z===this._tileZoom&&h.contains(new A(u.x,u.y))||(this._tiles[l].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var c=r.min.y;c<=r.max.y;c++)for(var p=r.min.x;p<=r.max.x;p++){var f=new A(p,c);if(f.z=this._tileZoom,this._isValidTile(f)){var d=this._tiles[this._tileCoordsToKey(f)];d?d.current=!0:s.push(f)}}if(s.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var g=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],g);this._level.el.appendChild(g)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return z(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),r=n.add(i),o=e.unproject(n,t.z),s=e.unproject(r,t.z);return[o,s]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new B(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new A(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(de(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ve(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,kt.ielt9&&this.options.opacity<1&&Me(t,this.options.opacity)},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&S(r(this._tileReady,this,t,null,o)),Ie(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(Me(i.el,0),C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(ve(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kt.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new A(this._wrapX?h(t.x,this._wrapX):t.x,this._wrapY?h(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new k(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Bn(t){return new Fn(t)}var zn=Fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=f(this,e),e.detectRetina&&kt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return Fe(i,"load",r(this._tileOnLoad,this,e,i)),Fe(i,"error",r(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:kt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e["y"]=n),e["-y"]=n}return y(this._url,i(e,this.options))},_tileOnLoad:function(t,e){kt.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(t=e-t),t+n},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=l,e.onerror=l,!e.complete)){e.src=v;var i=this._tiles[t].coords;de(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:i})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",v),Fn.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==v))return Fn.prototype._tileReady.call(this,t,e,i)}});function jn(t,e){return new zn(t,e)}var Un=zn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var r in e)r in this.options||(n[r]=e[r]);e=f(this,e);var o=e.detectRetina&&kt.retina?2:1,s=this.getTileSize();n.width=s.x*o,n.height=s.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,zn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=F(i.project(e[0]),i.project(e[1])),r=n.min,o=n.max,s=(this._wmsVersion>=1.3&&this._crs===Vi?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=zn.prototype.getTileUrl.call(this,t);return a+d(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});function Gn(t,e){return new Un(t,e)}zn.WMS=Un,jn.wms=Gn;var Vn=Wi.extend({options:{padding:.1},initialize:function(t){f(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ve(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),o=n.multiplyBy(-i).add(r).subtract(this._map._getNewPixelOrigin(t,e));kt.any3d?Ce(this._container,o,i):Ie(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new k(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qn=Vn.extend({options:{tolerance:0},getEvents:function(){var t=Vn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Fe(t,"mousemove",this._onMouseMove,this),Fe(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(t,"mouseout",this._handleMouseOut,this),t["_leaflet_disable_events"]=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,de(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;for(var e in this._redrawBounds=null,this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=kt.retina?2:1;Ie(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),r=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,r,o,s=t._parts,a=s.length,h=this._ctx;if(a){for(h.beginPath(),i=0;i<a;i++){for(n=0,r=s[i].length;n<r;n++)o=s[i][n],h[n?"lineTo":"moveTo"](o.x,o.y);e&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==r&&(i.save(),i.scale(1,r)),i.beginPath(),i.arc(e.x,e.y/r,n,0,2*Math.PI,!1),1!==r&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(n)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(i=e);this._fireEvent(!!i&&[i],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(xe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,n,o=this._drawFirst;o;o=o.next)i=o.layer,i.options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(ve(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function Wn(t){return kt.canvas?new qn(t):null}var Yn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hn={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Yn("shape");ve(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Yn("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;de(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,r=t._container;r.stroked=!!n.stroke,r.filled=!!n.fill,n.stroke?(e||(e=t._stroke=Yn("stroke")),r.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=m(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(r.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=Yn("fill")),r.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(r.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ye(t._container)},_bringToBack:function(t){me(t._container)}},Xn=kt.vml?Yn:$,Zn=Vn.extend({_initContainer:function(){this._container=Xn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Xn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){de(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Vn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),Ie(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Xn("path");t.options.className&&ve(e,t.options.className),t.options.interactive&&ve(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){de(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n=Math.max(Math.round(t._radiusY),1)||i,r="a"+i+","+n+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+r+2*i+",0 "+r+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ye(t._path)},_bringToBack:function(t){me(t._path)}});function $n(t){return kt.svg||kt.vml?new Zn(t):null}kt.vml&&Zn.include(Hn),ii.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Wn(t)||$n(t)}});var Jn=un.extend({initialize:function(t,e){un.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=z(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Kn(t,e){return new Jn(t,e)}Zn.create=Xn,Zn.pointsToPath=J,pn.geometryToLayer=fn,pn.coordsToLatLng=gn,pn.coordsToLatLngs=yn,pn.latLngToCoords=mn,pn.latLngsToCoords=_n,pn.getFeature=vn,pn.asFeature=xn,ii.mergeOptions({boxZoom:!0});var Qn=gi.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){de(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ne(),Oe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Fe(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),ve(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new k(this._point,this._startPoint),i=e.getSize();Ie(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(de(this._box),xe(this._container,"leaflet-crosshair")),re(),Ne(),ze(document,{contextmenu:Xe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ii.addInitHook("addHandler","boxZoom",Qn),ii.mergeOptions({doubleClickZoom:!0});var tr=gi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,r=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});ii.addInitHook("addHandler","doubleClickZoom",tr),ii.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var er=gi.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new _i(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ve(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=z(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){while(this._positions.length>1&&t-this._times[0]>50)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=r.multiplyBy(s/o),h=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,h),u=a.multiplyBy(l/h),c=l/(i.inertiaDeceleration*s),p=u.multiplyBy(-c/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),S((function(){e.panBy(p,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});ii.addInitHook("addHandler","dragging",er),ii.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ir=gi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Fe(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;e<i;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;e<i;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;e<i;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;e<i;e++)n[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;e<i;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;e<i;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(!n._panAnim||!n._panAnim._inProgress)if(e=this._panKeys[i],t.shiftKey&&(e=D(e).multiplyBy(3)),n.options.maxBounds&&(e=n._limitOffset(D(e),n.options.maxBounds)),n.options.worldCopyJump){var r=n.wrapLatLng(n.unproject(n.project(n.getCenter()).add(e)));n.panTo(r)}else n.panBy(e)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Xe(t)}}});ii.addInitHook("addHandler","keyboard",ir),ii.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nr=gi.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ke(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),n),Xe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(r/i)*i:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});ii.addInitHook("addHandler","scrollWheelZoom",nr);var rr=600;ii.mergeOptions({tapHold:kt.touchNative&&kt.safari&&kt.mobile,tapTolerance:15});var or=gi.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new A(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",He),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),rr),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ze(document,"touchend",He),ze(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new A(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var i=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});i._simulated=!0,e.target.dispatchEvent(i)}});ii.addInitHook("addHandler","tapHold",or),ii.mergeOptions({touchZoom:kt.touch,bounceAtZoomLimits:!0});var sr=gi.extend({addHooks:function(){ve(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),He(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var a=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(a,this,!0),He(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ii.addInitHook("addHandler","touchZoom",sr),ii.BoxZoom=Qn,ii.DoubleClickZoom=tr,ii.Drag=er,ii.Keyboard=ir,ii.ScrollWheelZoom=nr,ii.TapHold=or,ii.TouchZoom=sr,t.Bounds=k,t.Browser=kt,t.CRS=G,t.Canvas=qn,t.Circle=sn,t.CircleMarker=rn,t.Class=P,t.Control=ri,t.DivIcon=Dn,t.DivOverlay=On,t.DomEvent=ti,t.DomUtil=ke,t.Draggable=_i,t.Evented=T,t.FeatureGroup=Xi,t.GeoJSON=pn,t.GridLayer=Fn,t.Handler=gi,t.Icon=$i,t.ImageOverlay=En,t.LatLng=j,t.LatLngBounds=B,t.Layer=Wi,t.LayerGroup=Yi,t.LineUtil=Bi,t.Map=ii,t.Marker=tn,t.Mixin=yi,t.Path=nn,t.Point=A,t.PolyUtil=Mi,t.Polygon=un,t.Polyline=hn,t.Popup=Nn,t.PosAnimation=ei,t.Projection=Ui,t.Rectangle=Jn,t.Renderer=Vn,t.SVG=Zn,t.SVGOverlay=Pn,t.TileLayer=zn,t.Tooltip=An,t.Transformation=Y,t.Util=I,t.VideoOverlay=Cn,t.bind=r,t.bounds=F,t.canvas=Wn,t.circle=an,t.circleMarker=on,t.control=oi,t.divIcon=kn,t.extend=i,t.featureGroup=Zi,t.geoJSON=wn,t.geoJson=Mn,t.gridLayer=Bn,t.icon=Ji,t.imageOverlay=Sn,t.latLng=U,t.latLngBounds=z,t.layerGroup=Hi,t.map=ni,t.marker=en,t.point=D,t.polygon=cn,t.polyline=ln,t.popup=Tn,t.rectangle=Kn,t.setOptions=f,t.stamp=s,t.svg=$n,t.svgOverlay=Ln,t.tileLayer=jn,t.tooltip=Rn,t.transformation=H,t.version=e,t.videoOverlay=In;var ar=window.L;t.noConflict=function(){return window.L=ar,this},window.L=t}))},6057:function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/i(8992),i(3949),i(1454);var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function a(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}t.exports=a()?Object.assign:function(t,e){for(var i,a,h=s(t),l=1;l<arguments.length;l++){for(var u in i=Object(arguments[l]),i)r.call(i,u)&&(h[u]=i[u]);if(n){a=n(i);for(var c=0;c<a.length;c++)o.call(i,a[c])&&(h[a[c]]=i[a[c]])}}return h}},2356:function(t){"use strict";var e=function(t){return t!==t};t.exports=function(t,i){return 0===t&&0===i?1/t===1/i:t===i||!(!e(t)||!e(i))}},4080:function(t,e,i){"use strict";var n=i(8321),r=i(6610),o=i(2356),s=i(3873),a=i(7311),h=r(s(),Object);n(h,{getPolyfill:s,implementation:o,shim:a}),t.exports=h},3873:function(t,e,i){"use strict";var n=i(2356);t.exports=function(){return"function"===typeof Object.is?Object.is:n}},7311:function(t,e,i){"use strict";var n=i(3873),r=i(8321);t.exports=function(){var t=n();return r(Object,{is:t},{is:function(){return Object.is!==t}}),t}},5248:function(t,e,i){"use strict";var n;if(i(4114),!Object.keys){var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=i(3784),a=Object.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{c(window[t])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(t){if("undefined"===typeof window||!f)return c(t);try{return c(t)}catch(e){return!1}};n=function(t){var e=null!==t&&"object"===typeof t,i="[object Function]"===o.call(t),n=s(t),a=e&&"[object String]"===o.call(t),c=[];if(!e&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var p=l&&i;if(a&&t.length>0&&!r.call(t,0))for(var f=0;f<t.length;++f)c.push(String(f));if(n&&t.length>0)for(var g=0;g<t.length;++g)c.push(String(g));else for(var y in t)p&&"prototype"===y||!r.call(t,y)||c.push(String(y));if(h)for(var m=d(t),_=0;_<u.length;++_)m&&"constructor"===u[_]||!r.call(t,u[_])||c.push(u[_]);return c}}t.exports=n},396:function(t,e,i){"use strict";var n=Array.prototype.slice,r=i(3784),o=Object.keys,s=o?function(t){return o(t)}:i(5248),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return r(t)?a(n.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},3784:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var i=e.call(t),n="[object Arguments]"===i;return n||(n="[object Array]"!==i&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},2760:function(t){t.exports=function(t,e,i,n){var r=t[0],o=t[1],s=!1;void 0===i&&(i=0),void 0===n&&(n=e.length);for(var a=(n-i)/2,h=0,l=a-1;h<a;l=h++){var u=e[i+2*h+0],c=e[i+2*h+1],p=e[i+2*l+0],f=e[i+2*l+1],d=c>o!==f>o&&r<(p-u)*(o-c)/(f-c)+u;d&&(s=!s)}return s}},9743:function(t,e,i){var n=i(2760),r=i(9916);t.exports=function(t,e,i,o){return e.length>0&&Array.isArray(e[0])?r(t,e,i,o):n(t,e,i,o)},t.exports.nested=r,t.exports.flat=n},9916:function(t){t.exports=function(t,e,i,n){var r=t[0],o=t[1],s=!1;void 0===i&&(i=0),void 0===n&&(n=e.length);for(var a=n-i,h=0,l=a-1;h<a;l=h++){var u=e[h+i][0],c=e[h+i][1],p=e[l+i][0],f=e[l+i][1],d=c>o!==f>o&&r<(p-u)*(o-c)/(f-c)+u;d&&(s=!s)}return s}},4859:function(t,e,i){i(4114),i(6573),i(8100),i(7936),i(7467),i(4732),i(9577),i(8992),i(2577),i(3949),function(e,i){t.exports=i()}(0,(function(){"use strict";
/**
   * splaytree v3.1.2
   * Fast Splay tree for Node and browser
   *
   * @author Alexander Milevski <info@w8r.name>
   * @license MIT
   * @preserve
   */
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
    See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */function t(t,e){var i,n,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return h([t,e])}}function h(o){if(i)throw new TypeError("Generator is already executing.");while(s)try{if(i=1,n&&(r=2&o[0]?n["return"]:o[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var e=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function i(t,e){return t>e?1:t<e?-1:0}function n(t,i,n){var r=new e(null,null),o=r,s=r;while(1){var a=n(t,i.key);if(a<0){if(null===i.left)break;if(n(t,i.left.key)<0){var h=i.left;if(i.left=h.right,h.right=i,i=h,null===i.left)break}s.left=i,s=i,i=i.left}else{if(!(a>0))break;if(null===i.right)break;if(n(t,i.right.key)>0){h=i.right;if(i.right=h.left,h.left=i,i=h,null===i.right)break}o.right=i,o=i,i=i.right}}return o.right=i.left,s.left=i.right,i.left=r.right,i.right=r.left,i}function r(t,i,r,o){var s=new e(t,i);if(null===r)return s.left=s.right=null,s;r=n(t,r,o);var a=o(t,r.key);return a<0?(s.left=r.left,s.right=r,r.left=null):a>=0&&(s.right=r.right,s.left=r,r.right=null),s}function o(t,e,i){var r=null,o=null;if(e){e=n(t,e,i);var s=i(e.key,t);0===s?(r=e.left,o=e.right):s<0?(o=e.right,e.right=null,r=e):(r=e.left,e.left=null,o=e)}return{left:r,right:o}}function s(t,e,i){return null===e?t:(null===t||(e=n(t.key,e,i),e.left=t),e)}function a(t,e,i,n,r){if(t){n(e+(i?" ":" ")+r(t)+"\n");var o=e+(i?"    ":"   ");t.left&&a(t.left,o,!1,n,r),t.right&&a(t.right,o,!0,n,r)}}var h=function(){function h(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return h.prototype.insert=function(t,e){return this._size++,this._root=r(t,e,this._root,this._comparator)},h.prototype.add=function(t,i){var r=new e(t,i);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var o=this._comparator,s=n(t,this._root,o),a=o(t,s.key);return 0===a?this._root=s:(a<0?(r.left=s.left,r.right=s,s.left=null):a>0&&(r.right=s.right,r.left=s,s.right=null),this._size++,this._root=r),this._root},h.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},h.prototype._remove=function(t,e,i){var r;if(null===e)return null;e=n(t,e,i);var o=i(t,e.key);return 0===o?(null===e.left?r=e.right:(r=n(t,e.left,i),r.right=e.right),this._size--,r):e},h.prototype.pop=function(){var t=this._root;if(t){while(t.left)t=t.left;return this._root=n(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},h.prototype.findStatic=function(t){var e=this._root,i=this._comparator;while(e){var n=i(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},h.prototype.find=function(t){return this._root&&(this._root=n(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},h.prototype.contains=function(t){var e=this._root,i=this._comparator;while(e){var n=i(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},h.prototype.forEach=function(t,e){var i=this._root,n=[],r=!1;while(!r)null!==i?(n.push(i),i=i.left):0!==n.length?(i=n.pop(),t.call(e,i),i=i.right):r=!0;return this},h.prototype.range=function(t,e,i,n){var r,o=[],s=this._comparator,a=this._root;while(0!==o.length||a)if(a)o.push(a),a=a.left;else{if(a=o.pop(),r=s(a.key,e),r>0)break;if(s(a.key,t)>=0&&i.call(n,a))return this;a=a.right}return this},h.prototype.keys=function(){var t=[];return this.forEach((function(e){var i=e.key;return t.push(i)})),t},h.prototype.values=function(){var t=[];return this.forEach((function(e){var i=e.data;return t.push(i)})),t},h.prototype.min=function(){return this._root?this.minNode(this._root).key:null},h.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},h.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)while(t.left)t=t.left;return t},h.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)while(t.right)t=t.right;return t},h.prototype.at=function(t){var e=this._root,i=!1,n=0,r=[];while(!i)if(e)r.push(e),e=e.left;else if(r.length>0){if(e=r.pop(),n===t)return e;n++,e=e.right}else i=!0;return null},h.prototype.next=function(t){var e=this._root,i=null;if(t.right){i=t.right;while(i.left)i=i.left;return i}var n=this._comparator;while(e){var r=n(t.key,e.key);if(0===r)break;r<0?(i=e,e=e.left):e=e.right}return i},h.prototype.prev=function(t){var e=this._root,i=null;if(null!==t.left){i=t.left;while(i.right)i=i.right;return i}var n=this._comparator;while(e){var r=n(t.key,e.key);if(0===r)break;r<0?e=e.left:(i=e,e=e.right)}return i},h.prototype.clear=function(){return this._root=null,this._size=0,this},h.prototype.toList=function(){return c(this._root)},h.prototype.load=function(t,e,i){void 0===e&&(e=[]),void 0===i&&(i=!1);var n=t.length,r=this._comparator;if(i&&d(t,e,0,n-1,r),null===this._root)this._root=l(t,e,0,n),this._size=n;else{var o=f(this.toList(),u(t,e),r);n=this._size+n,this._root=p({head:o},0,n)}return this},h.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(h.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),h.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return a(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},h.prototype.update=function(t,e,i){var n=this._comparator,a=o(t,this._root,n),h=a.left,l=a.right;n(t,e)<0?l=r(e,i,l,n):h=r(e,i,h,n),this._root=s(h,l,n)},h.prototype.split=function(t){return o(t,this._root,this._comparator)},h.prototype[Symbol.iterator]=function(){var e,i,n;return t(this,(function(t){switch(t.label){case 0:e=this._root,i=[],n=!1,t.label=1;case 1:return n?[3,6]:null===e?[3,2]:(i.push(e),e=e.left,[3,5]);case 2:return 0===i.length?[3,4]:(e=i.pop(),[4,e]);case 3:return t.sent(),e=e.right,[3,5];case 4:n=!0,t.label=5;case 5:return[3,1];case 6:return[2]}}))},h}();function l(t,i,n,r){var o=r-n;if(o>0){var s=n+Math.floor(o/2),a=t[s],h=i[s],u=new e(a,h);return u.left=l(t,i,n,s),u.right=l(t,i,s+1,r),u}return null}function u(t,i){for(var n=new e(null,null),r=n,o=0;o<t.length;o++)r=r.next=new e(t[o],i[o]);return r.next=null,n.next}function c(t){var i=t,n=[],r=!1,o=new e(null,null),s=o;while(!r)i?(n.push(i),i=i.left):n.length>0?(i=s=s.next=n.pop(),i=i.right):r=!0;return s.next=null,o.next}function p(t,e,i){var n=i-e;if(n>0){var r=e+Math.floor(n/2),o=p(t,e,r),s=t.head;return s.left=o,t.head=t.head.next,s.right=p(t,r+1,i),s}return null}function f(t,i,n){var r=new e(null,null),o=r,s=t,a=i;while(null!==s&&null!==a)n(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),r.next}function d(t,e,i,n,r){if(!(i>=n)){var o=t[i+n>>1],s=i-1,a=n+1;while(1){do{s++}while(r(t[s],o)<0);do{a--}while(r(t[a],o)>0);if(s>=a)break;var h=t[s];t[s]=t[a],t[a]=h,h=e[s],e[s]=e[a],e[a]=h}d(t,e,i,a,r),d(t,e,a+1,n,r)}}const g=(t,e)=>t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y,y=(t,e)=>{if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;const i=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x,r=t.ll.y<e.ll.y?e.ll.y:t.ll.y,o=t.ur.y<e.ur.y?t.ur.y:e.ur.y;return{ll:{x:i,y:r},ur:{x:n,y:o}}};let m=Number.EPSILON;void 0===m&&(m=Math.pow(2,-52));const _=m*m,v=(t,e)=>{if(-m<t&&t<m&&-m<e&&e<m)return 0;const i=t-e;return i*i<_*t*e?0:t<e?-1:1};class x{constructor(){this.reset()}reset(){this.xRounder=new b,this.yRounder=new b}round(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}class b{constructor(){this.tree=new h,this.round(0)}round(t){const e=this.tree.add(t),i=this.tree.prev(e);if(null!==i&&0===v(e.key,i.key))return this.tree.remove(t),i.key;const n=this.tree.next(e);return null!==n&&0===v(e.key,n.key)?(this.tree.remove(t),n.key):t}}const w=new x,M=11102230246251565e-32,E=134217729,S=(3+8*M)*M;function C(t,e,i,n,r){let o,s,a,h,l=e[0],u=n[0],c=0,p=0;u>l===u>-l?(o=l,l=e[++c]):(o=u,u=n[++p]);let f=0;if(c<t&&p<i){u>l===u>-l?(s=l+o,a=o-(s-l),l=e[++c]):(s=u+o,a=o-(s-u),u=n[++p]),o=s,0!==a&&(r[f++]=a);while(c<t&&p<i)u>l===u>-l?(s=o+l,h=s-o,a=o-(s-h)+(l-h),l=e[++c]):(s=o+u,h=s-o,a=o-(s-h)+(u-h),u=n[++p]),o=s,0!==a&&(r[f++]=a)}while(c<t)s=o+l,h=s-o,a=o-(s-h)+(l-h),l=e[++c],o=s,0!==a&&(r[f++]=a);while(p<i)s=o+u,h=s-o,a=o-(s-h)+(u-h),u=n[++p],o=s,0!==a&&(r[f++]=a);return 0===o&&0!==f||(r[f++]=o),f}function I(t,e){let i=e[0];for(let n=1;n<t;n++)i+=e[n];return i}function P(t){return new Float64Array(t)}const L=(3+16*M)*M,O=(2+12*M)*M,N=(9+64*M)*M*M,T=P(4),A=P(8),R=P(12),D=P(16),k=P(4);function F(t,e,i,n,r,o,s){let a,h,l,u,c,p,f,d,g,y,m,_,v,x,b,w,M,P;const L=t-r,F=i-r,B=e-o,z=n-o;x=L*z,p=E*L,f=p-(p-L),d=L-f,p=E*z,g=p-(p-z),y=z-g,b=d*y-(x-f*g-d*g-f*y),w=B*F,p=E*B,f=p-(p-B),d=B-f,p=E*F,g=p-(p-F),y=F-g,M=d*y-(w-f*g-d*g-f*y),m=b-M,c=b-m,T[0]=b-(m+c)+(c-M),_=x+m,c=_-x,v=x-(_-c)+(m-c),m=v-w,c=v-m,T[1]=v-(m+c)+(c-w),P=_+m,c=P-_,T[2]=_-(P-c)+(m-c),T[3]=P;let j=I(4,T),U=O*s;if(j>=U||-j>=U)return j;if(c=t-L,a=t-(L+c)+(c-r),c=i-F,l=i-(F+c)+(c-r),c=e-B,h=e-(B+c)+(c-o),c=n-z,u=n-(z+c)+(c-o),0===a&&0===h&&0===l&&0===u)return j;if(U=N*s+S*Math.abs(j),j+=L*u+z*a-(B*l+F*h),j>=U||-j>=U)return j;x=a*z,p=E*a,f=p-(p-a),d=a-f,p=E*z,g=p-(p-z),y=z-g,b=d*y-(x-f*g-d*g-f*y),w=h*F,p=E*h,f=p-(p-h),d=h-f,p=E*F,g=p-(p-F),y=F-g,M=d*y-(w-f*g-d*g-f*y),m=b-M,c=b-m,k[0]=b-(m+c)+(c-M),_=x+m,c=_-x,v=x-(_-c)+(m-c),m=v-w,c=v-m,k[1]=v-(m+c)+(c-w),P=_+m,c=P-_,k[2]=_-(P-c)+(m-c),k[3]=P;const G=C(4,T,4,k,A);x=L*u,p=E*L,f=p-(p-L),d=L-f,p=E*u,g=p-(p-u),y=u-g,b=d*y-(x-f*g-d*g-f*y),w=B*l,p=E*B,f=p-(p-B),d=B-f,p=E*l,g=p-(p-l),y=l-g,M=d*y-(w-f*g-d*g-f*y),m=b-M,c=b-m,k[0]=b-(m+c)+(c-M),_=x+m,c=_-x,v=x-(_-c)+(m-c),m=v-w,c=v-m,k[1]=v-(m+c)+(c-w),P=_+m,c=P-_,k[2]=_-(P-c)+(m-c),k[3]=P;const V=C(G,A,4,k,R);x=a*u,p=E*a,f=p-(p-a),d=a-f,p=E*u,g=p-(p-u),y=u-g,b=d*y-(x-f*g-d*g-f*y),w=h*l,p=E*h,f=p-(p-h),d=h-f,p=E*l,g=p-(p-l),y=l-g,M=d*y-(w-f*g-d*g-f*y),m=b-M,c=b-m,k[0]=b-(m+c)+(c-M),_=x+m,c=_-x,v=x-(_-c)+(m-c),m=v-w,c=v-m,k[1]=v-(m+c)+(c-w),P=_+m,c=P-_,k[2]=_-(P-c)+(m-c),k[3]=P;const q=C(V,R,4,k,D);return D[q-1]}function B(t,e,i,n,r,o){const s=(e-o)*(i-r),a=(t-r)*(n-o),h=s-a,l=Math.abs(s+a);return Math.abs(h)>=L*l?h:-F(t,e,i,n,r,o,l)}const z=(t,e)=>t.x*e.y-t.y*e.x,j=(t,e)=>t.x*e.x+t.y*e.y,U=(t,e,i)=>{const n=B(t.x,t.y,e.x,e.y,i.x,i.y);return n>0?-1:n<0?1:0},G=t=>Math.sqrt(j(t,t)),V=(t,e,i)=>{const n={x:e.x-t.x,y:e.y-t.y},r={x:i.x-t.x,y:i.y-t.y};return z(r,n)/G(r)/G(n)},q=(t,e,i)=>{const n={x:e.x-t.x,y:e.y-t.y},r={x:i.x-t.x,y:i.y-t.y};return j(r,n)/G(r)/G(n)},W=(t,e,i)=>0===e.y?null:{x:t.x+e.x/e.y*(i-t.y),y:i},Y=(t,e,i)=>0===e.x?null:{x:i,y:t.y+e.y/e.x*(i-t.x)},H=(t,e,i,n)=>{if(0===e.x)return Y(i,n,t.x);if(0===n.x)return Y(t,e,i.x);if(0===e.y)return W(i,n,t.y);if(0===n.y)return W(t,e,i.y);const r=z(e,n);if(0==r)return null;const o={x:i.x-t.x,y:i.y-t.y},s=z(o,e)/r,a=z(o,n)/r,h=t.x+a*e.x,l=i.x+s*n.x,u=t.y+a*e.y,c=i.y+s*n.y,p=(h+l)/2,f=(u+c)/2;return{x:p,y:f}};class X{static compare(t,e){const i=X.comparePoints(t.point,e.point);return 0!==i?i:(t.point!==e.point&&t.link(e),t.isLeft!==e.isLeft?t.isLeft?1:-1:$.compare(t.segment,e.segment))}static comparePoints(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}constructor(t,e){void 0===t.events?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=e}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const e=t.point.events;for(let i=0,n=e.length;i<n;i++){const t=e[i];this.point.events.push(t),t.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let e=0;e<t;e++){const i=this.point.events[e];if(void 0===i.segment.consumedBy)for(let n=e+1;n<t;n++){const t=this.point.events[n];void 0===t.consumedBy&&(i.otherSE.point.events===t.otherSE.point.events&&i.segment.consume(t.segment))}}}getAvailableLinkedEvents(){const t=[];for(let e=0,i=this.point.events.length;e<i;e++){const i=this.point.events[e];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}getLeftmostComparator(t){const e=new Map,i=i=>{const n=i.otherSE;e.set(i,{sine:V(this.point,t.point,n.point),cosine:q(this.point,t.point,n.point)})};return(t,n)=>{e.has(t)||i(t),e.has(n)||i(n);const{sine:r,cosine:o}=e.get(t),{sine:s,cosine:a}=e.get(n);return r>=0&&s>=0?o<a?1:o>a?-1:0:r<0&&s<0?o<a?-1:o>a?1:0:s<r?-1:s>r?1:0}}}let Z=0;class ${static compare(t,e){const i=t.leftSE.point.x,n=e.leftSE.point.x,r=t.rightSE.point.x,o=e.rightSE.point.x;if(o<i)return 1;if(r<n)return-1;const s=t.leftSE.point.y,a=e.leftSE.point.y,h=t.rightSE.point.y,l=e.rightSE.point.y;if(i<n){if(a<s&&a<h)return 1;if(a>s&&a>h)return-1;const i=t.comparePoint(e.leftSE.point);if(i<0)return 1;if(i>0)return-1;const n=e.comparePoint(t.rightSE.point);return 0!==n?n:-1}if(i>n){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;const i=e.comparePoint(t.leftSE.point);if(0!==i)return i;const n=t.comparePoint(e.rightSE.point);return n<0?1:n>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(r<o){const i=e.comparePoint(t.rightSE.point);if(0!==i)return i}if(r>o){const i=t.comparePoint(e.rightSE.point);if(i<0)return 1;if(i>0)return-1}if(r!==o){const t=h-s,e=r-i,u=l-a,c=o-n;if(t>e&&u<c)return 1;if(t<e&&u>c)return-1}return r>o?1:r<o||h<l?-1:h>l?1:t.id<e.id?-1:t.id>e.id?1:0}constructor(t,e,i,n){this.id=++Z,this.leftSE=t,t.segment=this,t.otherSE=e,this.rightSE=e,e.segment=this,e.otherSE=t,this.rings=i,this.windings=n}static fromRing(t,e,i){let n,r,o;const s=X.comparePoints(t,e);if(s<0)n=t,r=e,o=1;else{if(!(s>0))throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);n=e,r=t,o=-1}const a=new X(n,!0),h=new X(r,!1);return new $(a,h,[i],[o])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const e=this.leftSE.point,i=this.rightSE.point,n=this.vector();if(e.x===i.x)return t.x===e.x?0:t.x<e.x?1:-1;const r=(t.y-e.y)/n.y,o=e.x+r*n.x;if(t.x===o)return 0;const s=(t.x-e.x)/n.x,a=e.y+s*n.y;return t.y===a?0:t.y<a?-1:1}getIntersection(t){const e=this.bbox(),i=t.bbox(),n=y(e,i);if(null===n)return null;const r=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,h=g(e,s)&&0===this.comparePoint(s),l=g(i,r)&&0===t.comparePoint(r),u=g(e,a)&&0===this.comparePoint(a),c=g(i,o)&&0===t.comparePoint(o);if(l&&h)return c&&!u?o:!c&&u?a:null;if(l)return u&&r.x===a.x&&r.y===a.y?null:r;if(h)return c&&o.x===s.x&&o.y===s.y?null:s;if(c&&u)return null;if(c)return o;if(u)return a;const p=H(r,this.vector(),s,t.vector());return null===p?null:g(n,p)?w.round(p.x,p.y):null}split(t){const e=[],i=void 0!==t.events,n=new X(t,!0),r=new X(t,!1),o=this.rightSE;this.replaceRightSE(r),e.push(r),e.push(n);const s=new $(n,o,this.rings.slice(),this.windings.slice());return X.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),X.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(n.checkForConsuming(),r.checkForConsuming()),e}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let e=0,i=this.windings.length;e<i;e++)this.windings[e]*=-1}consume(t){let e=this,i=t;while(e.consumedBy)e=e.consumedBy;while(i.consumedBy)i=i.consumedBy;const n=$.compare(e,i);if(0!==n){if(n>0){const t=e;e=i,i=t}if(e.prev===i){const t=e;e=i,i=t}for(let t=0,n=i.rings.length;t<n;t++){const n=i.rings[t],r=i.windings[t],o=e.rings.indexOf(n);-1===o?(e.rings.push(n),e.windings.push(r)):e.windings[o]+=r}i.rings=null,i.windings=null,i.consumedBy=e,i.leftSE.consumedBy=e.leftSE,i.rightSE.consumedBy=e.rightSE}}prevInResult(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}beforeState(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}afterState(){if(void 0!==this._afterState)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const e=this._afterState.rings,i=this._afterState.windings,n=this._afterState.multiPolys;for(let s=0,a=this.rings.length;s<a;s++){const t=this.rings[s],n=this.windings[s],r=e.indexOf(t);-1===r?(e.push(t),i.push(n)):i[r]+=n}const r=[],o=[];for(let s=0,a=e.length;s<a;s++){if(0===i[s])continue;const t=e[s],n=t.poly;if(-1===o.indexOf(n))if(t.isExterior)r.push(n);else{-1===o.indexOf(n)&&o.push(n);const e=r.indexOf(t.poly);-1!==e&&r.splice(e,1)}}for(let s=0,a=r.length;s<a;s++){const t=r[s].multiPoly;-1===n.indexOf(t)&&n.push(t)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;const t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(at.type){case"union":{const i=0===t.length,n=0===e.length;this._isInResult=i!==n;break}case"intersection":{let i,n;t.length<e.length?(i=t.length,n=e.length):(i=e.length,n=t.length),this._isInResult=n===at.numMultiPolys&&i<n;break}case"xor":{const i=Math.abs(t.length-e.length);this._isInResult=i%2===1;break}case"difference":{const i=t=>1===t.length&&t[0].isSubject;this._isInResult=i(t)!==i(e);break}default:throw new Error(`Unrecognized operation type found ${at.type}`)}return this._isInResult}}class J{constructor(t,e,i){if(!Array.isArray(t)||0===t.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=e,this.isExterior=i,this.segments=[],"number"!==typeof t[0][0]||"number"!==typeof t[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=w.round(t[0][0],t[0][1]);this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let r=n;for(let o=1,s=t.length;o<s;o++){if("number"!==typeof t[o][0]||"number"!==typeof t[o][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let e=w.round(t[o][0],t[o][1]);e.x===r.x&&e.y===r.y||(this.segments.push($.fromRing(r,e,this)),e.x<this.bbox.ll.x&&(this.bbox.ll.x=e.x),e.y<this.bbox.ll.y&&(this.bbox.ll.y=e.y),e.x>this.bbox.ur.x&&(this.bbox.ur.x=e.x),e.y>this.bbox.ur.y&&(this.bbox.ur.y=e.y),r=e)}n.x===r.x&&n.y===r.y||this.segments.push($.fromRing(r,n,this))}getSweepEvents(){const t=[];for(let e=0,i=this.segments.length;e<i;e++){const i=this.segments[e];t.push(i.leftSE),t.push(i.rightSE)}return t}}class K{constructor(t,e){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new J(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,n=t.length;i<n;i++){const e=new J(t[i],this,!1);e.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=e.bbox.ur.y),this.interiorRings.push(e)}this.multiPoly=e}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let e=0,i=this.interiorRings.length;e<i;e++){const i=this.interiorRings[e].getSweepEvents();for(let e=0,n=i.length;e<n;e++)t.push(i[e])}return t}}class Q{constructor(t,e){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"===typeof t[0][0][0]&&(t=[t])}catch(i){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let n=0,r=t.length;n<r;n++){const e=new K(t[n],this);e.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=e.bbox.ll.x),e.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=e.bbox.ll.y),e.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=e.bbox.ur.x),e.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=e.bbox.ur.y),this.polys.push(e)}this.isSubject=e}getSweepEvents(){const t=[];for(let e=0,i=this.polys.length;e<i;e++){const i=this.polys[e].getSweepEvents();for(let e=0,n=i.length;e<n;e++)t.push(i[e])}return t}}class tt{static factory(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];if(!n.isInResult()||n.ringOut)continue;let r=null,o=n.leftSE,s=n.rightSE;const a=[o],h=o.point,l=[];while(1){if(r=o,o=s,a.push(o),o.point===h)break;while(1){const t=o.getAvailableLinkedEvents();if(0===t.length){const t=a[0].point,e=a[a.length-1].point;throw new Error(`Unable to complete output ring starting at [${t.x}, ${t.y}]. Last matching segment found ends at [${e.x}, ${e.y}].`)}if(1===t.length){s=t[0].otherSE;break}let i=null;for(let e=0,r=l.length;e<r;e++)if(l[e].point===o.point){i=e;break}if(null!==i){const t=l.splice(i)[0],n=a.splice(t.index);n.unshift(n[0].otherSE),e.push(new tt(n.reverse()));continue}l.push({index:a.length,point:o.point});const n=o.getLeftmostComparator(r);s=t.sort(n)[0].otherSE;break}}e.push(new tt(a))}return e}constructor(t){this.events=t;for(let e=0,i=t.length;e<i;e++)t[e].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const e=[t];for(let h=1,l=this.events.length-1;h<l;h++){const i=this.events[h].point,n=this.events[h+1].point;0!==U(i,t,n)&&(e.push(i),t=i)}if(1===e.length)return null;const i=e[0],n=e[1];0===U(i,t,n)&&e.shift(),e.push(e[0]);const r=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:e.length-1,s=this.isExteriorRing()?e.length:-1,a=[];for(let h=o;h!=s;h+=r)a.push([e[h].x,e[h].y]);return a}isExteriorRing(){if(void 0===this._isExteriorRing){const t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}enclosingRing(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let n=1,r=this.events.length;n<r;n++){const e=this.events[n];X.compare(t,e)>0&&(t=e)}let e=t.segment.prevInResult(),i=e?e.prevInResult():null;while(1){if(!e)return null;if(!i)return e.ringOut;if(i.ringOut!==e.ringOut)return i.ringOut.enclosingRing()!==e.ringOut?e.ringOut:e.ringOut.enclosingRing();e=i.prevInResult(),i=e?e.prevInResult():null}}}class et{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(let e=0,i=this.interiorRings.length;e<i;e++){const i=this.interiorRings[e].getGeom();null!==i&&t.push(i)}return t}}class it{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let e=0,i=this.polys.length;e<i;e++){const i=this.polys[e].getGeom();null!==i&&t.push(i)}return t}_composePolys(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];if(!n.poly)if(n.isExteriorRing())e.push(new et(n));else{const t=n.enclosingRing();t.poly||e.push(new et(t)),t.poly.addInterior(n)}}return e}}class nt{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.compare;this.queue=t,this.tree=new h(e),this.segments=[]}process(t){const e=t.segment,i=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),i;const n=t.isLeft?this.tree.add(e):this.tree.find(e);if(!n)throw new Error(`Unable to find segment #${e.id} [${e.leftSE.point.x}, ${e.leftSE.point.y}] -> [${e.rightSE.point.x}, ${e.rightSE.point.y}] in SweepLine tree.`);let r,o,s=n,a=n;while(void 0===r)s=this.tree.prev(s),null===s?r=null:void 0===s.key.consumedBy&&(r=s.key);while(void 0===o)a=this.tree.next(a),null===a?o=null:void 0===a.key.consumedBy&&(o=a.key);if(t.isLeft){let n=null;if(r){const t=r.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(n=t),!r.isAnEndpoint(t))){const e=this._splitSafely(r,t);for(let t=0,n=e.length;t<n;t++)i.push(e[t])}}let s=null;if(o){const t=o.getIntersection(e);if(null!==t&&(e.isAnEndpoint(t)||(s=t),!o.isAnEndpoint(t))){const e=this._splitSafely(o,t);for(let t=0,n=e.length;t<n;t++)i.push(e[t])}}if(null!==n||null!==s){let t=null;if(null===n)t=s;else if(null===s)t=n;else{const e=X.comparePoints(n,s);t=e<=0?n:s}this.queue.remove(e.rightSE),i.push(e.rightSE);const r=e.split(t);for(let e=0,n=r.length;e<n;e++)i.push(r[e])}i.length>0?(this.tree.remove(e),i.push(t)):(this.segments.push(e),e.prev=r)}else{if(r&&o){const t=r.getIntersection(o);if(null!==t){if(!r.isAnEndpoint(t)){const e=this._splitSafely(r,t);for(let t=0,n=e.length;t<n;t++)i.push(e[t])}if(!o.isAnEndpoint(t)){const e=this._splitSafely(o,t);for(let t=0,n=e.length;t<n;t++)i.push(e[t])}}}this.tree.remove(e)}return i}_splitSafely(t,e){this.tree.remove(t);const i=t.rightSE;this.queue.remove(i);const n=t.split(e);return n.push(i),void 0===t.consumedBy&&this.tree.add(t),n}}const rt="undefined"!==typeof process&&{VUE_APP_BASE_URL:"/v2/",NODE_ENV:"production",BASE_URL:"/population-datavisu/"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,ot="undefined"!==typeof process&&{VUE_APP_BASE_URL:"/v2/",NODE_ENV:"production",BASE_URL:"/population-datavisu/"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class st{run(t,e,i){at.type=t,w.reset();const n=[new Q(e,!0)];for(let h=0,c=i.length;h<c;h++)n.push(new Q(i[h],!1));if(at.numMultiPolys=n.length,"difference"===at.type){const t=n[0];let e=1;while(e<n.length)null!==y(n[e].bbox,t.bbox)?e++:n.splice(e,1)}if("intersection"===at.type)for(let h=0,c=n.length;h<c;h++){const t=n[h];for(let e=h+1,i=n.length;e<i;e++)if(null===y(t.bbox,n[e].bbox))return[]}const r=new h(X.compare);for(let h=0,c=n.length;h<c;h++){const t=n[h].getSweepEvents();for(let e=0,i=t.length;e<i;e++)if(r.insert(t[e]),r.size>rt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const o=new nt(r);let s=r.size,a=r.pop();while(a){const t=a.key;if(r.size===s){const e=t.segment;throw new Error(`Unable to pop() ${t.isLeft?"left":"right"} SweepEvent [${t.point.x}, ${t.point.y}] from segment #${e.id} [${e.leftSE.point.x}, ${e.leftSE.point.y}] -> [${e.rightSE.point.x}, ${e.rightSE.point.y}] from queue.`)}if(r.size>rt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(o.segments.length>ot)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const e=o.process(t);for(let i=0,n=e.length;i<n;i++){const t=e[i];void 0===t.consumedBy&&r.insert(t)}s=r.size,a=r.pop()}w.reset();const l=tt.factory(o.segments),u=new it(l);return u.getGeom()}}const at=new st,ht=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return at.run("union",t,i)},lt=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return at.run("intersection",t,i)},ut=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return at.run("xor",t,i)},ct=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return at.run("difference",t,i)};var pt={union:ht,intersection:lt,xor:ut,difference:ct};return pt}))},1567:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return bs}});i(8992),i(3949),i(1454);function n(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=0;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}i(4114),i(4520),i(8872);var r=1,o=2,s=3,a=4,h=5,l=6378137,u=6356752.314,c=.0066943799901413165,p=484813681109536e-20,f=Math.PI/2,d=.16666666666666666,g=.04722222222222222,y=.022156084656084655,m=1e-10,_=.017453292519943295,v=57.29577951308232,x=Math.PI/4,b=2*Math.PI,w=3.14159265359,M={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},E={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}},S=/[\s_\-\/\(\)]/g;function C(t,e){if(t[e])return t[e];var i,n,r=Object.keys(t),o=e.toLowerCase().replace(S,""),s=-1;while(++s<r.length)if(i=r[s],n=i.toLowerCase().replace(S,""),n===o)return t[i]}function I(t){var e,i,n,r={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var i=e.split("=");return i.push(!0),t[i[0].toLowerCase()]=i[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*_},lat_1:function(t){r.lat1=t*_},lat_2:function(t){r.lat2=t*_},lat_ts:function(t){r.lat_ts=t*_},lon_0:function(t){r.long0=t*_},lon_1:function(t){r.long1=t*_},lon_2:function(t){r.long2=t*_},alpha:function(t){r.alpha=parseFloat(t)*_},gamma:function(t){r.rectified_grid_angle=parseFloat(t)},lonc:function(t){r.longc=t*_},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r:function(t){r.a=r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=C(E,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*_},pm:function(t){var e=C(M,t);r.from_greenwich=(e||parseFloat(t))*_},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)},approx:function(){r.approx=!0}};for(e in o)i=o[e],e in s?(n=s[e],"function"===typeof n?n(i):r[n]=i):r[e]=i;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}var P=U,L=1,O=2,N=3,T=4,A=5,R=-1,D=/\s/,k=/[A-Za-z]/,F=/[A-Za-z84_]/,B=/[,\]]/,z=/[\d\.E\-\+]/;function j(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=L}function U(t){var e=new j(t);return e.output()}function G(t,e,i){Array.isArray(e)&&(i.unshift(e),e=null);var n=e?{}:t,r=i.reduce((function(t,e){return V(e,t),t}),n);e&&(t[e]=r)}function V(t,e){if(Array.isArray(t)){var i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void V(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i){if("AXIS"===i)return i in e||(e[i]=[]),void e[i].push(t);var n;switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&V(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&V(t[3],e[i]));case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":return t[0]=["name",t[0]],void G(e,i,t);case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":return t[0]=["name",t[0]],G(e,i,t),void(e[i].type=i);default:n=-1;while(++n<t.length)if(!Array.isArray(t[n]))return V(t,e[i]);return G(e,i,t)}}else e[i]=t;else e[i]=!0}else e[t]=!0}j.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==T)while(D.test(t)){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case L:return this.neutral(t);case O:return this.keyword(t);case T:return this.quoted(t);case A:return this.afterquote(t);case N:return this.number(t);case R:return}},j.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=T);if(B.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},j.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=L)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=L,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=R))):void 0},j.prototype.number=function(t){if(!z.test(t)){if(B.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},j.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=A},j.prototype.keyword=function(t){if(F.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=L)}if(!B.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},j.prototype.neutral=function(t){if(k.test(t))return this.word=t,void(this.state=O);if('"'===t)return this.word="",void(this.state=T);if(z.test(t))return this.word=t,void(this.state=N);if(!B.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},j.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===R)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var q=.017453292519943295,W=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Y(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function H(t){return t*q}function X(t){for(var e=Object.keys(t),i=0,n=e.length;i<n;++i){var r=e[i];-1!==W.indexOf(r)&&Z(t[r]),"object"===typeof t[r]&&X(t[r])}}function Z(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var i="",n=0,r=t.AXIS.length;n<r;++n){var o=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==o[0].indexOf("north")||("y"===o[0]||"lat"===o[0])&&"north"===o[1]?i+="n":-1!==o[0].indexOf("south")||("y"===o[0]||"lat"===o[0])&&"south"===o[1]?i+="s":-1!==o[0].indexOf("east")||("x"===o[0]||"lon"===o[0])&&"east"===o[1]?i+="e":-1===o[0].indexOf("west")&&("x"!==o[0]&&"lon"!==o[0]||"west"!==o[1])||(i+="w")}2===i.length&&(i+="u"),3===i.length&&(t.axis=i)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function a(e){var i=t.to_meter||1;return e*i}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_1949"===t.datumCode&&(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"belge_1972"===t.datumCode&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);var h=function(e){return Y(t,e)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",H],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",H],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",H],["lat0","latitude_of_origin",H],["lat0","standard_parallel_1",H],["lat1","standard_parallel_1",H],["lat2","standard_parallel_2",H],["azimuth","Azimuth"],["alpha","azimuth",H],["srsCode","name"]];l.forEach(h),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName?!t.lat_ts&&t.lat0&&"Polar_Stereographic"===t.projName&&(t.lat_ts=t.lat0,t.lat0=H(t.lat0>0?90:-90)):(t.lat0=H(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function $(t){var e=P(t),i=e[0],n={};return V(e,n),X(n),n[i]}function J(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"===typeof i?"+"===i.charAt(0)?J[t]=I(arguments[1]):J[t]=$(arguments[1]):J[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?J.apply(e,t):J(t)}));if("string"===typeof t){if(t in J)return J[t]}else"EPSG"in t?J["EPSG:"+t.EPSG]=t:"ESRI"in t?J["ESRI:"+t.ESRI]=t:"IAU2000"in t?J["IAU2000:"+t.IAU2000]=t:console.log(t);return}}n(J);var K=J;function Q(t){return"string"===typeof t}function tt(t){return t in K}var et=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function it(t){return et.some((function(e){return t.indexOf(e)>-1}))}var nt=["3857","900913","3785","102113"];function rt(t){var e=C(t,"authority");if(e){var i=C(e,"epsg");return i&&nt.indexOf(i)>-1}}function ot(t){var e=C(t,"extension");if(e)return C(e,"proj4")}function st(t){return"+"===t[0]}function at(t){if(!Q(t))return t;if(tt(t))return K[t];if(it(t)){var e=$(t);if(rt(e))return K["EPSG:3857"];var i=ot(e);return i?I(i):e}return st(t)?I(t):void 0}var ht=at;function lt(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}function ut(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}function ct(t){return t<0?-1:1}function pt(t){return Math.abs(t)<=w?t:t-ct(t)*b}function ft(t,e,i){var n=t*i,r=.5*t;return n=Math.pow((1-n)/(1+n),r),Math.tan(.5*(f-e))/n}function dt(t,e){for(var i,n,r=.5*t,o=f-2*Math.atan(e),s=0;s<=15;s++)if(i=t*Math.sin(o),n=f-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-o,o+=n,Math.abs(n)<=1e-10)return o;return-9999}function gt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function yt(t){var e,i,n=t.x,r=t.y;if(r*v>90&&r*v<-90&&n*v>180&&n*v<-180)return null;if(Math.abs(Math.abs(r)-f)<=m)return null;if(this.sphere)e=this.x0+this.a*this.k0*pt(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(x+.5*r));else{var o=Math.sin(r),s=ft(this.e,r,o);e=this.x0+this.a*this.k0*pt(n-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=i,t}function mt(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=f-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(i=dt(this.e,o),-9999===i)return null}return e=pt(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t}var _t=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],vt={init:gt,forward:yt,inverse:mt,names:_t};function xt(){}function bt(t){return t}var wt=["longlat","identity"],Mt={init:xt,forward:bt,inverse:bt,names:wt},Et=[vt,Mt],St={},Ct=[];function It(t,e){var i=Ct.length;return t.names?(Ct[i]=t,t.names.forEach((function(t){St[t.toLowerCase()]=i})),this):(console.log(e),!0)}function Pt(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof St[e]&&Ct[St[e]]?Ct[St[e]]:void 0}function Lt(){Et.forEach(It)}var Ot={start:Lt,add:It,get:Pt},Nt={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Tt=Nt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function At(t,e,i,n){var r=t*t,o=e*e,s=(r-o)/r,a=0;n?(t*=1-s*(d+s*(g+s*y)),r=t*t,s=0):a=Math.sqrt(s);var h=(r-o)/o;return{es:s,e:a,ep2:h}}function Rt(t,e,i,n,r){if(!t){var o=C(Nt,n);o||(o=Tt),t=o.a,e=o.b,i=o.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<m)&&(r=!0,e=t),{a:t,b:e,rf:i,sphere:r}}Nt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Dt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},militargeographische_institut:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var kt in Dt){var Ft=Dt[kt];Dt[Ft.datumName]=Ft}var Bt=Dt;function zt(t,e,i,n,l,u,c){var f={};return f.datum_type=void 0===t||"none"===t?h:a,e&&(f.datum_params=e.map(parseFloat),0===f.datum_params[0]&&0===f.datum_params[1]&&0===f.datum_params[2]||(f.datum_type=r),f.datum_params.length>3&&(0===f.datum_params[3]&&0===f.datum_params[4]&&0===f.datum_params[5]&&0===f.datum_params[6]||(f.datum_type=o,f.datum_params[3]*=p,f.datum_params[4]*=p,f.datum_params[5]*=p,f.datum_params[6]=f.datum_params[6]/1e6+1))),c&&(f.datum_type=s,f.grids=c),f.a=i,f.b=n,f.es=l,f.ep2=u,f}var jt=zt,Ut=(i(6573),i(8100),i(7936),i(7467),i(4732),i(9577),{});function Gt(t,e){var i=new DataView(e),n=Yt(i),r=Ht(i,n),o=Zt(i,r,n),s={header:r,subgrids:o};return Ut[t]=s,s}function Vt(t){if(void 0===t)return null;var e=t.split(",");return e.map(qt)}function qt(t){if(0===t.length)return null;var e="@"===t[0];return e&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:Ut[t]||null,isNull:!1}}function Wt(t){return t/3600*Math.PI/180}function Yt(t){var e=t.getInt32(8,!1);return 11!==e&&(e=t.getInt32(8,!0),11!==e&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Ht(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Xt(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Xt(t,e,i){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,i)))}function Zt(t,e,i){for(var n=176,r=[],o=0;o<e.nSubgrids;o++){var s=Jt(t,n,i),a=Kt(t,n,s,i),h=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),l=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);r.push({ll:[Wt(s.lowerLongitude),Wt(s.lowerLatitude)],del:[Wt(s.longitudeInterval),Wt(s.latitudeInterval)],lim:[h,l],count:s.gridNodeCount,cvs:$t(a)}),n+=176+16*s.gridNodeCount}return r}function $t(t){return t.map((function(t){return[Wt(t.longitudeShift),Wt(t.latitudeShift)]}))}function Jt(t,e,i){return{name:Xt(t,e+8,e+16).trim(),parent:Xt(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,i),upperLatitude:t.getFloat64(e+88,i),lowerLongitude:t.getFloat64(e+104,i),upperLongitude:t.getFloat64(e+120,i),latitudeInterval:t.getFloat64(e+136,i),longitudeInterval:t.getFloat64(e+152,i),gridNodeCount:t.getInt32(e+168,i)}}function Kt(t,e,i,n){for(var r=e+176,o=16,s=[],a=0;a<i.gridNodeCount;a++){var h={latitudeShift:t.getFloat32(r+a*o,n),longitudeShift:t.getFloat32(r+a*o+4,n),latitudeAccuracy:t.getFloat32(r+a*o+8,n),longitudeAccuracy:t.getFloat32(r+a*o+12,n)};s.push(h)}return s}function Qt(t,e){if(!(this instanceof Qt))return new Qt(t);e=e||function(t){if(t)throw t};var i=ht(t);if("object"===typeof i){var n=Qt.projections.get(i.projName);if(n){if(i.datumCode&&"none"!==i.datumCode){var r=C(Bt,i.datumCode);r&&(i.datum_params=i.datum_params||(r.towgs84?r.towgs84.split(","):null),i.ellps=r.ellipse,i.datumName=r.datumName?r.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var o=Rt(i.a,i.b,i.rf,i.ellps,i.sphere),s=At(o.a,o.b,o.rf,i.R_A),a=Vt(i.nadgrids),h=i.datum||jt(i.datumCode,i.datum_params,o.a,o.b,s.es,s.ep2,a);lt(this,i),lt(this,n),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=h,this.init(),e(null,this)}else e("Could not get projection name from: "+t)}else e("Could not parse to valid json: "+t)}Qt.projections=Ot,Qt.projections.start();var te=Qt;function ee(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===r?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==o||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function ie(t,e,i){var n,r,o,s,a=t.x,h=t.y,l=t.z?t.z:0;if(h<-f&&h>-1.001*f)h=-f;else if(h>f&&h<1.001*f)h=f;else{if(h<-f)return{x:-1/0,y:-1/0,z:t.z};if(h>f)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(h),s=Math.cos(h),o=r*r,n=i/Math.sqrt(1-e*o),{x:(n+l)*s*Math.cos(a),y:(n+l)*s*Math.sin(a),z:(n*(1-e)+l)*r}}function ne(t,e,i,n){var r,o,s,a,h,l,u,c,p,d,g,y,m,_,v,x,b=1e-12,w=b*b,M=30,E=t.x,S=t.y,C=t.z?t.z:0;if(r=Math.sqrt(E*E+S*S),o=Math.sqrt(E*E+S*S+C*C),r/i<b){if(_=0,o/i<b)return v=f,x=-n,{x:t.x,y:t.y,z:t.z}}else _=Math.atan2(S,E);s=C/o,a=r/o,h=1/Math.sqrt(1-e*(2-e)*a*a),c=a*(1-e)*h,p=s*h,m=0;do{m++,u=i/Math.sqrt(1-e*p*p),x=r*c+C*p-u*(1-e*p*p),l=e*u/(u+x),h=1/Math.sqrt(1-l*(2-l)*a*a),d=a*(1-l)*h,g=s*h,y=g*c-d*p,c=d,p=g}while(y*y>w&&m<M);return v=Math.atan(g/Math.abs(d)),{x:_,y:v,z:x}}function re(t,e,i){if(e===r)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(e===o){var n=i[0],s=i[1],a=i[2],h=i[3],l=i[4],u=i[5],c=i[6];return{x:c*(t.x-u*t.y+l*t.z)+n,y:c*(u*t.x+t.y-h*t.z)+s,z:c*(-l*t.x+h*t.y+t.z)+a}}}function oe(t,e,i){if(e===r)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(e===o){var n=i[0],s=i[1],a=i[2],h=i[3],l=i[4],u=i[5],c=i[6],p=(t.x-n)/c,f=(t.y-s)/c,d=(t.z-a)/c;return{x:p+u*f-l*d,y:-u*p+f+h*d,z:l*p-h*f+d}}}function se(t){return t===r||t===o}function ae(t,e,i){if(ee(t,e))return i;if(t.datum_type===h||e.datum_type===h)return i;var n=t.a,r=t.es;if(t.datum_type===s){var o=he(t,!1,i);if(0!==o)return;n=l,r=c}var a=e.a,p=e.b,f=e.es;if(e.datum_type===s&&(a=l,p=u,f=c),r===f&&n===a&&!se(t.datum_type)&&!se(e.datum_type))return i;if(i=ie(i,r,n),se(t.datum_type)&&(i=re(i,t.datum_type,t.datum_params)),se(e.datum_type)&&(i=oe(i,e.datum_type,e.datum_params)),i=ne(i,f,a,p),e.datum_type===s){var d=he(e,!0,i);if(0!==d)return}return i}function he(t,e,i){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;var n={x:-i.x,y:i.y},r={x:Number.NaN,y:Number.NaN},o=[];t:for(var s=0;s<t.grids.length;s++){var a=t.grids[s];if(o.push(a.name),a.isNull){r=n;break}if(a.mandatory,null!==a.grid)for(var h=a.grid.subgrids,l=0,u=h.length;l<u;l++){var c=h[l],p=(Math.abs(c.del[1])+Math.abs(c.del[0]))/1e4,f=c.ll[0]-p,d=c.ll[1]-p,g=c.ll[0]+(c.lim[0]-1)*c.del[0]+p,y=c.ll[1]+(c.lim[1]-1)*c.del[1]+p;if(!(d>n.y||f>n.x||y<n.y||g<n.x)&&(r=le(n,e,c),!isNaN(r.x)))break t}else if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*v+" "+n.y*v+" tried: '"+o+"'"),-1):(i.x=-r.x,i.y=r.y,0)}function le(t,e,i){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var r={x:t.x,y:t.y};r.x-=i.ll[0],r.y-=i.ll[1],r.x=pt(r.x-Math.PI)+Math.PI;var o=ue(r,i);if(e){if(isNaN(o.x))return n;o.x=r.x-o.x,o.y=r.y-o.y;var s,a,h=9,l=1e-12;do{if(a=ue(o,i),isNaN(a.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:r.x-(a.x+o.x),y:r.y-(a.y+o.y)},o.x+=s.x,o.y+=s.y}while(h--&&Math.abs(s.x)>l&&Math.abs(s.y)>l);if(h<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=pt(o.x+i.ll[0]),n.y=o.y+i.ll[1]}else isNaN(o.x)||(n.x=t.x+o.x,n.y=t.y+o.y);return n}function ue(t,e){var i,n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},o={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN};if(r.x<0||r.x>=e.lim[0])return s;if(r.y<0||r.y>=e.lim[1])return s;i=r.y*e.lim[0]+r.x;var a={x:e.cvs[i][0],y:e.cvs[i][1]};i++;var h={x:e.cvs[i][0],y:e.cvs[i][1]};i+=e.lim[0];var l={x:e.cvs[i][0],y:e.cvs[i][1]};i--;var u={x:e.cvs[i][0],y:e.cvs[i][1]},c=o.x*o.y,p=o.x*(1-o.y),f=(1-o.x)*(1-o.y),d=(1-o.x)*o.y;return s.x=f*a.x+p*h.x+d*u.x+c*l.x,s.y=f*a.y+p*h.y+d*u.y+c*l.y,s}function ce(t,e,i){var n,r,o,s=i.x,a=i.y,h=i.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=s,r=-1!=="ew".indexOf(t.axis[o])?"x":"y"):1===o?(n=a,r=-1!=="ns".indexOf(t.axis[o])?"y":"x"):(n=h,r="z"),t.axis[o]){case"e":l[r]=n;break;case"w":l[r]=-n;break;case"n":l[r]=n;break;case"s":l[r]=-n;break;case"u":void 0!==i[r]&&(l.z=n);break;case"d":void 0!==i[r]&&(l.z=-n);break;default:return null}return l}function pe(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function fe(t){de(t.x),de(t.y)}function de(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ge(t,e){return(t.datum.datum_type===r||t.datum.datum_type===o||t.datum.datum_type===s)&&"WGS84"!==e.datumCode||(e.datum.datum_type===r||e.datum.datum_type===o||e.datum.datum_type===s)&&"WGS84"!==t.datumCode}function ye(t,e,i,n){var r;i=Array.isArray(i)?pe(i):{x:i.x,y:i.y,z:i.z,m:i.m};var o=void 0!==i.z;if(fe(i),t.datum&&e.datum&&ge(t,e)&&(r=new te("WGS84"),i=ye(t,r,i,n),t=r),n&&"enu"!==t.axis&&(i=ce(t,!1,i)),"longlat"===t.projName)i={x:i.x*_,y:i.y*_,z:i.z||0};else if(t.to_meter&&(i={x:i.x*t.to_meter,y:i.y*t.to_meter,z:i.z||0}),i=t.inverse(i),!i)return;if(t.from_greenwich&&(i.x+=t.from_greenwich),i=ae(t.datum,e.datum,i),i)return e.from_greenwich&&(i={x:i.x-e.from_greenwich,y:i.y,z:i.z||0}),"longlat"===e.projName?i={x:i.x*v,y:i.y*v,z:i.z||0}:(i=e.forward(i),e.to_meter&&(i={x:i.x/e.to_meter,y:i.y/e.to_meter,z:i.z||0})),n&&"enu"!==e.axis?ce(e,!0,i):(i&&!o&&delete i.z,i)}var me=te("WGS84");function _e(t,e,i,n){var r,o,s;return Array.isArray(i)?(r=ye(t,e,i,n)||{x:NaN,y:NaN},i.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(i.slice(3)):[r.x,r.y,i[2]].concat(i.slice(3)):[r.x,r.y].concat(i.slice(2)):[r.x,r.y]):(o=ye(t,e,i,n),s=Object.keys(i),2===s.length||s.forEach((function(n){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===n||"y"===n||"z"===n)return}else if("x"===n||"y"===n)return;o[n]=i[n]})),o)}function ve(t){return t instanceof te?t:t.oProj?t.oProj:te(t)}function xe(t,e,i){t=ve(t);var n,r=!1;return"undefined"===typeof e?(e=t,t=me,r=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(i=e,e=t,t=me,r=!0),e=ve(e),i?_e(t,e,i):(n={forward:function(i,n){return _e(t,e,i,n)},inverse:function(i,n){return _e(e,t,i,n)}},r&&(n.oProj=e),n)}var be=xe,we=6,Me="AJSAJS",Ee="AFAFAF",Se=65,Ce=73,Ie=79,Pe=86,Le=90,Oe={forward:Ne,inverse:Te,toPoint:Ae};function Ne(t,e){return e=e||5,ze(ke({lat:t[1],lon:t[0]}),e)}function Te(t){var e=Fe(Ve(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Ae(t){var e=Fe(Ve(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Re(t){return t*(Math.PI/180)}function De(t){return t/Math.PI*180}function ke(t){var e,i,n,r,o,s,a,h,l,u=t.lat,c=t.lon,p=6378137,f=.00669438,d=.9996,g=Re(u),y=Re(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60),u>=56&&u<64&&c>=3&&c<12&&(l=32),u>=72&&u<84&&(c>=0&&c<9?l=31:c>=9&&c<21?l=33:c>=21&&c<33?l=35:c>=33&&c<42&&(l=37)),e=6*(l-1)-180+3,h=Re(e),i=f/(1-f),n=p/Math.sqrt(1-f*Math.sin(g)*Math.sin(g)),r=Math.tan(g)*Math.tan(g),o=i*Math.cos(g)*Math.cos(g),s=Math.cos(g)*(y-h),a=p*((1-f/4-3*f*f/64-5*f*f*f/256)*g-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*g)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*g)-35*f*f*f/3072*Math.sin(6*g));var m=d*n*(s+(1-r+o)*s*s*s/6+(5-18*r+r*r+72*o-58*i)*s*s*s*s*s/120)+5e5,_=d*(a+n*Math.tan(g)*(s*s/2+(5-r+9*o+4*o*o)*s*s*s*s/24+(61-58*r+r*r+600*o-330*i)*s*s*s*s*s*s/720));return u<0&&(_+=1e7),{northing:Math.round(_),easting:Math.round(m),zoneNumber:l,zoneLetter:Be(u)}}function Fe(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,h,l,u,c,p,f,d,g=.9996,y=6378137,m=.00669438,_=(1-Math.sqrt(1-m))/(1+Math.sqrt(1-m)),v=i-5e5,x=e;n<"N"&&(x-=1e7),p=6*(r-1)-180+3,o=m/(1-m),c=x/g,f=c/(y*(1-m/4-3*m*m/64-5*m*m*m/256)),d=f+(3*_/2-27*_*_*_/32)*Math.sin(2*f)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*f)+151*_*_*_/96*Math.sin(6*f),s=y/Math.sqrt(1-m*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),h=o*Math.cos(d)*Math.cos(d),l=y*(1-m)/Math.pow(1-m*Math.sin(d)*Math.sin(d),1.5),u=v/(s*g);var b=d-s*Math.tan(d)/l*(u*u/2-(5+3*a+10*h-4*h*h-9*o)*u*u*u*u/24+(61+90*a+298*h+45*a*a-252*o-3*h*h)*u*u*u*u*u*u/720);b=De(b);var w,M=(u-(1+2*a+h)*u*u*u/6+(5-2*h+28*a-3*h*h+8*o+24*a*a)*u*u*u*u*u/120)/Math.cos(d);if(M=p+De(M),t.accuracy){var E=Fe({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});w={top:E.lat,right:E.lon,bottom:b,left:M}}else w={lat:b,lon:M};return w}function Be(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function ze(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+je(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function je(t,e,i){var n=Ue(i),r=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return Ge(r,o,n)}function Ue(t){var e=t%we;return 0===e&&(e=we),e}function Ge(t,e,i){var n=i-1,r=Me.charCodeAt(n),o=Ee.charCodeAt(n),s=r+t-1,a=o+e,h=!1;s>Le&&(s=s-Le+Se-1,h=!0),(s===Ce||r<Ce&&s>Ce||(s>Ce||r<Ce)&&h)&&s++,(s===Ie||r<Ie&&s>Ie||(s>Ie||r<Ie)&&h)&&(s++,s===Ce&&s++),s>Le&&(s=s-Le+Se-1),a>Pe?(a=a-Pe+Se-1,h=!0):h=!1,(a===Ce||o<Ce&&a>Ce||(a>Ce||o<Ce)&&h)&&a++,(a===Ie||o<Ie&&a>Ie||(a>Ie||o<Ie)&&h)&&(a++,a===Ce&&a++),a>Pe&&(a=a-Pe+Se-1);var l=String.fromCharCode(s)+String.fromCharCode(a);return l}function Ve(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,i=t.length,n=null,r="",o=0;while(!/[A-Z]/.test(e=t.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);var h=Ue(s),l=qe(n.charAt(0),h),u=We(n.charAt(1),h);while(u<Ye(a))u+=2e6;var c=i-o;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,f,d,g,y,m=c/2,_=0,v=0;return m>0&&(p=1e5/Math.pow(10,m),f=t.substring(o,o+m),_=parseFloat(f)*p,d=t.substring(o+m),v=parseFloat(d)*p),g=_+l,y=v+u,{easting:g,northing:y,zoneLetter:a,zoneNumber:s,accuracy:p}}function qe(t,e){var i=Me.charCodeAt(e-1),n=1e5,r=!1;while(i!==t.charCodeAt(0)){if(i++,i===Ce&&i++,i===Ie&&i++,i>Le){if(r)throw"Bad character: "+t;i=Se,r=!0}n+=1e5}return n}function We(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=Ee.charCodeAt(e-1),n=0,r=!1;while(i!==t.charCodeAt(0)){if(i++,i===Ce&&i++,i===Ie&&i++,i>Pe){if(r)throw"Bad character: "+t;i=Se,r=!0}n+=1e5}return n}function Ye(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function He(t,e,i){if(!(this instanceof He))return new He(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}He.fromMGRS=function(t){return new He(Ae(t))},He.prototype.toMGRS=function(t){return Ne([this.x,this.y],t)};var Xe=He,Ze=1,$e=.25,Je=.046875,Ke=.01953125,Qe=.01068115234375,ti=.75,ei=.46875,ii=.013020833333333334,ni=.007120768229166667,ri=.3645833333333333,oi=.005696614583333333,si=.3076171875;function ai(t){var e=[];e[0]=Ze-t*($e+t*(Je+t*(Ke+t*Qe))),e[1]=t*(ti-t*(Je+t*(Ke+t*Qe)));var i=t*t;return e[2]=i*(ei-t*(ii+t*ni)),i*=t,e[3]=i*(ri-t*oi),e[4]=i*t*si,e}function hi(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var li=20;function ui(t,e,i){for(var n=1/(1-e),r=t,o=li;o;--o){var s=Math.sin(r),a=1-e*s*s;if(a=(hi(r,s,Math.cos(r),i)-t)*(a*Math.sqrt(a))*n,r-=a,Math.abs(a)<m)return r}return r}function ci(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ai(this.es),this.ml0=hi(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function pi(t){var e,i,n,r=t.x,o=t.y,s=pt(r-this.long0),a=Math.sin(o),h=Math.cos(o);if(this.es){var l=h*s,u=Math.pow(l,2),c=this.ep2*Math.pow(h,2),p=Math.pow(c,2),f=Math.abs(h)>m?Math.tan(o):0,d=Math.pow(f,2),g=Math.pow(d,2);e=1-this.es*Math.pow(a,2),l/=Math.sqrt(e);var y=hi(o,a,h,this.en);i=this.a*(this.k0*l*(1+u/6*(1-d+c+u/20*(5-18*d+g+14*c-58*d*c+u/42*(61+179*g-g*d-479*d)))))+this.x0,n=this.a*(this.k0*(y-this.ml0+a*s*l/2*(1+u/12*(5-d+9*c+4*p+u/30*(61+g-58*d+270*c-330*d*c+u/56*(1385+543*g-g*d-3111*d))))))+this.y0}else{var _=h*Math.sin(s);if(Math.abs(Math.abs(_)-1)<m)return 93;if(i=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,n=h*Math.cos(s)/Math.sqrt(1-Math.pow(_,2)),_=Math.abs(n),_>=1){if(_-1>m)return 93;n=0}else n=Math.acos(n);o<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t}function fi(t){var e,i,n,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,i=ui(e,this.es,this.en),Math.abs(i)<f){var a=Math.sin(i),h=Math.cos(i),l=Math.abs(h)>m?Math.tan(i):0,u=this.ep2*Math.pow(h,2),c=Math.pow(u,2),p=Math.pow(l,2),d=Math.pow(p,2);e=1-this.es*Math.pow(a,2);var g=o*Math.sqrt(e)/this.k0,y=Math.pow(g,2);e*=l,n=i-e*y/(1-this.es)*.5*(1-y/12*(5+3*p-9*u*p+u-4*c-y/30*(61+90*p-252*u*p+45*d+46*u-y/56*(1385+3633*p+4095*d+1574*d*p)))),r=pt(this.long0+g*(1-y/6*(1+2*p+u-y/20*(5+28*p+24*d+8*u*p+6*u-y/42*(61+662*p+1320*d+720*d*p))))/h)}else n=f*ct(s),r=0;else{var _=Math.exp(o/this.k0),v=.5*(_-1/_),x=this.lat0+s/this.k0,b=Math.cos(x);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),n=Math.asin(e),s<0&&(n=-n),r=0===v&&0===b?0:pt(Math.atan2(v,b)+this.long0)}return t.x=r,t.y=n,t}var di=["Fast_Transverse_Mercator","Fast Transverse Mercator"],gi={init:ci,forward:pi,inverse:fi,names:di};function yi(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function mi(t,e){t=Math.abs(t),e=Math.abs(e);var i=Math.max(t,e),n=Math.min(t,e)/(i||1);return i*Math.sqrt(1+Math.pow(n,2))}function _i(t){var e=1+t,i=e-1;return 0===i?t:t*Math.log(e)/i}function vi(t){var e=Math.abs(t);return e=_i(e*(1+e/(mi(1,e)+1))),t<0?-e:e}function xi(t,e){var i,n=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;while(--r>=0)i=n*o-s+t[r],s=o,o=i;return e+i*Math.sin(2*e)}function bi(t,e){var i,n=2*Math.cos(e),r=t.length-1,o=t[r],s=0;while(--r>=0)i=n*o-s+t[r],s=o,o=i;return Math.sin(e)*i}function wi(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Mi(t,e,i){var n,r,o=Math.sin(e),s=Math.cos(e),a=yi(i),h=wi(i),l=2*s*h,u=-2*o*a,c=t.length-1,p=t[c],f=0,d=0,g=0;while(--c>=0)n=d,r=f,d=p,f=g,p=l*d-n-u*f+t[c],g=u*d-r+l*f;return l=o*h,u=s*a,[l*p-u*g,l*g+u*p]}function Ei(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(gi.init.apply(this),this.forward=gi.forward,this.inverse=gi.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),i=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),i*=e,this.cgb[1]=i*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=i*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),i*=e,this.cgb[2]=i*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=i*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),i*=e,this.cgb[3]=i*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=i*(1237/630+e*(e*(-24832/14175)-2.4)),i*=e,this.cgb[4]=i*(4174/315+e*(-144838/6237)),this.cbg[4]=i*(-734/315+e*(109598/31185)),i*=e,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=i*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=i*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),i*=e,this.utg[2]=i*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=i*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),i*=e,this.utg[3]=i*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=i*(49561/161280+e*(-179/168+e*(6601661/7257600))),i*=e,this.utg[4]=i*(-4583/161280+e*(108847/3991680)),this.gtu[4]=i*(34729/80640+e*(-3418889/1995840)),i*=e,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=.6650675310896665*i;var n=xi(this.cbg,this.lat0);this.Zb=-this.Qn*(n+bi(this.gtu,2*n))}function Si(t){var e=pt(t.x-this.long0),i=t.y;i=xi(this.cbg,i);var n=Math.sin(i),r=Math.cos(i),o=Math.sin(e),s=Math.cos(e);i=Math.atan2(n,s*r),e=Math.atan2(o*r,mi(n,r*s)),e=vi(Math.tan(e));var a,h,l=Mi(this.gtu,2*i,2*e);return i+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*i+this.Zb)+this.y0):(a=1/0,h=1/0),t.x=a,t.y=h,t}function Ci(t){var e,i,n=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,n/=this.Qn,Math.abs(n)<=2.623395162778){var o=Mi(this.utg,2*r,2*n);r+=o[0],n+=o[1],n=Math.atan(yi(n));var s=Math.sin(r),a=Math.cos(r),h=Math.sin(n),l=Math.cos(n);r=Math.atan2(s*l,mi(h,l*a)),n=Math.atan2(h,l*a),e=pt(n+this.long0),i=xi(this.cgb,r)}else e=1/0,i=1/0;return t.x=e,t.y=i,t}var Ii=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],Pi={init:Ei,forward:Si,inverse:Ci,names:Ii};function Li(t,e){if(void 0===t){if(t=Math.floor(30*(pt(e)+Math.PI)/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Oi="etmerc";function Ni(){var t=Li(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*_,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Pi.init.apply(this),this.forward=Pi.forward,this.inverse=Pi.inverse}var Ti=["Universal Transverse Mercator System","utm"],Ai={init:Ni,names:Ti,dependsOn:Oi};function Ri(t,e){return Math.pow((1-t)/(1+t),e)}var Di=20;function ki(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+x)/(Math.pow(Math.tan(.5*this.lat0+x),this.C)*Ri(this.e*t,this.ratexp))}function Fi(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+x),this.C)*Ri(this.e*Math.sin(i),this.ratexp))-f,t.x=this.C*e,t}function Bi(t){for(var e=1e-14,i=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+x)/this.K,1/this.C),o=Di;o>0;--o){if(n=2*Math.atan(r*Ri(this.e*Math.sin(t.y),-.5*this.e))-f,Math.abs(n-t.y)<e)break;t.y=n}return o?(t.x=i,t.y=n,t):null}var zi=["gauss"],ji={init:ki,forward:Fi,inverse:Bi,names:zi};function Ui(){ji.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Gi(t){var e,i,n,r;return t.x=pt(t.x-this.long0),ji.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*n),t.x=r*i*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*i*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Vi(t){var e,i,n,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=mi(t.x,t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),i=Math.cos(s),r=Math.asin(i*this.sinc0+t.y*e*this.cosc0/o),n=Math.atan2(t.x*e,o*this.cosc0*i-t.y*this.sinc0*e)}else r=this.phic0,n=0;return t.x=n,t.y=r,ji.inverse.apply(this,[t]),t.x=pt(t.x+this.long0),t}var qi=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],Wi={init:Ui,forward:Gi,inverse:Vi,names:qi};function Yi(t,e,i){return e*=i,Math.tan(.5*(f+t))*Math.pow((1-e)/(1+e),.5*i)}function Hi(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m&&(this.k0=.5*(1+ct(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=m&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=m&&Math.abs(Math.cos(this.lat_ts))>m&&(this.k0=.5*this.cons*ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ft(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ut(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-f,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Xi(t){var e,i,n,r,o,s,a=t.x,h=t.y,l=Math.sin(h),u=Math.cos(h),c=pt(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=m&&Math.abs(h+this.lat0)<=m?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*u*Math.cos(c)),t.x=this.a*e*u*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*u*Math.cos(c))+this.y0,t):(i=2*Math.atan(this.ssfn_(h,l,this.e))-f,r=Math.cos(i),n=Math.sin(i),Math.abs(this.coslat0)<=m?(o=ft(this.e,h*this.con,this.con*l),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<m?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*n):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*n-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0,t))}function Zi(t){var e,i,n,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,i=this.lat0,s<=m?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<m?this.lat0>0?pt(this.long0+Math.atan2(t.x,-1*t.y)):pt(this.long0+Math.atan2(t.x,t.y)):pt(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=m){if(s<=m)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),i=this.con*dt(this.e,n),e=this.con*pt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=m?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=pt(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*dt(this.e,Math.tan(.5*(f+o)));return t.x=e,t.y=i,t}var $i=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],Ji={init:Hi,forward:Xi,inverse:Zi,names:$i,ssfn_:Yi};function Ki(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,r=1/n,o=2*r-Math.pow(r,2),s=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*h+this.alpha*s/2*l}function Qi(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t}function tn(t){var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,h=0,l=o,u=-1e3,c=0;while(Math.abs(l-u)>1e-7){if(++c>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=l,t}var en=["somerc"],nn={init:Ki,forward:Qi,inverse:tn,names:en},rn=1e-7;function on(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i="object"===typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||-1!==e.indexOf(i)}function sn(){var t,e,i,n,r,o,s,a,h,l,u,c=0,p=0,d=0,g=0,y=0,v=0,w=0;this.no_off=on(this),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var E=!1;if("rectified_grid_angle"in this&&(E=!0),M&&(w=this.alpha),E&&(c=this.rectified_grid_angle*_),M||E)p=this.longc;else if(d=this.long1,y=this.lat1,g=this.long2,v=this.lat2,Math.abs(y-v)<=rn||(t=Math.abs(y))<=rn||Math.abs(t-f)<=rn||Math.abs(Math.abs(this.lat0)-f)<=rn||Math.abs(Math.abs(v)-f)<=rn)throw new Error;var S=1-this.es;e=Math.sqrt(S),Math.abs(this.lat0)>m?(a=Math.sin(this.lat0),i=Math.cos(this.lat0),t=1-this.es*a*a,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/S),this.A=this.B*this.k0*e/t,n=this.B*e/(i*Math.sqrt(t)),r=n*n-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=n,this.E*=Math.pow(ft(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=r=1),M||E?(M?(u=Math.asin(Math.sin(w)/n),E||(c=w)):(u=c,w=Math.asin(n*Math.sin(u))),this.lam0=p-Math.asin(.5*(r-1/r)*Math.tan(u))/this.B):(o=Math.pow(ft(this.e,y,Math.sin(y)),this.B),s=Math.pow(ft(this.e,v,Math.sin(v)),this.B),r=this.E/o,h=(s-o)/(s+o),l=this.E*this.E,l=(l-s*o)/(l+s*o),t=d-g,t<-Math.pi?g-=b:t>Math.pi&&(g+=b),this.lam0=pt(.5*(d+g)-Math.atan(l*Math.tan(.5*this.B*(d-g))/h)/this.B),u=Math.atan(2*Math.sin(this.B*pt(d-this.lam0))/(r-1/r)),c=w=Math.asin(n*Math.sin(u))),this.singam=Math.sin(u),this.cosgam=Math.cos(u),this.sinrot=Math.sin(c),this.cosrot=Math.cos(c),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*u,this.v_pole_n=this.ArB*Math.log(Math.tan(x-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(x+r))}function an(t){var e,i,n,r,o,s,a,h,l={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-f)>m){if(o=this.E/Math.pow(ft(this.e,t.y,Math.sin(t.y)),this.B),s=1/o,e=.5*(o-s),i=.5*(o+s),r=Math.sin(this.B*t.x),n=(e*this.singam-r*this.cosgam)/i,Math.abs(Math.abs(n)-1)<m)throw new Error;h=.5*this.ArB*Math.log((1-n)/(1+n)),s=Math.cos(this.B*t.x),a=Math.abs(s)<rn?this.A*t.x:this.ArB*Math.atan2(e*this.cosgam+r*this.singam,s)}else h=t.y>0?this.v_pole_n:this.v_pole_s,a=this.ArB*t.y;return this.no_rot?(l.x=a,l.y=h):(a-=this.u_0,l.x=h*this.cosrot+a*this.sinrot,l.y=a*this.cosrot-h*this.sinrot),l.x=this.a*l.x+this.x0,l.y=this.a*l.y+this.y0,l}function hn(t){var e,i,n,r,o,s,a,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(i=t.y,e=t.x):(i=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*i),r=.5*(n-1/n),o=.5*(n+1/n),s=Math.sin(this.BrA*e),a=(s*this.cosgam+r*this.singam)/o,Math.abs(Math.abs(a)-1)<m)h.x=0,h.y=a<0?-f:f;else{if(h.y=this.E/Math.sqrt((1+a)/(1-a)),h.y=dt(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(r*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return h.x+=this.lam0,h}var ln=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],un={init:sn,forward:an,inverse:hn,names:ln};function cn(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<m)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),n=ut(this.e,e,i),r=ft(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=ut(this.e,o,s),h=ft(this.e,this.lat2,o),l=ft(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>m?this.ns=Math.log(n/a)/Math.log(r/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function pn(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=m&&(i=ct(i)*(f-2*m));var n,r,o=Math.abs(Math.abs(i)-f);if(o>m)n=ft(this.e,i,Math.sin(i)),r=this.a*this.f0*Math.pow(n,this.ns);else{if(o=i*this.ns,o<=0)return null;r=0}var s=this.ns*pt(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t}function fn(t){var e,i,n,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),i=1):(e=-Math.sqrt(s*s+a*a),i=-1);var h=0;if(0!==e&&(h=Math.atan2(i*s,i*a)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),r=dt(this.e,n),-9999===r)return null}else r=-f;return o=pt(h/this.ns+this.long0),t.x=o,t.y=r,t}var dn=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],gn={init:cn,forward:pn,inverse:fn,names:dn};function yn(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function mn(t){var e,i,n,r,o,s,a,h=t.x,l=t.y,u=pt(h-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),n=-u*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),o=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function _n(t){var e,i,n,r,o,s,a,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),r=o/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,h=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(h=1),a=t.y,u+=1}while(0===h&&u<15);return u>=15?null:t}var vn=["Krovak","krovak"],xn={init:yn,forward:mn,inverse:_n,names:vn};function bn(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}function wn(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Mn(t){return.375*t*(1+.25*t*(1+.46875*t))}function En(t){return.05859375*t*t*(1+.75*t)}function Sn(t){return t*t*t*(35/3072)}function Cn(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}function In(t){return Math.abs(t)<f?t:t-ct(t)*Math.PI}function Pn(t,e,i,n,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function Ln(){this.sphere||(this.e0=wn(this.es),this.e1=Mn(this.es),this.e2=En(this.es),this.e3=Sn(this.es),this.ml0=this.a*bn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function On(t){var e,i,n=t.x,r=t.y;if(n=pt(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(n)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(n))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=Cn(this.a,this.e,o),h=Math.tan(r)*Math.tan(r),l=n*Math.cos(r),u=l*l,c=this.es*s*s/(1-this.es),p=this.a*bn(this.e0,this.e1,this.e2,this.e3,r);e=a*l*(1-u*h*(1/6-(8-h+8*c)*u/120)),i=p-this.ml0+a*o/s*u*(.5+(5-h+6*c)*u/24)}return t.x=e+this.x0,t.y=i+this.y0,t}function Nn(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=this.ml0/this.a+r,a=Pn(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=m)return t.x=this.long0,t.y=f,r<0&&(t.y*=-1),t;var h=Cn(this.a,this.e,Math.sin(a)),l=h*h*h/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(a),2),c=n*this.a/h,p=c*c;e=a-h*Math.tan(a)/l*c*c*(.5-(1+3*u)*c*c/24),i=c*(1-p*(u/3+(1+3*u)*u*p/15))/Math.cos(a)}return t.x=pt(i+this.long0),t.y=In(e),t}var Tn=["Cassini","Cassini_Soldner","cass"],An={init:Ln,forward:On,inverse:Nn,names:Tn};function Rn(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}var Dn=1,kn=2,Fn=3,Bn=4;function zn(){var t,e=Math.abs(this.lat0);if(Math.abs(e-f)<m?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<m?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Rn(this.e,1),this.mmf=.5/(1-this.es),this.apa=Xn(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Rn(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function jn(t){var e,i,n,r,o,s,a,h,l,u,c=t.x,p=t.y;if(c=pt(c-this.long0),this.sphere){if(o=Math.sin(p),u=Math.cos(p),n=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+u*n:1+this.sinph0*o+this.cosph0*u*n,i<=m)return null;i=Math.sqrt(2/i),e=i*u*Math.sin(c),i*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*u*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(p+this.lat0)<m)return null;i=x-.5*p,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(c),i*=n}}else{switch(a=0,h=0,l=0,n=Math.cos(c),r=Math.sin(c),o=Math.sin(p),s=Rn(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,h=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*h*n;break;case this.EQUIT:l=1+h*n;break;case this.N_POLE:l=f+p,s=this.qp-s;break;case this.S_POLE:l=p-f,s=this.qp+s;break}if(Math.abs(l)<m)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),i=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*h*n):(l=Math.sqrt(2/(1+h*n)))*a*this.ymf,e=this.xmf*l*h*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(l=Math.sqrt(s))*r,i=n*(this.mode===this.S_POLE?l:-l)):e=i=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t}function Un(t){t.x-=this.x0,t.y-=this.y0;var e,i,n,r,o,s,a,h=t.x/this.a,l=t.y/this.a;if(this.sphere){var u,c=0,p=0;if(u=Math.sqrt(h*h+l*l),i=.5*u,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(i),c=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(u)<=m?0:Math.asin(l*p/u),h*=p,l=c*u;break;case this.OBLIQ:i=Math.abs(u)<=m?this.lat0:Math.asin(c*this.sinph0+l*p*this.cosph0/u),h*=p*this.cosph0,l=(c-Math.sin(i)*this.sinph0)*u;break;case this.N_POLE:l=-l,i=f-i;break;case this.S_POLE:i-=f;break}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,l):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,l*=this.dd,s=Math.sqrt(h*h+l*l),s<m)return t.x=this.long0,t.y=this.lat0,t;r=2*Math.asin(.5*s/this.rq),n=Math.cos(r),h*=r=Math.sin(r),this.mode===this.OBLIQ?(a=n*this.sinb1+l*r*this.cosb1/s,o=this.qp*a,l=s*this.cosb1*n-l*this.sinb1*r):(a=l*r/s,o=this.qp*a,l=s*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),o=h*h+l*l,!o)return t.x=this.long0,t.y=this.lat0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(h,l),i=Zn(Math.asin(a),this.apa)}return t.x=pt(this.long0+e),t.y=i,t}var Gn=.3333333333333333,Vn=.17222222222222222,qn=.10257936507936508,Wn=.06388888888888888,Yn=.0664021164021164,Hn=.016415012942191543;function Xn(t){var e,i=[];return i[0]=t*Gn,e=t*t,i[0]+=e*Vn,i[1]=e*Wn,e*=t,i[0]+=e*qn,i[1]+=e*Yn,i[2]=e*Hn,i}function Zn(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)}var $n=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Jn={init:zn,forward:jn,inverse:Un,names:$n,S_POLE:Dn,N_POLE:kn,EQUIT:Fn,OBLIQ:Bn};function Kn(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Qn(){Math.abs(this.lat1+this.lat2)<m||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ut(this.e3,this.sin_po,this.cos_po),this.qs1=Rn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ut(this.e3,this.sin_po,this.cos_po),this.qs2=Rn(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Rn(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>m?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function tr(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=Rn(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,o=this.ns0*pt(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t}function er(t){var e,i,n,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,i)),o=pt(r/this.ns0+this.long0),t.x=o,t.y=s,t}function ir(t,e){var i,n,r,o,s,a=Kn(.5*e);if(t<m)return a;for(var h=t*t,l=1;l<=25;l++)if(i=Math.sin(a),n=Math.cos(a),r=t*i,o=1-r*r,s=.5*o*o/n*(e/(1-h)-i/o+.5/t*Math.log((1-r)/(1+r))),a+=s,Math.abs(s)<=1e-7)return a;return null}var nr=["Albers_Conic_Equal_Area","Albers","aea"],rr={init:Qn,forward:tr,inverse:er,names:nr,phi1z:ir};function or(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function sr(t){var e,i,n,r,o,s,a,h,l=t.x,u=t.y;return n=pt(l-this.long0),e=Math.sin(u),i=Math.cos(u),r=Math.cos(n),s=this.sin_p14*e+this.cos_p14*i*r,o=1,s>0||Math.abs(s)<=m?(a=this.x0+this.a*o*i*Math.sin(n)/s,h=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*i*r)/s):(a=this.x0+this.infinity_dist*i*Math.sin(n),h=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=h,t}function ar(t){var e,i,n,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),i=Math.sin(r),n=Math.cos(r),s=Kn(n*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.atan2(t.x*i,e*this.cos_p14*n-t.y*this.sin_p14*i),o=pt(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t}var hr=["gnom"],lr={init:or,forward:sr,inverse:ar,names:hr};function ur(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*f:f;for(var n,r,o,s,a=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,n=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),a+=n,Math.abs(n)<=1e-10)return a;return NaN}function cr(){this.sphere||(this.k0=ut(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function pr(t){var e,i,n=t.x,r=t.y,o=pt(n-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Rn(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,i=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=i,t}function fr(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=pt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=ur(this.e,2*t.y*this.k0/this.a),e=pt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t}var dr=["cea"],gr={init:cr,forward:pr,inverse:fr,names:dr};function yr(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function mr(t){var e=t.x,i=t.y,n=pt(e-this.long0),r=In(i-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t}function _r(t){var e=t.x,i=t.y;return t.x=pt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=In(this.lat0+(i-this.y0)/this.a),t}var vr=["Equirectangular","Equidistant_Cylindrical","eqc"],xr={init:yr,forward:mr,inverse:_r,names:vr},br=20;function wr(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=wn(this.es),this.e1=Mn(this.es),this.e2=En(this.es),this.e3=Sn(this.es),this.ml0=this.a*bn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Mr(t){var e,i,n,r=t.x,o=t.y,s=pt(r-this.long0);if(n=s*Math.sin(o),this.sphere)Math.abs(o)<=m?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(In(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=m)e=this.a*s,i=-1*this.ml0;else{var a=Cn(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(n),i=this.a*bn(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t}function Er(t){var e,i,n,r,o,s,a,h,l;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=m)e=pt(n/this.a+this.long0),i=0;else{var u;for(s=this.lat0+r/this.a,a=n*n/this.a/this.a+s*s,h=s,o=br;o;--o)if(u=Math.tan(h),l=-1*(s*(h*u+1)-h-.5*(h*h+a)*u)/((h-s)/u-1),h+=l,Math.abs(l)<=m){i=h;break}e=pt(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=m)i=0,e=pt(this.long0+n/this.a);else{var c,p,f,d,g;for(s=(this.ml0+r)/this.a,a=n*n/this.a/this.a+s*s,h=s,o=br;o;--o)if(g=this.e*Math.sin(h),c=Math.sqrt(1-g*g)*Math.tan(h),p=this.a*bn(this.e0,this.e1,this.e2,this.e3,h),f=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),d=p/this.a,l=(s*(c*d+1)-d-.5*c*(d*d+a))/(this.es*Math.sin(2*h)*(d*d+a-2*s*d)/(4*c)+(s-d)*(c*f-2/Math.sin(2*h))-f),h-=l,Math.abs(l)<=m){i=h;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=pt(this.long0+Math.asin(n*c/this.a)/Math.sin(i))}return t.x=e,t.y=i,t}var Sr=["Polyconic","poly"],Cr={init:wr,forward:Mr,inverse:Er,names:Sr};function Ir(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Pr(t){var e,i=t.x,n=t.y,r=n-this.lat0,o=i-this.long0,s=r/p*1e-5,a=o,h=1,l=0;for(e=1;e<=10;e++)h*=s,l+=this.A[e]*h;var u,c,f=l,d=a,g=1,y=0,m=0,_=0;for(e=1;e<=6;e++)u=g*f-y*d,c=y*f+g*d,g=u,y=c,m=m+this.B_re[e]*g-this.B_im[e]*y,_=_+this.B_im[e]*g+this.B_re[e]*y;return t.x=_*this.a+this.x0,t.y=m*this.a+this.y0,t}function Lr(t){var e,i,n,r=t.x,o=t.y,s=r-this.x0,a=o-this.y0,h=a/this.a,l=s/this.a,u=1,c=0,f=0,d=0;for(e=1;e<=6;e++)i=u*h-c*l,n=c*h+u*l,u=i,c=n,f=f+this.C_re[e]*u-this.C_im[e]*c,d=d+this.C_im[e]*u+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var y,m,_=f,v=d,x=h,b=l;for(e=2;e<=6;e++)y=_*f-v*d,m=v*f+_*d,_=y,v=m,x+=(e-1)*(this.B_re[e]*_-this.B_im[e]*v),b+=(e-1)*(this.B_im[e]*_+this.B_re[e]*v);_=1,v=0;var w=this.B_re[1],M=this.B_im[1];for(e=2;e<=6;e++)y=_*f-v*d,m=v*f+_*d,_=y,v=m,w+=e*(this.B_re[e]*_-this.B_im[e]*v),M+=e*(this.B_im[e]*_+this.B_re[e]*v);var E=w*w+M*M;f=(x*w+b*M)/E,d=(b*w-x*M)/E}var S=f,C=d,I=1,P=0;for(e=1;e<=9;e++)I*=S,P+=this.D[e]*I;var L=this.lat0+P*p*1e5,O=this.long0+C;return t.x=O,t.y=L,t}var Or=["New_Zealand_Map_Grid","nzmg"],Nr={init:Ir,forward:Pr,inverse:Lr,names:Or};function Tr(){}function Ar(t){var e=t.x,i=t.y,n=pt(e-this.long0),r=this.x0+this.a*n,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=o,t}function Rr(t){t.x-=this.x0,t.y-=this.y0;var e=pt(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t}var Dr=["Miller_Cylindrical","mill"],kr={init:Tr,forward:Ar,inverse:Rr,names:Dr},Fr=20;function Br(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ai(this.es)}function zr(t){var e,i,n=t.x,r=t.y;if(n=pt(n-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=Fr;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<m)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*n*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var h=Math.sin(r),l=Math.cos(r);i=this.a*hi(r,h,l,this.en),e=this.a*n*l/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t}function jr(t){var e,i,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n/=this.C_x*(this.m+Math.cos(e)),this.m?e=Kn((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Kn(Math.sin(e)/this.n)),n=pt(n+this.long0),e=In(e)):(e=ui(t.y/this.a,this.es,this.en),r=Math.abs(e),r<f?(r=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),n=pt(i)):r-m<f&&(n=this.long0)),t.x=n,t.y=e,t}var Ur=["Sinusoidal","sinu"],Gr={init:Br,forward:zr,inverse:jr,names:Ur};function Vr(){}function qr(t){var e=t.x,i=t.y,n=pt(e-this.long0),r=i,o=Math.PI*Math.sin(i);while(1){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<m)break}r/=2,Math.PI/2-Math.abs(i)<m&&(n=0);var a=.900316316158*this.a*n*Math.cos(r)+this.x0,h=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=h,t}function Wr(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var n=pt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=n,t.y=r,t}var Yr=["Mollweide","moll"],Hr={init:Vr,forward:qr,inverse:Wr,names:Yr};function Xr(){Math.abs(this.lat1+this.lat2)<m||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=wn(this.es),this.e1=Mn(this.es),this.e2=En(this.es),this.e3=Sn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ut(this.e,this.sinphi,this.cosphi),this.ml1=bn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<m?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ut(this.e,this.sinphi,this.cosphi),this.ml2=bn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=bn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Zr(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=bn(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*pt(i-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t}function $r(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=pt(this.long0+o/this.ns),n=In(this.g-i/this.a),t.x=r,t.y=n,t;var s=this.g-i/this.a;return n=Pn(s,this.e0,this.e1,this.e2,this.e3),r=pt(this.long0+o/this.ns),t.x=r,t.y=n,t}var Jr=["Equidistant_Conic","eqdc"],Kr={init:Xr,forward:Zr,inverse:$r,names:Jr};function Qr(){this.R=this.a}function to(t){var e,i,n=t.x,r=t.y,o=pt(n-this.long0);Math.abs(r)<=m&&(e=this.x0+this.R*o,i=this.y0);var s=Kn(2*Math.abs(r/Math.PI));(Math.abs(o)<=m||Math.abs(Math.abs(r)-f)<=m)&&(e=this.x0,i=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),h=a*a,l=Math.sin(s),u=Math.cos(s),c=u/(l+u-1),p=c*c,d=c*(2/l-1),g=d*d,y=Math.PI*this.R*(a*(c-g)+Math.sqrt(h*(c-g)*(c-g)-(g+h)*(p-g)))/(g+h);o<0&&(y=-y),e=this.x0+y;var _=h+c;return y=Math.PI*this.R*(d*_-a*Math.sqrt((g+h)*(h+1)-_*_))/(g+h),i=r>=0?this.y0+y:this.y0-y,t.x=e,t.y=i,t}function eo(t){var e,i,n,r,o,s,a,h,l,u,c,p,f;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,n=t.x/c,r=t.y/c,o=n*n+r*r,s=-Math.abs(r)*(1+o),a=s-2*r*r+n*n,h=-2*s+1+2*r*r+o*o,f=r*r/h+(2*a*a*a/h/h/h-9*s*a/h/h)/27,l=(s-a*a/3/h)/h,u=2*Math.sqrt(-l/3),c=3*f/l/u,Math.abs(c)>1&&(c=c>=0?1:-1),p=Math.acos(c)/3,i=t.y>=0?(-u*Math.cos(p+Math.PI/3)-a/3/h)*Math.PI:-(-u*Math.cos(p+Math.PI/3)-a/3/h)*Math.PI,e=Math.abs(n)<m?this.long0:pt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(n*n-r*r)+o*o))/2/n),t.x=e,t.y=i,t}var io=["Van_der_Grinten_I","VanDerGrinten","vandg"],no={init:Qr,forward:to,inverse:eo,names:io};function ro(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function oo(t){var e,i,n,r,o,s,a,h,l,u,c,p,d,g,y,_,v,x,b,w,M,E,S,C=t.x,I=t.y,P=Math.sin(t.y),L=Math.cos(t.y),O=pt(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=m?(t.x=this.x0+this.a*(f-I)*Math.sin(O),t.y=this.y0-this.a*(f-I)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=m?(t.x=this.x0+this.a*(f+I)*Math.sin(O),t.y=this.y0+this.a*(f+I)*Math.cos(O),t):(x=this.sin_p12*P+this.cos_p12*L*Math.cos(O),_=Math.acos(x),v=_?_/Math.sin(_):1,t.x=this.x0+this.a*v*L*Math.sin(O),t.y=this.y0+this.a*v*(this.cos_p12*P-this.sin_p12*L*Math.cos(O)),t):(e=wn(this.es),i=Mn(this.es),n=En(this.es),r=Sn(this.es),Math.abs(this.sin_p12-1)<=m?(o=this.a*bn(e,i,n,r,f),s=this.a*bn(e,i,n,r,I),t.x=this.x0+(o-s)*Math.sin(O),t.y=this.y0-(o-s)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=m?(o=this.a*bn(e,i,n,r,f),s=this.a*bn(e,i,n,r,I),t.x=this.x0+(o+s)*Math.sin(O),t.y=this.y0+(o+s)*Math.cos(O),t):(a=P/L,h=Cn(this.a,this.e,this.sin_p12),l=Cn(this.a,this.e,P),u=Math.atan((1-this.es)*a+this.es*h*this.sin_p12/(l*L)),c=Math.atan2(Math.sin(O),this.cos_p12*Math.tan(u)-this.sin_p12*Math.cos(O)),b=0===c?Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.abs(Math.abs(c)-Math.PI)<=m?-Math.asin(this.cos_p12*Math.sin(u)-this.sin_p12*Math.cos(u)):Math.asin(Math.sin(O)*Math.cos(u)/Math.sin(c)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),d=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),g=p*d,y=d*d,w=b*b,M=w*b,E=M*b,S=E*b,_=h*b*(1-w*y*(1-y)/6+M/8*g*(1-2*y)+E/120*(y*(4-7*y)-3*p*p*(1-7*y))-S/48*g),t.x=this.x0+_*Math.sin(c),t.y=this.y0+_*Math.cos(c),t))}function so(t){var e,i,n,r,o,s,a,h,l,u,c,p,d,g,y,_,v,x,b,w,M,E,S,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*f*this.a)return;return i=e/this.a,n=Math.sin(i),r=Math.cos(i),o=this.long0,Math.abs(e)<=m?s=this.lat0:(s=Kn(r*this.sin_p12+t.y*n*this.cos_p12/e),a=Math.abs(this.lat0)-f,o=Math.abs(a)<=m?this.lat0>=0?pt(this.long0+Math.atan2(t.x,-t.y)):pt(this.long0-Math.atan2(-t.x,t.y)):pt(this.long0+Math.atan2(t.x*n,e*this.cos_p12*r-t.y*this.sin_p12*n))),t.x=o,t.y=s,t}return h=wn(this.es),l=Mn(this.es),u=En(this.es),c=Sn(this.es),Math.abs(this.sin_p12-1)<=m?(p=this.a*bn(h,l,u,c,f),e=Math.sqrt(t.x*t.x+t.y*t.y),d=p-e,s=Pn(d/this.a,h,l,u,c),o=pt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=m?(p=this.a*bn(h,l,u,c,f),e=Math.sqrt(t.x*t.x+t.y*t.y),d=e-p,s=Pn(d/this.a,h,l,u,c),o=pt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),_=Math.atan2(t.x,t.y),g=Cn(this.a,this.e,this.sin_p12),v=Math.cos(_),x=this.e*this.cos_p12*v,b=-x*x/(1-this.es),w=3*this.es*(1-b)*this.sin_p12*this.cos_p12*v/(1-this.es),M=e/g,E=M-b*(1+b)*Math.pow(M,3)/6-w*(1+3*b)*Math.pow(M,4)/24,S=1-b*E*E/2-M*E*E*E/6,y=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*v),o=pt(this.long0+Math.asin(Math.sin(_)*Math.sin(E)/Math.cos(y))),C=Math.sin(y),s=Math.atan2((C-this.es*S*this.sin_p12)*Math.tan(y),C*(1-this.es)),t.x=o,t.y=s,t)}var ao=["Azimuthal_Equidistant","aeqd"],ho={init:ro,forward:oo,inverse:so,names:ao};function lo(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function uo(t){var e,i,n,r,o,s,a,h,l=t.x,u=t.y;return n=pt(l-this.long0),e=Math.sin(u),i=Math.cos(u),r=Math.cos(n),s=this.sin_p14*e+this.cos_p14*i*r,o=1,(s>0||Math.abs(s)<=m)&&(a=this.a*o*i*Math.sin(n),h=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=h,t}function co(t){var e,i,n,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),i=Kn(e/this.a),n=Math.sin(i),r=Math.cos(i),s=this.long0,Math.abs(e)<=m?(a=this.lat0,t.x=s,t.y=a,t):(a=Kn(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.abs(this.lat0)-f,Math.abs(o)<=m?(s=this.lat0>=0?pt(this.long0+Math.atan2(t.x,-t.y)):pt(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=pt(this.long0+Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n)),t.x=s,t.y=a,t))}var po=["ortho"],fo={init:lo,forward:uo,inverse:co,names:po},go={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},yo={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function mo(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=f-x/2?this.face=go.TOP:this.lat0<=-(f-x/2)?this.face=go.BOTTOM:Math.abs(this.long0)<=x?this.face=go.FRONT:Math.abs(this.long0)<=f+x?this.face=this.long0>0?go.RIGHT:go.LEFT:this.face=go.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function _o(t){var e,i,n,r,o,s,a={x:0,y:0},h={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,i=t.x,this.face===go.TOP)r=f-e,i>=x&&i<=f+x?(h.value=yo.AREA_0,n=i-f):i>f+x||i<=-(f+x)?(h.value=yo.AREA_1,n=i>0?i-w:i+w):i>-(f+x)&&i<=-x?(h.value=yo.AREA_2,n=i+f):(h.value=yo.AREA_3,n=i);else if(this.face===go.BOTTOM)r=f+e,i>=x&&i<=f+x?(h.value=yo.AREA_0,n=-i+f):i<x&&i>=-x?(h.value=yo.AREA_1,n=-i):i<-x&&i>=-(f+x)?(h.value=yo.AREA_2,n=-i-f):(h.value=yo.AREA_3,n=i>0?-i+w:-i-w);else{var l,u,c,p,d,g,y;this.face===go.RIGHT?i=bo(i,+f):this.face===go.BACK?i=bo(i,+w):this.face===go.LEFT&&(i=bo(i,-f)),p=Math.sin(e),d=Math.cos(e),g=Math.sin(i),y=Math.cos(i),l=d*y,u=d*g,c=p,this.face===go.FRONT?(r=Math.acos(l),n=xo(r,c,u,h)):this.face===go.RIGHT?(r=Math.acos(u),n=xo(r,c,-l,h)):this.face===go.BACK?(r=Math.acos(-l),n=xo(r,c,-u,h)):this.face===go.LEFT?(r=Math.acos(-u),n=xo(r,c,l,h)):(r=n=0,h.value=yo.AREA_0)}return s=Math.atan(12/w*(n+Math.acos(Math.sin(n)*Math.cos(x))-f)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(n))))),h.value===yo.AREA_1?s+=f:h.value===yo.AREA_2?s+=w:h.value===yo.AREA_3&&(s+=1.5*w),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t}function vo(t){var e,i,n,r,o,s,a,h,l,u,c,p,d={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=yo.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=yo.AREA_1,e-=f):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=yo.AREA_2,e=e<0?e+w:e-w):(g.value=yo.AREA_3,e+=f),l=w/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),s=Math.atan(o),n=Math.cos(e),r=Math.tan(i),a=1-n*n*r*r*(1-Math.cos(Math.atan(1/Math.cos(s)))),a<-1?a=-1:a>1&&(a=1),this.face===go.TOP)h=Math.acos(a),d.phi=f-h,g.value===yo.AREA_0?d.lam=s+f:g.value===yo.AREA_1?d.lam=s<0?s+w:s-w:g.value===yo.AREA_2?d.lam=s-f:d.lam=s;else if(this.face===go.BOTTOM)h=Math.acos(a),d.phi=h-f,g.value===yo.AREA_0?d.lam=-s+f:g.value===yo.AREA_1?d.lam=-s:g.value===yo.AREA_2?d.lam=-s-f:d.lam=s<0?-s-w:-s+w;else{var y,m,_;y=a,l=y*y,_=l>=1?0:Math.sqrt(1-l)*Math.sin(s),l+=_*_,m=l>=1?0:Math.sqrt(1-l),g.value===yo.AREA_1?(l=m,m=-_,_=l):g.value===yo.AREA_2?(m=-m,_=-_):g.value===yo.AREA_3&&(l=m,m=_,_=-l),this.face===go.RIGHT?(l=y,y=-m,m=l):this.face===go.BACK?(y=-y,m=-m):this.face===go.LEFT&&(l=y,y=m,m=-l),d.phi=Math.acos(-_)-f,d.lam=Math.atan2(m,y),this.face===go.RIGHT?d.lam=bo(d.lam,-f):this.face===go.BACK?d.lam=bo(d.lam,-w):this.face===go.LEFT&&(d.lam=bo(d.lam,+f))}0!==this.es&&(u=d.phi<0?1:0,c=Math.tan(d.phi),p=this.b/Math.sqrt(c*c+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),u&&(d.phi=-d.phi));return d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t}function xo(t,e,i,n){var r;return t<m?(n.value=yo.AREA_0,r=0):(r=Math.atan2(e,i),Math.abs(r)<=x?n.value=yo.AREA_0:r>x&&r<=f+x?(n.value=yo.AREA_1,r-=f):r>f+x||r<=-(f+x)?(n.value=yo.AREA_2,r=r>=0?r-w:r+w):(n.value=yo.AREA_3,r+=f)),r}function bo(t,e){var i=t+e;return i<-w?i+=b:i>+w&&(i-=b),i}var wo=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Mo={init:mo,forward:_o,inverse:vo,names:wo},Eo=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],So=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Co=.8487,Io=1.3523,Po=v/5,Lo=1/Po,Oo=18,No=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},To=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function Ao(t,e,i,n){for(var r=e;n;--n){var o=t(r);if(r-=o,Math.abs(o)<i)break}return r}function Ro(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Do(t){var e=pt(t.x-this.long0),i=Math.abs(t.y),n=Math.floor(i*Po);n<0?n=0:n>=Oo&&(n=Oo-1),i=v*(i-Lo*n);var r={x:No(Eo[n],i)*e,y:No(So[n],i)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*Co+this.x0,r.y=r.y*this.a*Io+this.y0,r}function ko(t){var e={x:(t.x-this.x0)/(this.a*Co),y:Math.abs(t.y-this.y0)/(this.a*Io)};if(e.y>=1)e.x/=Eo[Oo][0],e.y=t.y<0?-f:f;else{var i=Math.floor(e.y*Oo);for(i<0?i=0:i>=Oo&&(i=Oo-1);;)if(So[i][0]>e.y)--i;else{if(!(So[i+1][0]<=e.y))break;++i}var n=So[i],r=5*(e.y-n[0])/(So[i+1][0]-n[0]);r=Ao((function(t){return(No(n,t)-e.y)/To(n,t)}),r,m,100),e.x/=No(Eo[i],r),e.y=(5*i+r)*_,t.y<0&&(e.y=-e.y)}return e.x=pt(e.x+this.long0),e}var Fo=["Robinson","robin"],Bo={init:Ro,forward:Do,inverse:ko,names:Fo};function zo(){this.name="geocent"}function jo(t){var e=ie(t,this.es,this.a);return e}function Uo(t){var e=ne(t,this.es,this.a,this.b);return e}var Go=["Geocentric","geocentric","geocent","Geocent"],Vo={init:zo,forward:jo,inverse:Uo,names:Go},qo={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Wo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Yo(){if(Object.keys(Wo).forEach(function(t){if("undefined"===typeof this[t])this[t]=Wo[t].def;else{if(Wo[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Wo[t].num&&(this[t]=parseFloat(this[t]))}Wo[t].degrees&&(this[t]=this[t]*_)}.bind(this)),Math.abs(Math.abs(this.lat0)-f)<m?this.mode=this.lat0<0?qo.S_POLE:qo.N_POLE:Math.abs(this.lat0)<m?this.mode=qo.EQUIT:(this.mode=qo.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Ho(t){t.x-=this.long0;var e,i,n,r,o=Math.sin(t.y),s=Math.cos(t.y),a=Math.cos(t.x);switch(this.mode){case qo.OBLIQ:i=this.sinph0*o+this.cosph0*s*a;break;case qo.EQUIT:i=s*a;break;case qo.S_POLE:i=-o;break;case qo.N_POLE:i=o;break}switch(i=this.pn1/(this.p-i),e=i*s*Math.sin(t.x),this.mode){case qo.OBLIQ:i*=this.cosph0*o-this.sinph0*s*a;break;case qo.EQUIT:i*=o;break;case qo.N_POLE:i*=-s*a;break;case qo.S_POLE:i*=s*a;break}return n=i*this.cg+e*this.sg,r=1/(n*this.sw*this.h1+this.cw),e=(e*this.cg-i*this.sg)*this.cw*r,i=n*r,t.x=e*this.a,t.y=i*this.a,t}function Xo(t){t.x/=this.a,t.y/=this.a;var e,i,n,r={x:t.x,y:t.y};n=1/(this.pn1-t.y*this.sw),e=this.pn1*t.x*n,i=this.pn1*t.y*this.cw*n,t.x=e*this.cg+i*this.sg,t.y=i*this.cg-e*this.sg;var o=mi(t.x,t.y);if(Math.abs(o)<m)r.x=0,r.y=t.y;else{var s,a;switch(a=1-o*o*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/o+o/this.pn1),s=Math.sqrt(1-a*a),this.mode){case qo.OBLIQ:r.y=Math.asin(s*this.sinph0+t.y*a*this.cosph0/o),t.y=(s-this.sinph0*Math.sin(r.y))*o,t.x*=a*this.cosph0;break;case qo.EQUIT:r.y=Math.asin(t.y*a/o),t.y=s*o,t.x*=a;break;case qo.N_POLE:r.y=Math.asin(s),t.y=-t.y;break;case qo.S_POLE:r.y=-Math.asin(s);break}r.x=Math.atan2(t.x,t.y)}return t.x=r.x+this.long0,t.y=r.y,t}var Zo=["Tilted_Perspective","tpers"],$o={init:Yo,forward:Ho,inverse:Xo,names:Zo};function Jo(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Ko(t){var e,i,n,r,o=t.x,s=t.y;if(o-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var a=this.radius_p/mi(this.radius_p*Math.cos(s),Math.sin(s));if(i=a*Math.cos(o)*Math.cos(s),n=a*Math.sin(o)*Math.cos(s),r=a*Math.sin(s),(this.radius_g-i)*i-n*n-r*r*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/mi(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(r/mi(n,e)))}else"sphere"===this.shape&&(e=Math.cos(s),i=Math.cos(o)*e,n=Math.sin(o)*e,r=Math.sin(s),e=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(n/mi(r,e)),t.y=this.radius_g_1*Math.atan(r/e)):(t.x=this.radius_g_1*Math.atan(n/e),t.y=this.radius_g_1*Math.atan(r/mi(n,e))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Qo(t){var e,i,n,r,o=-1,s=0,a=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*mi(1,a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*mi(1,s));var h=a/this.radius_p;if(e=s*s+h*h+o*o,i=2*this.radius_g*o,n=i*i-4*e*this.C,n<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-i-Math.sqrt(n))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(a=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+a*a)):(s=Math.tan(t.x/this.radius_g_1),a=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),e=s*s+a*a+o*o,i=2*this.radius_g*o,n=i*i-4*e*this.C,n<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=(-i-Math.sqrt(n))/(2*e),o=this.radius_g+r*o,s*=r,a*=r,t.x=Math.atan2(s,o),t.y=Math.atan(a*Math.cos(t.x)/o)}return t.x=t.x+this.long0,t}var ts=["Geostationary Satellite View","Geostationary_Satellite","geos"],es={init:Jo,forward:Ko,inverse:Qo,names:ts},is=1.340264,ns=-.081106,rs=893e-6,os=.003796,ss=Math.sqrt(3)/2;function as(){this.es=0,this.long0=void 0!==this.long0?this.long0:0}function hs(t){var e=pt(t.x-this.long0),i=t.y,n=Math.asin(ss*Math.sin(i)),r=n*n,o=r*r*r;return t.x=e*Math.cos(n)/(ss*(is+3*ns*r+o*(7*rs+9*os*r))),t.y=n*(is+ns*r+o*(rs+os*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function ls(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e,i,n,r,o,s,a=1e-9,h=12,l=t.y;for(s=0;s<h;++s)if(e=l*l,i=e*e*e,n=l*(is+ns*e+i*(rs+os*e))-t.y,r=is+3*ns*e+i*(7*rs+9*os*e),l-=o=n/r,Math.abs(o)<a)break;return e=l*l,i=e*e*e,t.x=ss*t.x*(is+3*ns*e+i*(7*rs+9*os*e))/Math.cos(l),t.y=Math.asin(Math.sin(l)/ss),t.x=pt(t.x+this.long0),t}var us=["eqearth","Equal Earth","Equal_Earth"],cs={init:as,forward:hs,inverse:ls,names:us},ps=1e-10;function fs(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<ps)throw new Error;this.es?(this.en=ai(this.es),this.m1=hi(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=gs,this.forward=ds):(Math.abs(this.phi1)+ps>=f?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=ms,this.forward=ys)}function ds(t){var e,i,n,r=pt(t.x-(this.long0||0)),o=t.y;return e=this.am1+this.m1-hi(o,i=Math.sin(o),n=Math.cos(o),this.en),i=n*r/(e*Math.sqrt(1-this.es*i*i)),t.x=e*Math.sin(i),t.y=this.am1-e*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function gs(t){var e,i,n,r;if(t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a,i=mi(t.x,t.y=this.am1-t.y),r=ui(this.am1+this.m1-i,this.es,this.en),(e=Math.abs(r))<f)e=Math.sin(r),n=i*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else{if(!(Math.abs(e-f)<=ps))throw new Error;n=0}return t.x=pt(n+(this.long0||0)),t.y=In(r),t}function ys(t){var e,i,n=pt(t.x-(this.long0||0)),r=t.y;return i=this.cphi1+this.phi1-r,Math.abs(i)>ps?(t.x=i*Math.sin(e=n*Math.cos(r)/i),t.y=this.cphi1-i*Math.cos(e)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function ms(t){var e,i;t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var n=mi(t.x,t.y=this.cphi1-t.y);if(i=this.cphi1+this.phi1-n,Math.abs(i)>f)throw new Error;return e=Math.abs(Math.abs(i)-f)<=ps?0:n*Math.atan2(t.x,t.y)/Math.cos(i),t.x=pt(e+(this.long0||0)),t.y=In(i),t}var _s=["bonne","Bonne (Werner lat_1=90)"],vs={init:fs,names:_s};function xs(t){t.Proj.projections.add(gi),t.Proj.projections.add(Pi),t.Proj.projections.add(Ai),t.Proj.projections.add(Wi),t.Proj.projections.add(Ji),t.Proj.projections.add(nn),t.Proj.projections.add(un),t.Proj.projections.add(gn),t.Proj.projections.add(xn),t.Proj.projections.add(An),t.Proj.projections.add(Jn),t.Proj.projections.add(rr),t.Proj.projections.add(lr),t.Proj.projections.add(gr),t.Proj.projections.add(xr),t.Proj.projections.add(Cr),t.Proj.projections.add(Nr),t.Proj.projections.add(kr),t.Proj.projections.add(Gr),t.Proj.projections.add(Hr),t.Proj.projections.add(Kr),t.Proj.projections.add(no),t.Proj.projections.add(ho),t.Proj.projections.add(fo),t.Proj.projections.add(Mo),t.Proj.projections.add(Bo),t.Proj.projections.add(Vo),t.Proj.projections.add($o),t.Proj.projections.add(es),t.Proj.projections.add(cs),t.Proj.projections.add(vs)}be.defaultDatum="WGS84",be.Proj=te,be.WGS84=new be.Proj("WGS84"),be.Point=Xe,be.toPoint=pe,be.defs=K,be.nadgrid=Gt,be.transform=ye,be.mgrs=Oe,be.version="__VERSION__",xs(be);var bs=be},8675:function(t,e,i){var n,r,o;(function(s){r=[i(6886),i(1567)],n=s,o="function"===typeof n?n.apply(e,r):n,void 0===o||(t.exports=o)})((function(t,e){return e.__esModule&&e.default&&(e=e.default),t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!==typeof t.inverse&&"undefined"!==typeof t.forward},t.Proj.Projection=t.Class.extend({initialize:function(e,i,n){var r=t.Proj._isProj4Obj(e);this._proj=r?e:this._projFromCodeDef(e,i),this.bounds=r?i:n},project:function(e){var i=this._proj.forward([e.lng,e.lat]);return new t.Point(i[0],i[1])},unproject:function(e,i){var n=this._proj.inverse([e.x,e.y]);return new t.LatLng(n[1],n[0],i)},_projFromCodeDef:function(t,i){if(i)e.defs(t,i);else if(void 0===e.defs[t]){var n=t.split(":");if(n.length>3&&(t=n[n.length-3]+":"+n[n.length-1]),void 0===e.defs[t])throw"No projection definition for code "+t}return e(t)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,i,n){var r,o,s,a;if(t.Proj._isProj4Obj(e)?(o=e,r=o.srsCode,a=i||{},this.projection=new t.Proj.Projection(o,a.bounds)):(r=e,s=i,a=n||{},this.projection=new t.Proj.Projection(r,s,a.bounds)),t.Util.setOptions(this,a),this.code=r,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var h=this.options.resolutions.length-1;h>=0;h--)this.options.resolutions[h]&&(this._scales[h]=1/this.options.resolutions[h])}this.infinite=!this.options.bounds},scale:function(t){var e,i,n,r,o=Math.floor(t);return t===o?this._scales[t]:(e=this._scales[o],i=this._scales[o+1],n=i-e,r=t-o,e+n*r)},zoom:function(t){var e,i,n,r=this._closestElement(this._scales,t),o=this._scales.indexOf(r);return t===r?o:void 0===r?-1/0:(i=o+1,e=this._scales[i],void 0===e?1/0:(n=e-r,(t-r)/n+o))},distance:t.CRS.Earth.distance,R:t.CRS.Earth.R,_closestElement:function(t,e){for(var i,n=t.length;n--;)t[n]<=e&&(void 0===i||i<t[n])&&(i=t[n]);return i}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,i){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,e,i)},addData:function(e){var i;e&&(e.crs&&"name"===e.crs.type?i=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(i=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==i&&(this.options.coordsToLatLng=function(e){var n=t.point(e[0],e[1]);return i.projection.unproject(n)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,i){return new t.Proj.GeoJSON(e,i)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,i,n){t.ImageOverlay.prototype.initialize.call(this,e,null,n),this._projectedBounds=i},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),n=t.point(this._projectedBounds.min.x,this._projectedBounds.max.y),r=this._projectedToNewLayerPoint(n,e.zoom,e.center);t.DomUtil.setTransform(this._image,r,i)},_reset:function(){var e=this._map.getZoom(),i=this._map.getPixelOrigin(),n=t.bounds(this._transform(this._projectedBounds.min,e)._subtract(i),this._transform(this._projectedBounds.max,e)._subtract(i)),r=n.getSize();t.DomUtil.setPosition(this._image,n.min),this._image.style.width=r.x+"px",this._image.style.height=r.y+"px"},_projectedToNewLayerPoint:function(t,e,i){var n=this._map.getSize()._divideBy(2),r=this._map.project(i,e)._subtract(n)._round(),o=r.add(this._map._getMapPanePos());return this._transform(t,e)._subtract(o)},_transform:function(t,e){var i=this._map.options.crs,n=i.transformation,r=i.scale(e);return n.transform(t,r)}}),t.Proj.imageOverlay=function(e,i,n){return new t.Proj.ImageOverlay(e,i,n)},t.Proj}))},9446:function(t){(function(e,i){t.exports=i()})(0,(function(){"use strict";function t(t,i,r,o,s){e(t,i,r||0,o||t.length-1,s||n)}function e(t,n,r,o,s){while(o>r){if(o-r>600){var a=o-r+1,h=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(h-a/2<0?-1:1),p=Math.max(r,Math.floor(n-h*u/a+c)),f=Math.min(o,Math.floor(n+(a-h)*u/a+c));e(t,n,p,f,s)}var d=t[n],g=r,y=o;i(t,r,n),s(t[o],d)>0&&i(t,r,o);while(g<y){i(t,g,y),g++,y--;while(s(t[g],d)<0)g++;while(s(t[y],d)>0)y--}0===s(t[r],d)?i(t,r,y):(y++,i(t,y,o)),y<=n&&(r=y+1),n<=y&&(o=y-1)}}function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}return t}))},1802:function(t,e,i){"use strict";i(4114),t.exports=r,t.exports["default"]=r;var n=i(9446);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,i,n,r){r||(r=m(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<i;s++)o=t.children[s],h(r,t.leaf?n(o):o);return r}function h(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function d(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-i)*Math.max(0,o-n)}function g(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function y(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(t,e,i,r,o){var s,a=[e,i];while(a.length)i=a.pop(),e=a.pop(),i-e<=r||(s=e+Math.ceil((i-e)/r/2)*r,n(t,s,e,i,o),a.push(e,s,s,i))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!y(t,e))return i;var r,o,s,a,h=[];while(e){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],a=e.leaf?n(s):s,y(t,a)&&(e.leaf?i.push(s):g(t,a)?this._all(s,i):h.push(s));e=h.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!y(t,e))return!1;var n,r,o,s,a=[];while(e){for(n=0,r=e.children.length;n<r;n++)if(o=e.children[n],s=e.leaf?i(o):o,y(t,s)){if(e.leaf||g(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(t,e){if(!t)return this;var i,n,r,s,a=this.data,h=this.toBBox(t),l=[],u=[];while(a||l.length){if(a||(a=l.pop(),n=l[l.length-1],i=u.pop(),s=!0),a.leaf&&(r=o(t,a.children,e),-1!==r))return a.children.splice(r,1),l.push(a),this._condense(l),this;s||a.leaf||!g(a,h)?n?(i++,a=n.children[i],s=!1):a=null:(l.push(a),u.push(i),i=0,n=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){var i=[];while(t)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var r,o=i-e+1,a=this._maxEntries;if(o<=a)return r=m(t.slice(e,i+1)),s(r,this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,n-1))),r=m([]),r.leaf=!1,r.height=n;var h,l,u,c,p=Math.ceil(o/a),f=p*Math.ceil(Math.sqrt(a));for(_(t,e,i,f,this.compareMinX),h=e;h<=i;h+=f)for(u=Math.min(h+f-1,i),_(t,h,u,p,this.compareMinY),l=h;l<=u;l+=p)c=Math.min(l+p-1,u),r.children.push(this._build(t,l,c,n-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,i,n){var r,o,s,a,h,l,u,p;while(1){if(n.push(e),e.leaf||n.length-1===i)break;for(u=p=1/0,r=0,o=e.children.length;r<o;r++)s=e.children[r],h=c(s),l=f(t,s)-h,l<p?(p=l,u=h<u?h:u,a=s):l===p&&h<u&&(u=h,a=s);e=a||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,r=i?t:n(t),o=[],s=this._chooseSubtree(r,this.data,e,o);s.children.push(t),h(s,r);while(e>=0){if(!(o[e].children.length>this._maxEntries))break;this._split(o,e),e--}this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var i=t[e],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var o=this._chooseSplitIndex(i,r,n),a=m(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,s(i,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,r,o,s,h,l,u,p;for(l=u=1/0,n=e;n<=i-e;n++)r=a(t,0,n,this.toBBox),o=a(t,n,i,this.toBBox),s=d(r,o),h=c(r)+c(o),s<l?(l=s,p=n,u=h<u?h:u):s===l&&h<u&&(u=h,p=n);return p},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u,o=this._allDistMargin(t,e,i,n),s=this._allDistMargin(t,e,i,r);o<s&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var r,o,s=this.toBBox,l=a(t,0,e,s),u=a(t,i-e,i,s),c=p(l)+p(u);for(r=e;r<i-e;r++)o=t.children[r],h(l,t.leaf?s(o):o),c+=p(l);for(r=i-e-1;r>=e;r--)o=t.children[r],h(u,t.leaf?s(o):o),c+=p(u);return c},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)h(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():s(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},9850:function(t,e,i){"use strict";var n=i(5807),r=i(9340),o=Object;t.exports=n((function(){if(null==this||this!==o(this))throw new r("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},4834:function(t,e,i){"use strict";var n=i(8321),r=i(6610),o=i(9850),s=i(9315),a=i(2053),h=r(s());n(h,{getPolyfill:s,implementation:o,shim:a}),t.exports=h},9315:function(t,e,i){"use strict";i(9479);var n=i(9850),r=i(8321).supportsDescriptors,o=Object.getOwnPropertyDescriptor;t.exports=function(){if(r&&"gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"===typeof t.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var e="",i={};if(Object.defineProperty(i,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(i,"sticky",{get:function(){e+="y"}}),t.get.call(i),"dy"===e)return t.get}}return n}},2053:function(t,e,i){"use strict";var n=i(8321).supportsDescriptors,r=i(9315),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,h=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!h)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=r(),e=h(l),i=o(e,"flags");return i&&i.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},5936:function(t,e,i){i(6573),i(8100),i(7936),i(7467),i(4732),i(9577),function(t,i){i(e)}(0,(function(t){"use strict";const e=134217729,i=33306690738754706e-32;function n(t,e,i,n,r){let o,s,a,h,l=e[0],u=n[0],c=0,p=0;u>l==u>-l?(o=l,l=e[++c]):(o=u,u=n[++p]);let f=0;if(c<t&&p<i)for(u>l==u>-l?(a=o-((s=l+o)-l),l=e[++c]):(a=o-((s=u+o)-u),u=n[++p]),o=s,0!==a&&(r[f++]=a);c<t&&p<i;)u>l==u>-l?(a=o-((s=o+l)-(h=s-o))+(l-h),l=e[++c]):(a=o-((s=o+u)-(h=s-o))+(u-h),u=n[++p]),o=s,0!==a&&(r[f++]=a);for(;c<t;)a=o-((s=o+l)-(h=s-o))+(l-h),l=e[++c],o=s,0!==a&&(r[f++]=a);for(;p<i;)a=o-((s=o+u)-(h=s-o))+(u-h),u=n[++p],o=s,0!==a&&(r[f++]=a);return 0===o&&0!==f||(r[f++]=o),f}function r(t){return new Float64Array(t)}const o=33306690738754716e-32,s=22204460492503146e-32,a=11093356479670487e-47,h=r(4),l=r(8),u=r(12),c=r(16),p=r(4);t.orient2d=function(t,r,f,d,g,y){const m=(r-y)*(f-g),_=(t-g)*(d-y),v=m-_;if(0===m||0===_||m>0!=_>0)return v;const x=Math.abs(m+_);return Math.abs(v)>=o*x?v:-function(t,r,o,f,d,g,y){let m,_,v,x,b,w,M,E,S,C,I,P,L,O,N,T,A,R;const D=t-d,k=o-d,F=r-g,B=f-g;b=(N=(E=D-(M=(w=e*D)-(w-D)))*(C=B-(S=(w=e*B)-(w-B)))-((O=D*B)-M*S-E*S-M*C))-(I=N-(A=(E=F-(M=(w=e*F)-(w-F)))*(C=k-(S=(w=e*k)-(w-k)))-((T=F*k)-M*S-E*S-M*C))),h[0]=N-(I+b)+(b-A),b=(L=O-((P=O+I)-(b=P-O))+(I-b))-(I=L-T),h[1]=L-(I+b)+(b-T),b=(R=P+I)-P,h[2]=P-(R-b)+(I-b),h[3]=R;let z=function(t,e){let i=e[0];for(let n=1;n<t;n++)i+=e[n];return i}(4,h),j=s*y;if(z>=j||-z>=j)return z;if(m=t-(D+(b=t-D))+(b-d),v=o-(k+(b=o-k))+(b-d),_=r-(F+(b=r-F))+(b-g),x=f-(B+(b=f-B))+(b-g),0===m&&0===_&&0===v&&0===x)return z;if(j=a*y+i*Math.abs(z),(z+=D*x+B*m-(F*v+k*_))>=j||-z>=j)return z;b=(N=(E=m-(M=(w=e*m)-(w-m)))*(C=B-(S=(w=e*B)-(w-B)))-((O=m*B)-M*S-E*S-M*C))-(I=N-(A=(E=_-(M=(w=e*_)-(w-_)))*(C=k-(S=(w=e*k)-(w-k)))-((T=_*k)-M*S-E*S-M*C))),p[0]=N-(I+b)+(b-A),b=(L=O-((P=O+I)-(b=P-O))+(I-b))-(I=L-T),p[1]=L-(I+b)+(b-T),b=(R=P+I)-P,p[2]=P-(R-b)+(I-b),p[3]=R;const U=n(4,h,4,p,l);b=(N=(E=D-(M=(w=e*D)-(w-D)))*(C=x-(S=(w=e*x)-(w-x)))-((O=D*x)-M*S-E*S-M*C))-(I=N-(A=(E=F-(M=(w=e*F)-(w-F)))*(C=v-(S=(w=e*v)-(w-v)))-((T=F*v)-M*S-E*S-M*C))),p[0]=N-(I+b)+(b-A),b=(L=O-((P=O+I)-(b=P-O))+(I-b))-(I=L-T),p[1]=L-(I+b)+(b-T),b=(R=P+I)-P,p[2]=P-(R-b)+(I-b),p[3]=R;const G=n(U,l,4,p,u);b=(N=(E=m-(M=(w=e*m)-(w-m)))*(C=x-(S=(w=e*x)-(w-x)))-((O=m*x)-M*S-E*S-M*C))-(I=N-(A=(E=_-(M=(w=e*_)-(w-_)))*(C=v-(S=(w=e*v)-(w-v)))-((T=_*v)-M*S-E*S-M*C))),p[0]=N-(I+b)+(b-A),b=(L=O-((P=O+I)-(b=P-O))+(I-b))-(I=L-T),p[1]=L-(I+b)+(b-T),b=(R=P+I)-P,p[2]=P-(R-b)+(I-b),p[3]=R;const V=n(G,u,4,p,c);return c[V-1]}(t,r,f,d,g,y,x)},t.orient2dfast=function(t,e,i,n,r,o){return(e-o)*(i-r)-(t-r)*(n-o)},Object.defineProperty(t,"__esModule",{value:!0})}))},8460:function(t,e,i){"use strict";var n=i(5072),r=i(7774),o=i(1719)(),s=i(9576),a=i(9340),h=n("%Math.floor%");t.exports=function(t,e){if("function"!==typeof t)throw new a("`fn` is not a function");if("number"!==typeof e||e<0||e>4294967295||h(e)!==e)throw new a("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,l=!0;if("length"in t&&s){var u=s(t,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(l=!1)}return(n||l||!i)&&(o?r(t,"length",e,!0,!0):r(t,"length",e)),t}},5807:function(t,e,i){"use strict";var n=i(7774),r=i(1719)(),o=i(6081).functionsHaveConfigurableNames(),s=i(9340);t.exports=function(t,e){if("function"!==typeof t)throw new s("`fn` is not a function");var i=arguments.length>2&&!!arguments[2];return i&&!o||(r?n(t,"name",e,!0,!0):n(t,"name",e)),t}},4537:function(t){"use strict";t.exports={eudist:function(t,e,i){for(var n=t.length,r=0,o=0;o<n;o++){var s=(t[o]||0)-(e[o]||0);r+=s*s}return i?Math.sqrt(r):r},mandist:function(t,e,i){for(var n=t.length,r=0,o=0;o<n;o++)r+=Math.abs((t[o]||0)-(e[o]||0));return i?Math.sqrt(r):r},dist:function(t,e,i){var n=Math.abs(t-e);return i?n:n*n}}},6803:function(t,e,i){"use strict";i(4114);var n=i(4537),r=n.eudist,o=n.dist;t.exports={kmrand:function(t,e){var i={},n=[],r=e<<2,o=t.length,s=t[0].length>0;while(n.length<e&&r-- >0){var a=t[Math.floor(Math.random()*o)],h=s?a.join("_"):""+a;i[h]||(i[h]=!0,n.push(a))}if(n.length<e)throw new Error("Error initializating clusters");return n},kmpp:function(t,e){var i=t[0].length?r:o,n=[],s=t.length,a=t[0].length>0,h={},l=t[Math.floor(Math.random()*s)],u=a?l.join("_"):""+l;n.push(l),h[u]=!0;while(n.length<e){for(var c=[],p=n.length,f=0,d=[],g=0;g<s;g++){for(var y=1/0,m=0;m<p;m++){var _=i(t[g],n[m]);_<=y&&(y=_)}c[g]=y}for(var v=0;v<s;v++)f+=c[v];for(var x=0;x<s;x++)d[x]={i:x,v:t[x],pr:c[x]/f,cs:0};d.sort((function(t,e){return t.pr-e.pr})),d[0].cs=d[0].pr;for(var b=1;b<s;b++)d[b].cs=d[b-1].cs+d[b].pr;var w=Math.random(),M=0;while(M<s-1&&d[M++].cs<w);n.push(d[M-1].v)}return n}}},6907:function(t,e,i){"use strict";i(4114);var n=i(4537),r=i(6803),o=n.eudist,s=(n.mandist,n.dist,r.kmrand),a=r.kmpp,h=1e4;function l(t,e,i){i=i||[];for(var n=0;n<t;n++)i[n]=e;return i}function u(t,e,i,n){var r=[],u=[],c=[],p=[],f=!1,d=n||h,g=t.length,y=t[0].length,m=y>0,_=[];if(i)r="kmrand"==i?s(t,e):"kmpp"==i?a(t,e):i;else{var v={};while(r.length<e){var x=Math.floor(Math.random()*g);v[x]||(v[x]=!0,r.push(t[x]))}}do{l(e,0,_);for(var b=0;b<g;b++){for(var w=1/0,M=0,E=0;E<e;E++){p=m?o(t[b],r[E]):Math.abs(t[b]-r[E]);p<=w&&(w=p,M=E)}c[b]=M,_[M]++}for(var S=[],C=(u=[],0);C<e;C++)S[C]=m?l(y,0,S[C]):0,u[C]=r[C];if(m){for(var I=0;I<e;I++)r[I]=[];for(var P=0;P<g;P++)for(var L=c[P],O=S[L],N=t[P],T=0;T<y;T++)O[T]+=N[T];f=!0;for(var A=0;A<e;A++){for(var R=r[A],D=S[A],k=u[A],F=_[A],B=0;B<y;B++)R[B]=D[B]/F||0;if(f)for(var z=0;z<y;z++)if(k[z]!=R[z]){f=!1;break}}}else{for(var j=0;j<g;j++){var U=c[j];S[U]+=t[j]}for(var G=0;G<e;G++)r[G]=S[G]/_[G]||0;f=!0;for(var V=0;V<e;V++)if(u[V]!=r[V]){f=!1;break}}f=f||--d<=0}while(!f);return{it:h-d,k:e,idxs:c,centroids:r}}t.exports=u},5915:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return n}});i(4114);class n{constructor(t=[],e=r){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:i}=this,n=e[t];while(t>0){const r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n}_down(t){const{data:e,compare:i}=this,n=this.length>>1,r=e[t];while(t<n){let n=1+(t<<1),o=e[n];const s=n+1;if(s<this.length&&i(e[s],o)<0&&(n=s,o=e[s]),i(o,r)>=0)break;e[t]=o,t=n}e[t]=r}}function r(t,e){return t<e?-1:t>e?1:0}},6648:function(t,e,i){i(4114),i(8992),i(4520),i(2577),i(3949),i(1454),i(1795),function(t,i){i(e)}(0,(function(t){"use strict";function e(){}function i(t){this.message=t||""}function n(t){this.message=t||""}function r(t){this.message=t||""}function o(){}function s(t){return null===t?Rt:t.color}function a(t){return null===t?null:t.parent}function h(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function u(t){return null===t?null:t.right}function c(){this.root_=null,this.size_=0}function p(){}function f(){this.array_=[],arguments[0]instanceof xt&&this.addAll(arguments[0])}function d(){}function g(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),i=Math.max(Math.min(e.length,9007199254740991),0)||0,n=1 in arguments&&parseInt(Number(arguments[1]),10)||0;n=n<0?Math.max(i+n,0):Math.min(n,i);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:i;for(r=r<0?Math.max(i+arguments[2],0):Math.min(r,i);n<r;)e[n]=t,++n;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.prototype.equalsWithTolerance=function(t,e,i){return Math.abs(t-e)<=i};var _=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),v=function(){},x={MAX_VALUE:{configurable:!0}};v.isNaN=function(t){return Number.isNaN(t)},v.doubleToLongBits=function(t){return t},v.longBitsToDouble=function(t){return t},v.isInfinite=function(t){return!Number.isFinite(t)},x.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(v,x);var b=function(){},w=function(){},M=function(){},E=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},S={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};E.prototype.setOrdinate=function(t,e){switch(t){case E.X:this.x=e;break;case E.Y:this.y=e;break;case E.Z:this.z=e;break;default:throw new _("Invalid ordinate index: "+t)}},E.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!m.equalsWithTolerance(this.x,e.x,i)&&!!m.equalsWithTolerance(this.y,e.y,i)}},E.prototype.getOrdinate=function(t){switch(t){case E.X:return this.x;case E.Y:return this.y;case E.Z:return this.z}throw new _("Invalid ordinate index: "+t)},E.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||v.isNaN(this.z))&&v.isNaN(t.z)},E.prototype.equals=function(t){return t instanceof E&&this.equals2D(t)},E.prototype.equalInZ=function(t,e){return m.equalsWithTolerance(this.z,t.z,e)},E.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},E.prototype.clone=function(){},E.prototype.copy=function(){return new E(this)},E.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},E.prototype.distance3D=function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+i*i+n*n)},E.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},E.prototype.hashCode=function(){var t=17;return t=37*t+E.hashCode(this.x),37*t+E.hashCode(this.y)},E.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},E.prototype.interfaces_=function(){return[b,w,e]},E.prototype.getClass=function(){return E},E.hashCode=function(){if(1===arguments.length){var t=arguments[0];v.doubleToLongBits(t);return Math.trunc(0)}},S.DimensionalComparator.get=function(){return C},S.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},S.NULL_ORDINATE.get=function(){return v.NaN},S.X.get=function(){return 0},S.Y.get=function(){return 1},S.Z.get=function(){return 2},Object.defineProperties(E,S);var C=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new _("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};C.prototype.compare=function(t,e){var i=t,n=e,r=C.compare(i.x,n.x);if(0!==r)return r;var o=C.compare(i.y,n.y);return 0!==o?o:this._dimensionsToTest<=2?0:C.compare(i.z,n.z)},C.prototype.interfaces_=function(){return[M]},C.prototype.getClass=function(){return C},C.compare=function(t,e){return t<e?-1:t>e?1:v.isNaN(t)?v.isNaN(e)?0:-1:v.isNaN(e)?1:0};var I=function(){};I.prototype.create=function(){},I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I};var P=function(){},L={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};P.prototype.interfaces_=function(){return[]},P.prototype.getClass=function(){return P},P.toLocationSymbol=function(t){switch(t){case P.EXTERIOR:return"e";case P.BOUNDARY:return"b";case P.INTERIOR:return"i";case P.NONE:return"-"}throw new _("Unknown location value: "+t)},L.INTERIOR.get=function(){return 0},L.BOUNDARY.get=function(){return 1},L.EXTERIOR.get=function(){return 2},L.NONE.get=function(){return-1},Object.defineProperties(P,L);var O=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},N=function(){},T={LOG_10:{configurable:!0}};N.prototype.interfaces_=function(){return[]},N.prototype.getClass=function(){return N},N.log10=function(t){var e=Math.log(t);return v.isInfinite(e)||v.isNaN(e)?e:e/N.LOG_10},N.min=function(t,e,i,n){var r=t;return e<r&&(r=e),i<r&&(r=i),n<r&&(r=n),r},N.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],i=arguments[2];return t<e?e:t>i?i:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1],o=arguments[2];return n<r?r:n>o?o:n}},N.wrap=function(t,e){return t<0?e- -t%e:t%e},N.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=t;return e>n&&(n=e),i>n&&(n=i),n}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],h=r;return o>h&&(h=o),s>h&&(h=s),a>h&&(h=a),h}},N.average=function(t,e){return(t+e)/2},T.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(N,T);var A=function(t){this.str=t};A.prototype.append=function(t){this.str+=t},A.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},A.prototype.toString=function(t){return this.str};var R=function(t){this.value=t};R.prototype.intValue=function(){return this.value},R.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},R.isNaN=function(t){return Number.isNaN(t)};var D=function(){};D.isWhitespace=function(t){return t<=32&&t>=0||127===t},D.toUpperCase=function(t){return t.toUpperCase()};var k=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var i=arguments[0];this.init(i)}else if("string"==typeof arguments[0]){var n=arguments[0];t.call(this,t.parse(n))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},F={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};k.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},k.prototype.extractSignificantDigits=function(t,e){var i=this.abs(),n=k.magnitude(i._hi),r=k.TEN.pow(n);(i=i.divide(r)).gt(k.TEN)?(i=i.divide(k.TEN),n+=1):i.lt(k.ONE)&&(i=i.multiply(k.TEN),n-=1);for(var o=n+1,s=new A,a=k.MAX_PRINT_DIGITS-1,h=0;h<=a;h++){t&&h===o&&s.append(".");var l=Math.trunc(i._hi);if(l<0)break;var u=!1,c=0;l>9?(u=!0,c="9"):c="0"+l,s.append(c),i=i.subtract(k.valueOf(l)).multiply(k.TEN),u&&i.selfAdd(k.TEN);var p=!0,f=k.magnitude(i._hi);if(f<0&&Math.abs(f)>=a-h&&(p=!1),!p)break}return e[0]=n,s.toString()},k.prototype.sqr=function(){return this.multiply(this)},k.prototype.doubleValue=function(){return this._hi+this._lo},k.prototype.subtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},k.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},k.prototype.isZero=function(){return 0===this._hi&&0===this._lo},k.prototype.selfSubtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},k.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},k.prototype.min=function(t){return this.le(t)?this:t},k.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=null,o=null,s=null,a=null,h=null,l=null,u=null,c=null;return h=this._hi/i,l=k.SPLIT*h,r=l-h,c=k.SPLIT*i,r=l-r,o=h-r,s=c-i,u=h*i,s=c-s,a=i-s,c=r*s-u+r*a+o*s+o*a,l=(this._hi-u-c+this._lo-h*n)/i,c=h+l,this._hi=c,this._lo=h-c+l,this}},k.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},k.prototype.divide=function(){if(arguments[0]instanceof k){var t=arguments[0],e=null,i=null,n=null,r=null,o=null,s=null,a=null,h=null;return i=(o=this._hi/t._hi)-(e=(s=k.SPLIT*o)-(e=s-o)),h=e*(n=(h=k.SPLIT*t._hi)-(n=h-t._hi))-(a=o*t._hi)+e*(r=t._hi-n)+i*n+i*r,s=(this._hi-a-h+this._lo-o*t._lo)/t._hi,new k(h=o+s,o-h+s)}if("number"==typeof arguments[0]){var l=arguments[0];return v.isNaN(l)?k.createNaN():k.copy(this).selfDivide(l,0)}},k.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},k.prototype.pow=function(t){if(0===t)return k.valueOf(1);var e=new k(this),i=k.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2==1&&i.selfMultiply(e),(n/=2)>0&&(e=e.sqr());else i=e;return t<0?i.reciprocal():i},k.prototype.ceil=function(){if(this.isNaN())return k.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new k(t,e)},k.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},k.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},k.prototype.setValue=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},k.prototype.max=function(t){return this.ge(t)?this:t},k.prototype.sqrt=function(){if(this.isZero())return k.valueOf(0);if(this.isNegative())return k.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,i=k.valueOf(e),n=this.subtract(i.sqr())._hi*(.5*t);return i.add(n)},k.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],i=null,n=null,r=null,o=null,s=null,a=null;return r=this._hi+e,s=r-this._hi,o=r-s,o=e-s+(this._hi-o),a=o+this._lo,i=r+a,n=a+(r-i),this._hi=i+n,this._lo=n+(i-this._hi),this}}else if(2===arguments.length){var h=arguments[0],l=arguments[1],u=null,c=null,p=null,f=null,d=null,g=null,y=null;f=this._hi+h,c=this._lo+l,d=f-(g=f-this._hi),p=c-(y=c-this._lo);var m=(u=f+(g=(d=h-g+(this._hi-d))+c))+(g=(p=l-y+(this._lo-p))+(g+(f-u))),_=g+(u-m);return this._hi=m,this._lo=_,this}},k.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=null,o=null,s=null,a=null,h=null,l=null;r=(h=k.SPLIT*this._hi)-this._hi,l=k.SPLIT*i,r=h-r,o=this._hi-r,s=l-i;var u=(h=this._hi*i)+(l=r*(s=l-s)-h+r*(a=i-s)+o*s+o*a+(this._hi*n+this._lo*i)),c=l+(r=h-u);return this._hi=u,this._lo=c,this}},k.prototype.selfSqr=function(){return this.selfMultiply(this)},k.prototype.floor=function(){if(this.isNaN())return k.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new k(t,e)},k.prototype.negate=function(){return this.isNaN()?this:new k(-this._hi,-this._lo)},k.prototype.clone=function(){},k.prototype.multiply=function(){if(arguments[0]instanceof k){var t=arguments[0];return t.isNaN()?k.createNaN():k.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return v.isNaN(e)?k.createNaN():k.copy(this).selfMultiply(e,0)}},k.prototype.isNaN=function(){return v.isNaN(this._hi)},k.prototype.intValue=function(){return Math.trunc(this._hi)},k.prototype.toString=function(){var t=k.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},k.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!0,e),n=e[0]+1,r=i;if("."===i.charAt(0))r="0"+i;else if(n<0)r="0."+k.stringOfChar("0",-n)+i;else if(-1===i.indexOf(".")){var o=n-i.length;r=i+k.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},k.prototype.reciprocal=function(){var t=null,e=null,i=null,n=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=k.SPLIT*r)-(t=o-r)),i=(a=k.SPLIT*this._hi)-this._hi;var h=r+(o=(1-(s=r*this._hi)-(a=t*(i=a-i)-s+t*(n=this._hi-i)+e*i+e*n)-r*this._lo)/this._hi);return new k(h,r-h+o)},k.prototype.toSciNotation=function(){if(this.isZero())return k.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!1,e),n=k.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===i.charAt(0))throw new Error("Found leading zero: "+i);var r="";i.length>1&&(r=i.substring(1));var o=i.charAt(0)+"."+r;return this.isNegative()?"-"+o+n:o+n},k.prototype.abs=function(){return this.isNaN()?k.NaN:this.isNegative()?this.negate():new k(this)},k.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},k.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},k.prototype.add=function(){if(arguments[0]instanceof k){var t=arguments[0];return k.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return k.copy(this).selfAdd(e)}},k.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof k){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this._hi=i,this._lo=n}},k.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},k.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},k.prototype.trunc=function(){return this.isNaN()?k.NaN:this.isPositive()?this.floor():this.ceil()},k.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},k.prototype.interfaces_=function(){return[e,b,w]},k.prototype.getClass=function(){return k},k.sqr=function(t){return k.valueOf(t).selfMultiply(t)},k.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return k.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new k(e)}},k.sqrt=function(t){return k.valueOf(t).sqrt()},k.parse=function(t){for(var e=0,i=t.length;D.isWhitespace(t.charAt(e));)e++;var n=!1;if(e<i){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(n=!0))}for(var o=new k,s=0,a=0,h=0;!(e>=i);){var l=t.charAt(e);if(e++,D.isDigit(l)){var u=l-"0";o.selfMultiply(k.TEN),o.selfAdd(u),s++}else{if("."!==l){if("e"===l||"E"===l){var c=t.substring(e);try{h=R.parseInt(c)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+c+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var p=o,f=s-a-h;if(0===f)p=o;else if(f>0){var d=k.TEN.pow(f);p=o.divide(d)}else if(f<0){var g=k.TEN.pow(-f);p=o.multiply(g)}return n?p.negate():p},k.createNaN=function(){return new k(v.NaN,v.NaN)},k.copy=function(t){return new k(t)},k.magnitude=function(t){var e=Math.abs(t),i=Math.log(e)/Math.log(10),n=Math.trunc(Math.floor(i));return 10*Math.pow(10,n)<=e&&(n+=1),n},k.stringOfChar=function(t,e){for(var i=new A,n=0;n<e;n++)i.append(t);return i.toString()},F.PI.get=function(){return new k(3.141592653589793,12246467991473532e-32)},F.TWO_PI.get=function(){return new k(6.283185307179586,24492935982947064e-32)},F.PI_2.get=function(){return new k(1.5707963267948966,6123233995736766e-32)},F.E.get=function(){return new k(2.718281828459045,14456468917292502e-32)},F.NaN.get=function(){return new k(v.NaN,v.NaN)},F.EPS.get=function(){return 123259516440783e-46},F.SPLIT.get=function(){return 134217729},F.MAX_PRINT_DIGITS.get=function(){return 32},F.TEN.get=function(){return k.valueOf(10)},F.ONE.get=function(){return k.valueOf(1)},F.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},F.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(k,F);var B=function(){},z={DP_SAFE_EPSILON:{configurable:!0}};B.prototype.interfaces_=function(){return[]},B.prototype.getClass=function(){return B},B.orientationIndex=function(t,e,i){var n=B.orientationIndexFilter(t,e,i);if(n<=1)return n;var r=k.valueOf(e.x).selfAdd(-t.x),o=k.valueOf(e.y).selfAdd(-t.y),s=k.valueOf(i.x).selfAdd(-e.x),a=k.valueOf(i.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},B.signOfDet2x2=function(t,e,i,n){return t.multiply(n).selfSubtract(e.multiply(i)).signum()},B.intersection=function(t,e,i,n){var r=k.valueOf(n.y).selfSubtract(i.y).selfMultiply(k.valueOf(e.x).selfSubtract(t.x)),o=k.valueOf(n.x).selfSubtract(i.x).selfMultiply(k.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=k.valueOf(n.x).selfSubtract(i.x).selfMultiply(k.valueOf(t.y).selfSubtract(i.y)),h=k.valueOf(n.y).selfSubtract(i.y).selfMultiply(k.valueOf(t.x).selfSubtract(i.x)),l=a.subtract(h).selfDivide(s).doubleValue(),u=k.valueOf(t.x).selfAdd(k.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),c=k.valueOf(e.x).selfSubtract(t.x).selfMultiply(k.valueOf(t.y).selfSubtract(i.y)),p=k.valueOf(e.y).selfSubtract(t.y).selfMultiply(k.valueOf(t.x).selfSubtract(i.x)),f=c.subtract(p).selfDivide(s).doubleValue(),d=k.valueOf(i.y).selfAdd(k.valueOf(n.y).selfSubtract(i.y).selfMultiply(f)).doubleValue();return new E(u,d)},B.orientationIndexFilter=function(t,e,i){var n=null,r=(t.x-i.x)*(e.y-i.y),o=(t.y-i.y)*(e.x-i.x),s=r-o;if(r>0){if(o<=0)return B.signum(s);n=r+o}else{if(!(r<0))return B.signum(s);if(o>=0)return B.signum(s);n=-r-o}var a=B.DP_SAFE_EPSILON*n;return s>=a||-s>=a?B.signum(s):2},B.signum=function(t){return t>0?1:t<0?-1:0},z.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(B,z);var j=function(){},U={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};U.X.get=function(){return 0},U.Y.get=function(){return 1},U.Z.get=function(){return 2},U.M.get=function(){return 3},j.prototype.setOrdinate=function(t,e,i){},j.prototype.size=function(){},j.prototype.getOrdinate=function(t,e){},j.prototype.getCoordinate=function(){},j.prototype.getCoordinateCopy=function(t){},j.prototype.getDimension=function(){},j.prototype.getX=function(t){},j.prototype.clone=function(){},j.prototype.expandEnvelope=function(t){},j.prototype.copy=function(){},j.prototype.getY=function(t){},j.prototype.toCoordinateArray=function(){},j.prototype.interfaces_=function(){return[w]},j.prototype.getClass=function(){return j},Object.defineProperties(j,U);var G=function(){},V=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(G),q=function(){};q.arraycopy=function(t,e,i,n,r){for(var o=0,s=e;s<e+r;s++)i[n+o]=t[s],o++},q.getProperty=function(t){return{"line.separator":"\n"}[t]};var W=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var i=arguments[0],n=arguments[1];this.x=i,this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof E&&arguments[1]instanceof E){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var h=arguments[0],l=arguments[1],u=arguments[2];this.x=h,this.y=l,this.w=u}else if(4===arguments.length){var c=arguments[0],p=arguments[1],f=arguments[2],d=arguments[3],g=c.y-p.y,y=p.x-c.x,m=c.x*p.y-p.x*c.y,_=f.y-d.y,v=d.x-f.x,x=f.x*d.y-d.x*f.y;this.x=y*x-v*m,this.y=_*m-g*x,this.w=g*v-_*y}};W.prototype.getY=function(){var t=this.y/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},W.prototype.getX=function(){var t=this.x/this.w;if(v.isNaN(t)||v.isInfinite(t))throw new V;return t},W.prototype.getCoordinate=function(){var t=new E;return t.x=this.getX(),t.y=this.getY(),t},W.prototype.interfaces_=function(){return[]},W.prototype.getClass=function(){return W},W.intersection=function(t,e,i,n){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=i.y-n.y,h=n.x-i.x,l=i.x*n.y-n.x*i.y,u=r*h-a*o,c=(o*l-h*s)/u,p=(a*s-r*l)/u;if(v.isNaN(c)||v.isInfinite(c)||v.isNaN(p)||v.isInfinite(p))throw new V;return new E(c,p)};var Y=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var i=arguments[0];this.init(i)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],h=arguments[3];this.init(o,s,a,h)}},H={serialVersionUID:{configurable:!0}};Y.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Y.prototype.equals=function(t){if(!(t instanceof Y))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Y.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Y;var e=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny,n=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new Y(e,n,i,r)},Y.prototype.isNull=function(){return this._maxx<this._minx},Y.prototype.getMaxX=function(){return this._maxx},Y.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Y){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&n>=this._miny&&n<=this._maxy}},Y.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof E){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return!this.isNull()&&!(i>this._maxx||i<this._minx||n>this._maxy||n<this._miny)}},Y.prototype.getMinY=function(){return this._miny},Y.prototype.getMinX=function(){return this._minx},Y.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Y){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=n,this._maxy=n):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),n<this._miny&&(this._miny=n),n>this._maxy&&(this._maxy=n))}},Y.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Y.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Y.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Y.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Y.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Y.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Y.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Y.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Y.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Y.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof E){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return this.covers(i,n)}},Y.prototype.centre=function(){return this.isNull()?null:new E((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Y.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Y){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.init(i.x,n.x,i.y,n.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Y.prototype.getMaxY=function(){return this._maxy},Y.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var i=0;return this._maxy<t._miny?i=t._miny-this._maxy:this._miny>t._maxy&&(i=this._miny-t._maxy),0===e?i:0===i?e:Math.sqrt(e*e+i*i)},Y.prototype.hashCode=function(){var t=17;return t=37*t+E.hashCode(this._minx),t=37*t+E.hashCode(this._maxx),t=37*t+E.hashCode(this._miny),37*t+E.hashCode(this._maxy)},Y.prototype.interfaces_=function(){return[b,e]},Y.prototype.getClass=function(){return Y},Y.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];return i.x>=(t.x<e.x?t.x:e.x)&&i.x<=(t.x>e.x?t.x:e.x)&&i.y>=(t.y<e.y?t.y:e.y)&&i.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),h=Math.max(o.x,s.x),l=Math.min(n.x,r.x),u=Math.max(n.x,r.x);return!(l>h)&&!(u<a)&&(a=Math.min(o.y,s.y),h=Math.max(o.y,s.y),l=Math.min(n.y,r.y),u=Math.max(n.y,r.y),!(l>h)&&!(u<a))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Y,H);var X={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Z=function(t){this.geometryFactory=t||new me};Z.prototype.read=function(t){var e,i,n;t=t.replace(/[\n\r]/g," ");var r=X.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=X.emptyTypeStr.exec(t))[2]=void 0),r&&(i=r[1].toLowerCase(),n=r[2],J[i]&&(e=J[i].apply(this,[n]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Z.prototype.write=function(t){return this.extractGeometry(t)},Z.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!$[e])return null;var i=e.toUpperCase();return t.isEmpty()?i+" EMPTY":i+"("+$[e].apply(this,[t])+")"};var $={coordinate:function(t){return t.x+" "+t.y},point:function(t){return $.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+$.point.apply(this,[t._geometries[i]])+")");return e.join(",")},linestring:function(t){for(var e=[],i=0,n=t._points._coordinates.length;i<n;++i)e.push($.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},linearring:function(t){for(var e=[],i=0,n=t._points._coordinates.length;i<n;++i)e.push($.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},multilinestring:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+$.linestring.apply(this,[t._geometries[i]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+$.linestring.apply(this,[t._shell])+")");for(var i=0,n=t._holes.length;i<n;++i)e.push("("+$.linestring.apply(this,[t._holes[i]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+$.polygon.apply(this,[t._geometries[i]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push(this.extractGeometry(t._geometries[i]));return e.join(",")}},J={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(X.spaces);return this.geometryFactory.createPoint(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(X.trimParens,"$1"),n.push(J.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;r<o;++r)e=i[r].trim().split(X.spaces),n.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;r<o;++r)e=i[r].trim().split(X.spaces),n.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,i=t.trim().split(X.parenComma),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(X.trimParens,"$1"),n.push(J.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(n)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,i,n,r,o=t.trim().split(X.parenComma),s=[],a=0,h=o.length;a<h;++a)e=o[a].replace(X.trimParens,"$1"),i=J.linestring.apply(this,[e]),n=this.geometryFactory.createLinearRing(i._points),0===a?r=n:s.push(n);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,i=t.trim().split(X.doubleParenComma),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(X.trimParens,"$1"),n.push(J.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),i=[],n=0,r=e.length;n<r;++n)i.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(i)}},K=function(t){this.parser=new Z(t)};K.prototype.write=function(t){return this.parser.write(t)},K.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Q=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Q),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,i;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],i=arguments[2],!e.equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==i?": "+i:""))};var it=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new E,this._intPt[1]=new E,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};it.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},it.prototype.getTopologySummary=function(){var t=new A;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},it.prototype.computeIntersection=function(t,e,i,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=i,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,i,n)},it.prototype.getIntersectionNum=function(){return this._result},it.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},it.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},it.prototype.setPrecisionModel=function(t){this._precisionModel=t},it.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},it.prototype.getIntersection=function(t){return this._intPt[t]},it.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},it.prototype.hasIntersection=function(){return this._result!==it.NO_INTERSECTION},it.prototype.getEdgeDistance=function(t,e){return it.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},it.prototype.isCollinear=function(){return this._result===it.COLLINEAR_INTERSECTION},it.prototype.toString=function(){return K.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+K.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},it.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},it.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},it.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},it.prototype.interfaces_=function(){return[]},it.prototype.getClass=function(){return it},it.computeEdgeDistance=function(t,e,i){var n=Math.abs(i.x-e.x),r=Math.abs(i.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(i))o=n>r?n:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=n>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},it.nonRobustComputeEdgeDistance=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},nt.DONT_INTERSECT.get=function(){return 0},nt.DO_INTERSECT.get=function(){return 1},nt.COLLINEAR.get=function(){return 2},nt.NO_INTERSECTION.get=function(){return 0},nt.POINT_INTERSECTION.get=function(){return 1},nt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(it,nt);var rt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Y(this._inputLines[0][0],this._inputLines[0][1]),i=new Y(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&i.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],i=arguments[1],n=arguments[2];if(this._isProper=!1,Y.intersects(i,n,e)&&0===at.orientationIndex(i,n,e)&&0===at.orientationIndex(n,i,e))return this._isProper=!0,(e.equals(i)||e.equals(n))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,i,n,r){r.x=this.smallestInAbsValue(t.x,e.x,i.x,n.x),r.y=this.smallestInAbsValue(t.y,e.y,i.y,n.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,i,n,r){var o=null;try{o=W.intersection(t,i,n,r)}catch(s){if(!(s instanceof V))throw s;o=e.nearestEndpoint(t,i,n,r)}return o},e.prototype.intersection=function(t,i,n,r){var o=this.intersectionWithNormalization(t,i,n,r);return this.isInSegmentEnvelopes(o)||(o=new E(e.nearestEndpoint(t,i,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,i,n){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(i)<o&&(r=i,o=Math.abs(i)),Math.abs(n)<o&&(r=n),r},e.prototype.checkDD=function(t,e,i,n,r){var o=B.intersection(t,e,i,n),s=this.isInSegmentEnvelopes(o);q.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&q.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,i,n){var r=new E(t),o=new E(e),s=new E(i),a=new E(n),h=new E;this.normalizeToEnvCentre(r,o,s,a,h);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=h.x,l.y+=h.y,l},e.prototype.computeCollinearIntersection=function(e,i,n,r){var o=Y.intersects(e,i,n),s=Y.intersects(e,i,r),a=Y.intersects(n,r,e),h=Y.intersects(n,r,i);return o&&s?(this._intPt[0]=n,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&h?(this._intPt[0]=e,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||s||h?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&h?(this._intPt[0]=n,this._intPt[1]=i,!n.equals(i)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||h?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&h?(this._intPt[0]=r,this._intPt[1]=i,!r.equals(i)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,i,n,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,h=t.y>e.y?t.y:e.y,l=i.x<n.x?i.x:n.x,u=i.y<n.y?i.y:n.y,c=i.x>n.x?i.x:n.x,p=i.y>n.y?i.y:n.y,f=((o>l?o:l)+(a<c?a:c))/2,d=((s>u?s:u)+(h<p?h:p))/2;r.x=f,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},e.prototype.computeIntersect=function(e,i,n,r){if(this._isProper=!1,!Y.intersects(e,i,n,r))return t.NO_INTERSECTION;var o=at.orientationIndex(e,i,n),s=at.orientationIndex(e,i,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(n,r,e),h=at.orientationIndex(n,r,i);return a>0&&h>0||a<0&&h<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===h?this.computeCollinearIntersection(e,i,n,r):(0===o||0===s||0===a||0===h?(this._isProper=!1,e.equals2D(n)||e.equals2D(r)?this._intPt[0]=e:i.equals2D(n)||i.equals2D(r)?this._intPt[0]=i:0===o?this._intPt[0]=new E(n):0===s?this._intPt[0]=new E(r):0===a?this._intPt[0]=new E(e):0===h&&(this._intPt[0]=new E(i))):(this._isProper=!0,this._intPt[0]=this.intersection(e,i,n,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,i,n){var r=t,o=at.distancePointLine(t,i,n),s=at.distancePointLine(e,i,n);return s<o&&(o=s,r=e),(s=at.distancePointLine(i,t,e))<o&&(o=s,r=i),(s=at.distancePointLine(n,t,e))<o&&(o=s,r=n),r},e}(it),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=i.x-e.x,s=i.y-e.y;return ot.signOfDet2x2(n,r,o,s)},ot.signOfDet2x2=function(t,e,i,n){var r=null,o=null,s=null;if(r=1,0===t||0===n)return 0===e||0===i?0:e>0?i>0?-r:r:i>0?r:-r;if(0===e||0===i)return n>0?t>0?r:-r:t>0?-r:r;if(e>0?n>0?e<=n||(r=-r,o=t,t=i,i=o,o=e,e=n,n=o):e<=-n?(r=-r,i=-i,n=-n):(o=t,t=-i,i=o,o=e,e=-n,n=o):n>0?-e<=n?(r=-r,t=-t,e=-e):(o=-t,t=i,i=o,o=-e,e=n,n=o):e>=n?(t=-t,e=-e,i=-i,n=-n):(r=-r,o=-t,t=-i,i=o,o=-e,e=-n,n=o),t>0){if(!(i>0))return r;if(!(t<=i))return r}else{if(i>0)return-r;if(!(t>=i))return-r;r=-r,t=-t,i=-i}for(;;){if(s=Math.floor(i/t),i-=s*t,(n-=s*e)<0)return-r;if(n>e)return r;if(t>i+i){if(e<n+n)return r}else{if(e>n+n)return-r;i=t-i,n=e-n,r=-r}if(0===n)return 0===i?0:-r;if(0===i)return r;if(s=Math.floor(t/i),t-=s*i,(e-=s*n)<0)return r;if(e>n)return-r;if(i>t+t){if(n<e+e)return-r}else{if(n>e+e)return r;t=i-t,e=n-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var i=t.x,n=e.x;return i>n&&(i=e.x,n=t.x),this._p.x>=i&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,h=ot.signOfDet2x2(r,o,s,a);if(0===h)return this._isPointOnSegment=!0,null;a<o&&(h=-h),h>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==P.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?P.BOUNDARY:this._crossingCount%2==1?P.INTERIOR:P.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof E&&O(arguments[1],j)){for(var t=arguments[0],e=arguments[1],i=new st(t),n=new E,r=new E,o=1;o<e.size();o++)if(e.getCoordinate(o,n),e.getCoordinate(o-1,r),i.countSegment(n,r),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof E&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],h=new st(s),l=1;l<a.length;l++){var u=a[l],c=a[l-1];if(h.countSegment(u,c),h.isOnSegment())return h.getLocation()}return h.getLocation()}};var at=function(){},ht={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,i){return B.orientationIndex(t,e,i)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,i=t[0].x,n=1;n<t.length-1;n++){var r=t[n].x-i,o=t[n+1].y;e+=r*(t[n-1].y-o)}return e/2}if(O(arguments[0],j)){var s=arguments[0],a=s.size();if(a<3)return 0;var h=new E,l=new E,u=new E;s.getCoordinate(0,l),s.getCoordinate(1,u);var c=l.x;u.x-=c;for(var p=0,f=1;f<a-1;f++)h.y=l.y,l.x=u.x,l.y=u.y,s.getCoordinate(f+1,u),u.x-=c,p+=l.x*(h.y-u.y);return p/2}},at.distanceLineLine=function(t,e,i,n){if(t.equals(e))return at.distancePointLine(t,i,n);if(i.equals(n))return at.distancePointLine(n,t,e);var r=!1;if(Y.intersects(t,e,i,n)){var o=(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x);if(0===o)r=!0;else{var s=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),a=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/o,h=s/o;(h<0||h>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?N.min(at.distancePointLine(t,i,n),at.distancePointLine(e,i,n),at.distancePointLine(i,t,e),at.distancePointLine(n,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==P.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var i=0,n=new E;t.getCoordinate(0,n);for(var r=n.x,o=n.y,s=1;s<e;s++){t.getCoordinate(s,n);var a=n.x,h=n.y,l=a-r,u=h-o;i+=Math.sqrt(l*l+u*u),r=a,o=h}return i},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new _("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],n=0,r=1;r<=e;r++){var o=t[r];o.y>i.y&&(i=o,n=r)}var s=n;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(i)&&s!==n);var a=n;do{a=(a+1)%e}while(t[a].equals2D(i)&&a!==n);var h=t[s],l=t[a];if(h.equals2D(i)||l.equals2D(i)||h.equals2D(l))return!1;var u=at.computeOrientation(h,i,l),c=!1;return c=0===u?h.x>l.x:u>0,c},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,i){var n=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y),r=((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/n;return Math.abs(r)*Math.sqrt(n)},at.computeOrientation=function(t,e,i){return at.orientationIndex(t,e,i)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new _("Line array must contain at least one vertex");for(var i=t.distance(e[0]),n=0;n<e.length-1;n++){var r=at.distancePointLine(t,e[n],e[n+1]);r<i&&(i=r)}return i}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var h=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/h;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var u=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/h;return Math.abs(u)*Math.sqrt(h)}},at.isOnLine=function(t,e){for(var i=new rt,n=1;n<e.length;n++){var r=e[n-1],o=e[n];if(i.computeIntersection(t,r,o),i.hasIntersection())return!0}return!1},ht.CLOCKWISE.get=function(){return-1},ht.RIGHT.get=function(){return at.CLOCKWISE},ht.COUNTERCLOCKWISE.get=function(){return 1},ht.LEFT.get=function(){return at.COUNTERCLOCKWISE},ht.COLLINEAR.get=function(){return 0},ht.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ht);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ut=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ct={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ut.prototype.isGeometryCollection=function(){return this.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION},ut.prototype.getFactory=function(){return this._factory},ut.prototype.getGeometryN=function(t){return this},ut.prototype.getArea=function(){return 0},ut.prototype.isRectangle=function(){return!1},ut.prototype.equals=function(){if(arguments[0]instanceof ut){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ut))return!1;var i=e;return this.equalsExact(i)}},ut.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ut.prototype.geometryChanged=function(){this.apply(ut.geometryChangedFilter)},ut.prototype.geometryChangedAction=function(){this._envelope=null},ut.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ut.prototype.getLength=function(){return 0},ut.prototype.getNumGeometries=function(){return 1},ut.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var i=arguments[0],n=arguments[1];return this.getSortIndex()!==i.getSortIndex()?this.getSortIndex()-i.getSortIndex():this.isEmpty()&&i.isEmpty()?0:this.isEmpty()?-1:i.isEmpty()?1:this.compareToSameClass(i,n)}},ut.prototype.getUserData=function(){return this._userData},ut.prototype.getSRID=function(){return this._SRID},ut.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ut.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION)throw new _("This method does not support GeometryCollection arguments")},ut.prototype.equal=function(t,e,i){return 0===i?t.equals(e):t.distance(e)<=i},ut.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ut.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ut.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Y(this._envelope)},ut.prototype.setSRID=function(t){this._SRID=t},ut.prototype.setUserData=function(t){this._userData=t},ut.prototype.compare=function(t,e){for(var i=t.iterator(),n=e.iterator();i.hasNext()&&n.hasNext();){var r=i.next(),o=n.next(),s=r.compareTo(o);if(0!==s)return s}return i.hasNext()?1:n.hasNext()?-1:0},ut.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ut.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ut.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ut.SORTINDEX_MULTIPOINT||this.getSortIndex()===ut.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ut.SORTINDEX_MULTIPOLYGON},ut.prototype.interfaces_=function(){return[w,b,e]},ut.prototype.getClass=function(){return ut},ut.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ut.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ct.serialVersionUID.get=function(){return 0x799ea46522854c00},ct.SORTINDEX_POINT.get=function(){return 0},ct.SORTINDEX_MULTIPOINT.get=function(){return 1},ct.SORTINDEX_LINESTRING.get=function(){return 2},ct.SORTINDEX_LINEARRING.get=function(){return 3},ct.SORTINDEX_MULTILINESTRING.get=function(){return 4},ct.SORTINDEX_POLYGON.get=function(){return 5},ct.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ct.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ct.geometryChangedFilter.get=function(){return pt},Object.defineProperties(ut,ct);var pt=function(){};pt.interfaces_=function(){return[lt]},pt.filter=function(t){t.geometryChangedAction()};var ft=function(){};ft.prototype.filter=function(t){},ft.prototype.interfaces_=function(){return[]},ft.prototype.getClass=function(){return ft};var dt=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dt.prototype.isInBoundary=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},gt.Mod2BoundaryNodeRule.get=function(){return yt},gt.EndPointBoundaryNodeRule.get=function(){return mt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return _t},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return vt},gt.MOD2_BOUNDARY_RULE.get=function(){return new yt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return dt.MOD2_BOUNDARY_RULE},Object.defineProperties(dt,gt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[dt]},yt.prototype.getClass=function(){return yt};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>0},mt.prototype.interfaces_=function(){return[dt]},mt.prototype.getClass=function(){return mt};var _t=function(){};_t.prototype.isInBoundary=function(t){return t>1},_t.prototype.interfaces_=function(){return[dt]},_t.prototype.getClass=function(){return _t};var vt=function(){};vt.prototype.isInBoundary=function(t){return 1===t},vt.prototype.interfaces_=function(){return[dt]},vt.prototype.getClass=function(){return vt};var xt=function(){};xt.prototype.add=function(){},xt.prototype.addAll=function(){},xt.prototype.isEmpty=function(){},xt.prototype.iterator=function(){},xt.prototype.size=function(){},xt.prototype.toArray=function(){},xt.prototype.remove=function(){},(i.prototype=new Error).name="IndexOutOfBoundsException";var bt=function(){};bt.prototype.hasNext=function(){},bt.prototype.next=function(){},bt.prototype.remove=function(){};var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(xt);(n.prototype=new Error).name="NoSuchElementException";var Mt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof xt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,xt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var i=this.array_[t];return this.array_[t]=e,i},e.prototype.iterator=function(){return new Et(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new i;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,i=0,n=this.array_.length;i<n;i++)if(this.array_[i]===t){this.array_.splice(i,1),e=!0;break}return e},e}(wt),Et=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new n;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(bt),St=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.ensureCapacity(i.length),this.add(i,n)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={coordArrayType:{configurable:!0}};return i.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],i=arguments[1],n=!1,r=e.iterator();r.hasNext();)this.add(r.next(),i),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),i=0;i<this.size();i++)e.add(i,this.get(i).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var i=arguments[0],n=arguments[1];return this.add(i,n,!0),!0}if(arguments[0]instanceof E&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],h=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],h);else for(var u=a.length-1;u>=0;u--)this.add(a[u],h);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof E){var c=arguments[0],p=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(c>0&&this.get(c-1).equals2D(p))return null;if(c<f&&this.get(c).equals2D(p))return null}}t.prototype.add.call(this,c,p)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],m=arguments[3],_=1;y>m&&(_=-1);for(var v=y;v!==m;v+=_)this.add(d[v],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new E(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,i),e}(Mt),Ct=function(){},It={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};It.ForwardComparator.get=function(){return Pt},It.BidirectionalComparator.get=function(){return Lt},It.coordArrayType.get=function(){return new Array(0).fill(null)},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Ct.ptNotInList=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(Ct.indexOf(n,e)<0)return n}return null},Ct.scroll=function(t,e){var i=Ct.indexOf(e,t);if(i<0)return null;var n=new Array(t.length).fill(null);q.arraycopy(t,i,n,0,t.length-i),q.arraycopy(t,0,n,t.length-i,i),q.arraycopy(n,0,t,0,t.length)},Ct.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].equals(e[i]))return!1;return!0}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(n===r)return!0;if(null===n||null===r)return!1;if(n.length!==r.length)return!1;for(var s=0;s<n.length;s++)if(0!==o.compare(n[s],r[s]))return!1;return!0}},Ct.intersection=function(t,e){for(var i=new St,n=0;n<t.length;n++)e.intersects(t[n])&&i.add(t[n],!0);return i.toCoordinateArray()},Ct.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ct.removeRepeatedPoints=function(t){return Ct.hasRepeatedPoints(t)?new St(t,!1).toCoordinateArray():t},Ct.reverse=function(t){for(var e=t.length-1,i=Math.trunc(e/2),n=0;n<=i;n++){var r=t[n];t[n]=t[e-n],t[e-n]=r}},Ct.removeNull=function(t){for(var e=0,i=0;i<t.length;i++)null!==t[i]&&e++;var n=new Array(e).fill(null);if(0===e)return n;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(n[r++]=t[o]);return n},Ct.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),i=0;i<t.length;i++)e[i]=new E(t[i]);return e}if(5===arguments.length)for(var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],h=0;h<a;h++)o[s+h]=new E(n[r+h])},Ct.isEqualReversed=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=e[t.length-i-1];if(0!==n.compareTo(r))return!1}return!0},Ct.envelope=function(t){for(var e=new Y,i=0;i<t.length;i++)e.expandToInclude(t[i]);return e},Ct.toCoordinateArray=function(t){return t.toArray(Ct.coordArrayType)},Ct.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ct.indexOf=function(t,e){for(var i=0;i<e.length;i++)if(t.equals(e[i]))return i;return-1},Ct.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var i=t.length-1-e,n=t[e].compareTo(t[i]);if(0!==n)return n}return 1},Ct.compare=function(t,e){for(var i=0;i<t.length&&i<e.length;){var n=t[i].compareTo(e[i]);if(0!==n)return n;i++}return i<e.length?-1:i<t.length?1:0},Ct.minCoordinate=function(t){for(var e=null,i=0;i<t.length;i++)(null===e||e.compareTo(t[i])>0)&&(e=t[i]);return e},Ct.extract=function(t,e,i){e=N.clamp(e,0,t.length);var n=(i=N.clamp(i,-1,t.length))-e+1;i<0&&(n=0),e>=t.length&&(n=0),i<e&&(n=0);var r=new Array(n).fill(null);if(0===n)return r;for(var o=0,s=e;s<=i;s++)r[o++]=t[s];return r},Object.defineProperties(Ct,It);var Pt=function(){};Pt.prototype.compare=function(t,e){return Ct.compare(t,e)},Pt.prototype.interfaces_=function(){return[M]},Pt.prototype.getClass=function(){return Pt};var Lt=function(){};Lt.prototype.compare=function(t,e){var i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;var r=Ct.compare(i,n);return Ct.isEqualReversed(i,n)?0:r},Lt.prototype.OLDcompare=function(t,e){var i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;for(var r=Ct.increasingDirection(i),o=Ct.increasingDirection(n),s=r>0?0:i.length-1,a=o>0?0:i.length-1,h=0;h<i.length;h++){var l=i[s].compareTo(n[a]);if(0!==l)return l;s+=r,a+=o}return 0},Lt.prototype.interfaces_=function(){return[M]},Lt.prototype.getClass=function(){return Lt};var Ot=function(){};Ot.prototype.get=function(){},Ot.prototype.put=function(){},Ot.prototype.size=function(){},Ot.prototype.values=function(){},Ot.prototype.entrySet=function(){};var Nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot);(r.prototype=new Error).name="OperationNotSupported",(o.prototype=new xt).contains=function(){};var Tt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof xt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,i=this.array_.length;e<i;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new At(this)},e}(o),At=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new n;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new r},e}(bt),Rt=0;(c.prototype=new Nt).get=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(i<0)e=e.left;else{if(!(i>0))return e.value;e=e.right}}return null},c.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i,n,r=this.root_;do{if(i=r,(n=t.compareTo(r.key))<0)r=r.left;else{if(!(n>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:i,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?i.left=s:i.right=s,this.fixAfterInsertion(s),this.size_++,null},c.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===l(a(a(t)))){var e=u(a(a(t)));1===s(e)?(h(a(t),Rt),h(e,Rt),h(a(a(t)),1),t=a(a(t))):(t===u(a(t))&&(t=a(t),this.rotateLeft(t)),h(a(t),Rt),h(a(a(t)),1),this.rotateRight(a(a(t))))}else{var i=l(a(a(t)));1===s(i)?(h(a(t),Rt),h(i,Rt),h(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateRight(t)),h(a(t),Rt),h(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Rt},c.prototype.values=function(){var t=new Mt,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=c.successor(e));)t.add(e.value);return t},c.prototype.entrySet=function(){var t=new Tt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=c.successor(e));)t.add(e);return t},c.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},c.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},c.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},c.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var i=t.parent,n=t;null!==i&&n===i.right;)n=i,i=i.parent;return i},c.prototype.size=function(){return this.size_};var Dt=function(){};Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},p.prototype=new o,(f.prototype=new p).contains=function(t){for(var e=0,i=this.array_.length;e<i;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},f.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,i=this.array_.length;e<i;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},f.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},f.prototype.remove=function(t){throw new r},f.prototype.size=function(){return this.array_.length},f.prototype.isEmpty=function(){return 0===this.array_.length},f.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},f.prototype.iterator=function(){return new kt(this)};var kt=function(t){this.treeSet_=t,this.position_=0};kt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new n;return this.treeSet_.array_[this.position_++]},kt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},kt.prototype.remove=function(){throw new r};var Ft=function(){};Ft.sort=function(){var t,e,i,n,r=arguments[0];if(1===arguments.length)n=function(t,e){return t.compareTo(e)},r.sort(n);else if(2===arguments.length)i=arguments[1],n=function(t,e){return i.compare(t,e)},r.sort(n);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),i=arguments[3],n=function(t,e){return i.compare(t,e)},e.sort(n),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},Ft.asList=function(t){for(var e=new Mt,i=0,n=t.length;i<n;i++)e.add(t[i]);return e};var Bt=function(){},zt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};zt.P.get=function(){return 0},zt.L.get=function(){return 1},zt.A.get=function(){return 2},zt.FALSE.get=function(){return-1},zt.TRUE.get=function(){return-2},zt.DONTCARE.get=function(){return-3},zt.SYM_FALSE.get=function(){return"F"},zt.SYM_TRUE.get=function(){return"T"},zt.SYM_DONTCARE.get=function(){return"*"},zt.SYM_P.get=function(){return"0"},zt.SYM_L.get=function(){return"1"},zt.SYM_A.get=function(){return"2"},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},Bt.toDimensionSymbol=function(t){switch(t){case Bt.FALSE:return Bt.SYM_FALSE;case Bt.TRUE:return Bt.SYM_TRUE;case Bt.DONTCARE:return Bt.SYM_DONTCARE;case Bt.P:return Bt.SYM_P;case Bt.L:return Bt.SYM_L;case Bt.A:return Bt.SYM_A}throw new _("Unknown dimension value: "+t)},Bt.toDimensionValue=function(t){switch(D.toUpperCase(t)){case Bt.SYM_FALSE:return Bt.FALSE;case Bt.SYM_TRUE:return Bt.TRUE;case Bt.SYM_DONTCARE:return Bt.DONTCARE;case Bt.SYM_P:return Bt.P;case Bt.SYM_L:return Bt.L;case Bt.SYM_A:return Bt.A}throw new _("Unknown dimension symbol: "+t)},Object.defineProperties(Bt,zt);var jt=function(){};jt.prototype.filter=function(t){},jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt};var Ut=function(){};Ut.prototype.filter=function(t,e){},Ut.prototype.isDone=function(){},Ut.prototype.isGeometryChanged=function(){},Ut.prototype.interfaces_=function(){return[]},Ut.prototype.getClass=function(){return Ut};var Gt=function(t){function e(e,i){if(t.call(this,i),this._geometries=e||[],t.hasNullElements(this._geometries))throw new _("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Y,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=0;i<this._geometries.length;i++)for(var n=this._geometries[i].getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Ft.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Bt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Bt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[i]=this._geometries[i].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new f(Ft.asList(this._geometries)),i=new f(Ft.asList(t._geometries));return this.compare(e,i)}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],o=n,s=this.getNumGeometries(),a=o.getNumGeometries(),h=0;h<s&&h<a;){var l=this.getGeometryN(h),u=o.getGeometryN(h),c=l.compareToSameClass(u,r);if(0!==c)return c;h++}return h<s?1:h<a?-1:0}},e.prototype.apply=function(){if(O(arguments[0],ft))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(O(arguments[0],Ut)){var i=arguments[0];if(0===this._geometries.length)return null;for(var n=0;n<this._geometries.length&&(this._geometries[n].apply(i),!i.isDone());n++);i.isGeometryChanged()&&this.geometryChanged()}else if(O(arguments[0],jt)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(O(arguments[0],lt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var i=0;i<this._geometries.length;i++)e._geometries[i]=this._geometries[i].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),i=0;i<t.length;i++)t[i]=this._geometries[i].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,i),e}(ut),Vt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,i)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Bt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[t-1-i]=this._geometries[i].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new qt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),i=0;i<t.length;i++)t[i]=this._geometries[i].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,i),e}(Gt),qt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this._geom=i,this._geomFact=i.getFactory(),this._bnRule=n}};qt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},qt.prototype.getBoundary=function(){return this._geom instanceof Zt?this.boundaryLineString(this._geom):this._geom instanceof Vt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},qt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},qt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},qt.prototype.computeBoundaryCoordinates=function(t){var e=new Mt;this._endpointMap=new c;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);0!==n.getNumPoints()&&(this.addEndpoint(n.getCoordinateN(0)),this.addEndpoint(n.getCoordinateN(n.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Ct.toCoordinateArray(e)},qt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Wt,this._endpointMap.put(t,e)),e.count++},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt},qt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new qt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],i=arguments[1];return new qt(e,i).getBoundary()}};var Wt=function(){this.count=null};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt};var Yt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.chars=function(t,e){for(var i=new Array(e).fill(null),n=0;n<e;n++)i[n]=t;return String(i)},Yt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},i=new function(){}(e);return t.printStackTrace(i),e.toString()}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(Yt.getStackTrace(n))),a=0;a<r;a++)try{o+=s.readLine()+Yt.NEWLINE}catch(t){if(!(t instanceof d))throw t;et.shouldNeverReachHere()}return o}},Yt.split=function(t,e){for(var i=e.length,n=new Mt,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);n.add(s),o=(r=r.substring(o+i)).indexOf(e)}r.length>0&&n.add(r);for(var a=new Array(n.size()).fill(null),h=0;h<a.length;h++)a[h]=n.get(h);return a},Yt.toString=function(){if(1===arguments.length){var t=arguments[0];return Yt.SIMPLE_ORDINATE_FORMAT.format(t)}},Yt.spaces=function(t){return Yt.chars(" ",t)},Ht.NEWLINE.get=function(){return q.getProperty("line.separator")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Yt,Ht);var Xt=function(){};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.copyCoord=function(t,e,i,n){for(var r=Math.min(t.getDimension(),i.getDimension()),o=0;o<r;o++)i.setOrdinate(n,o,t.getOrdinate(e,o))},Xt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,j.X)===t.getOrdinate(e-1,j.X)&&t.getOrdinate(0,j.Y)===t.getOrdinate(e-1,j.Y)},Xt.isEqual=function(t,e){var i=t.size();if(i!==e.size())return!1;for(var n=Math.min(t.getDimension(),e.getDimension()),r=0;r<i;r++)for(var o=0;o<n;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(t.getOrdinate(r,o)!==e.getOrdinate(r,o)&&(!v.isNaN(s)||!v.isNaN(a)))return!1}return!0},Xt.extend=function(t,e,i){var n=t.create(i,e.getDimension()),r=e.size();if(Xt.copy(e,0,n,0,r),r>0)for(var o=r;o<i;o++)Xt.copy(e,r-1,n,o,1);return n},Xt.reverse=function(t){for(var e=t.size()-1,i=Math.trunc(e/2),n=0;n<=i;n++)Xt.swap(t,n,e-n)},Xt.swap=function(t,e,i){if(e===i)return null;for(var n=0;n<t.getDimension();n++){var r=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(i,n)),t.setOrdinate(i,n,r)}},Xt.copy=function(t,e,i,n,r){for(var o=0;o<r;o++)Xt.copyCoord(t,e+o,i,n+o)},Xt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var i=t.getDimension(),n=new A;n.append("(");for(var r=0;r<e;r++){r>0&&n.append(" ");for(var o=0;o<i;o++)o>0&&n.append(","),n.append(Yt.toString(t.getOrdinate(r,o)))}return n.append(")"),n.toString()}},Xt.ensureValidRing=function(t,e){var i=e.size();return 0===i?e:i<=3?Xt.createClosedRing(t,e,4):e.getOrdinate(0,j.X)===e.getOrdinate(i-1,j.X)&&e.getOrdinate(0,j.Y)===e.getOrdinate(i-1,j.Y)?e:Xt.createClosedRing(t,e,i+1)},Xt.createClosedRing=function(t,e,i){var n=t.create(i,e.getDimension()),r=e.size();Xt.copy(e,0,n,0,r);for(var o=r;o<i;o++)Xt.copy(e,0,n,o,1);return n};var Zt=function(t){function e(e,i){t.call(this,i),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Y:this._points.expandEnvelope(new Y)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Xt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Bt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,i=0;e<this._points.size()&&i<t._points.size();){var n=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(i));if(0!==n)return n;e++,i++}return e<this._points.size()?1:i<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(O(arguments[0],ft))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(O(arguments[0],Ut)){var i=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(i.filter(this._points,n),!i.isDone());n++);i.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],jt)||O(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new qt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new _("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,i),e}(ut),$t=function(){};$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Jt=function(t){function e(e,i){t.call(this,i),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Y;var t=new Y;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),i))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(O(arguments[0],ft)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(O(arguments[0],Ut)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(O(arguments[0],jt)||O(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,i),e}(ut),Kt=function(){};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Qt=function(t){function e(e,i,n){if(t.call(this,n),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===i&&(i=[]),t.hasNullElements(i))throw new _("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(i))throw new _("shell is empty but holes are not");this._shell=e,this._holes=i}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=this._shell.getCoordinates(),n=0;n<i.length;n++)t[++e]=i[n];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),i=0;i<5;i++){var n=t.getX(i);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;var r=t.getY(i);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var h=t.getX(a),l=t.getY(a);if(h!==o===(l!==s))return!1;o=h,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,r=this._shell,o=n._shell;if(!r.equalsExact(o,i))return!1;if(this._holes.length!==n._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(n._holes[s],i))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Ft.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(e.isEmpty())return null;var n=new Array(e.getCoordinates().length-1).fill(null);q.arraycopy(e.getCoordinates(),0,n,0,n.length);var r=Ct.minCoordinate(e.getCoordinates());Ct.scroll(n,r),q.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],at.isCCW(e.getCoordinates())===i&&Ct.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,i=t._shell;return e.compareToSameClass(i)}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=n,s=this._shell,a=o._shell,h=s.compareToSameClass(a,r);if(0!==h)return h;for(var l=this.getNumInteriorRing(),u=o.getNumInteriorRing(),c=0;c<l&&c<u;){var p=this.getInteriorRingN(c),f=o.getInteriorRingN(c),d=p.compareToSameClass(f,r);if(0!==d)return d;c++}return c<l?1:c<u?-1:0}},e.prototype.apply=function(t){if(O(t,ft)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(O(t,Ut)){if(this._shell.apply(t),!t.isDone())for(var i=0;i<this._holes.length&&(this._holes[i].apply(t),!t.isDone());i++);t.isGeometryChanged()&&this.geometryChanged()}else if(O(t,jt))t.filter(this);else if(O(t,lt)){t.filter(this),this._shell.apply(t);for(var n=0;n<this._holes.length;n++)this._holes[n].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var i=0;i<this._holes.length;i++)e._holes[i]=this._holes[i].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),i=new Array(this._holes.length).fill(null),n=0;n<i.length;n++)i[n]=this._holes[n].copy();return new e(t,i,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,i),e}(ut),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,i)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),i=0;i<t.length;i++)t[i]=this._geometries[i].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[$t]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,i),e}(Gt),ee=function(t){function e(e,i){e instanceof E&&i instanceof me&&(e=i.getCoordinateSequenceFactory().create(e)),t.call(this,e,i),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new _("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new _("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.MINIMUM_VALID_SIZE.get=function(){return 4},i.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,i),e}(Zt),ie=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ut.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,i)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[i]=this._geometries[i].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Mt,e=0;e<this._geometries.length;e++)for(var i=this._geometries[e].getBoundary(),n=0;n<i.getNumGeometries();n++)t.add(i.getGeometryN(n));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),i=0;i<t.length;i++)t[i]=this._geometries[i].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},i.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,i),e}(Gt),ne=function(t){this._factory=t||null,this._isUserDataCopied=!1},re={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ne.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},ne.prototype.edit=function(t,e){if(null===t)return null;var i=this.editInternal(t,e);return this._isUserDataCopied&&i.setUserData(t.getUserData()),i},ne.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Gt?this.editGeometryCollection(t,e):t instanceof Qt?this.editPolygon(t,e):t instanceof Jt||t instanceof Zt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},ne.prototype.editGeometryCollection=function(t,e){for(var i=e.edit(t,this._factory),n=new Mt,r=0;r<i.getNumGeometries();r++){var o=this.edit(i.getGeometryN(r),e);null===o||o.isEmpty()||n.add(o)}return i.getClass()===te?this._factory.createMultiPoint(n.toArray([])):i.getClass()===Vt?this._factory.createMultiLineString(n.toArray([])):i.getClass()===ie?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))},ne.prototype.editPolygon=function(t,e){var i=e.edit(t,this._factory);if(null===i&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var n=this.edit(i.getExteriorRing(),e);if(null===n||n.isEmpty())return this._factory.createPolygon();for(var r=new Mt,o=0;o<i.getNumInteriorRing();o++){var s=this.edit(i.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(n,r.toArray([]))},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.GeometryEditorOperation=function(){},re.NoOpGeometryOperation.get=function(){return oe},re.CoordinateOperation.get=function(){return se},re.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(ne,re);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var i=this.editCoordinates(t.getCoordinates(),t);return null===i?t:t instanceof ee?e.createLinearRing(i):t instanceof Zt?e.createLineString(i):t instanceof Jt?i.length>0?e.createPoint(i[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Zt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[ne.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var he=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new E}else if(O(arguments[0],j)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null);for(var n=0;n<this._coordinates.length;n++)this._coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var h=0;h<s;h++)this._coordinates[h]=new E}},le={serialVersionUID:{configurable:!0}};he.prototype.setOrdinate=function(t,e,i){switch(e){case j.X:this._coordinates[t].x=i;break;case j.Y:this._coordinates[t].y=i;break;case j.Z:this._coordinates[t].z=i;break;default:throw new _("invalid ordinateIndex")}},he.prototype.size=function(){return this._coordinates.length},he.prototype.getOrdinate=function(t,e){switch(e){case j.X:return this._coordinates[t].x;case j.Y:return this._coordinates[t].y;case j.Z:return this._coordinates[t].z}return v.NaN},he.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],i=arguments[1];i.x=this._coordinates[e].x,i.y=this._coordinates[e].y,i.z=this._coordinates[e].z}},he.prototype.getCoordinateCopy=function(t){return new E(this._coordinates[t])},he.prototype.getDimension=function(){return this._dimension},he.prototype.getX=function(t){return this._coordinates[t].x},he.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new he(t,this._dimension)},he.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},he.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new he(t,this._dimension)},he.prototype.toString=function(){if(this._coordinates.length>0){var t=new A(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},he.prototype.getY=function(t){return this._coordinates[t].y},he.prototype.toCoordinateArray=function(){return this._coordinates},he.prototype.interfaces_=function(){return[j,e]},he.prototype.getClass=function(){return he},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(he,le);var ue=function(){},ce={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ue.prototype.readResolve=function(){return ue.instance()},ue.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new he(t)}if(O(arguments[0],j)){var e=arguments[0];return new he(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return n>3&&(n=3),n<2?new he(i):new he(i,n)}},ue.prototype.interfaces_=function(){return[I,e]},ue.prototype.getClass=function(){return ue},ue.instance=function(){return ue.instanceObject},ce.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ce.instanceObject.get=function(){return new ue},Object.defineProperties(ue,ce);var pe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Mt,e=this.map_.values(),i=e.next();!i.done;)t.add(i.value),i=e.next();return t},e.prototype.entrySet=function(){var t=new Tt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Ot),fe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var i=arguments[0];this._modelType=t.FIXED,this.setScale(i)}else if(arguments[0]instanceof t){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}},de={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fe.prototype.equals=function(t){if(!(t instanceof fe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fe.prototype.compareTo=function(t){var e=t,i=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new R(i).compareTo(new R(n))},fe.prototype.getScale=function(){return this._scale},fe.prototype.isFloating=function(){return this._modelType===fe.FLOATING||this._modelType===fe.FLOATING_SINGLE},fe.prototype.getType=function(){return this._modelType},fe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===fe.FLOATING?t="Floating":this._modelType===fe.FLOATING_SINGLE?t="Floating-Single":this._modelType===fe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},fe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return v.isNaN(t)||this._modelType===fe.FLOATING_SINGLE?t:this._modelType===fe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof E){var e=arguments[0];if(this._modelType===fe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fe.FLOATING?t=16:this._modelType===fe.FLOATING_SINGLE?t=6:this._modelType===fe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fe.prototype.setScale=function(t){this._scale=Math.abs(t)},fe.prototype.interfaces_=function(){return[e,b]},fe.prototype.getClass=function(){return fe},fe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},de.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},de.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fe,de);var ge=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[e]},ge.prototype.getClass=function(){return ge},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new pe},Object.defineProperties(ge,ye),fe.Type=ge,fe.FIXED=new ge("FIXED"),fe.FLOATING=new ge("FLOATING"),fe.FLOATING_SINGLE=new ge("FLOATING SINGLE");var me=function t(){this._precisionModel=new fe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?O(arguments[0],I)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},_e={serialVersionUID:{configurable:!0}};me.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new E(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new E(t.getMinX(),t.getMinY()),new E(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new E(t.getMinX(),t.getMinY()),new E(t.getMinX(),t.getMaxY()),new E(t.getMaxX(),t.getMaxY()),new E(t.getMaxX(),t.getMinY()),new E(t.getMinX(),t.getMinY())]),null)},me.prototype.createLineString=function(t){return t?t instanceof Array?new Zt(this.getCoordinateSequenceFactory().create(t),this):O(t,j)?new Zt(t,this):void 0:new Zt(this.getCoordinateSequenceFactory().create([]),this)},me.prototype.createMultiLineString=function(){if(0===arguments.length)return new Vt(null,this);if(1===arguments.length){var t=arguments[0];return new Vt(t,this)}},me.prototype.buildGeometry=function(t){for(var e=null,i=!1,n=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(i=!0),o.isGeometryCollectionOrDerived()&&(n=!0)}if(null===e)return this.createGeometryCollection();if(i||n)return this.createGeometryCollection(me.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Qt)return this.createMultiPolygon(me.toPolygonArray(t));if(a instanceof Zt)return this.createMultiLineString(me.toLineStringArray(t));if(a instanceof Jt)return this.createMultiPoint(me.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},me.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},me.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(O(arguments[0],j)){var e=arguments[0];return new Jt(e,this)}}},me.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},me.prototype.createPolygon=function(){if(0===arguments.length)return new Qt(null,null,this);if(1===arguments.length){if(O(arguments[0],j)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var i=arguments[0];return this.createPolygon(i,null)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return new Qt(n,r,this)}},me.prototype.getSRID=function(){return this._SRID},me.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Gt(null,this);if(1===arguments.length){var t=arguments[0];return new Gt(t,this)}},me.prototype.createGeometry=function(t){return new ne(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},me.prototype.getPrecisionModel=function(){return this._precisionModel},me.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(O(arguments[0],j)){var e=arguments[0];return new ee(e,this)}}},me.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ie(null,this);if(1===arguments.length){var t=arguments[0];return new ie(t,this)}},me.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new te(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(O(arguments[0],j)){var i=arguments[0];if(null===i)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(i.size()).fill(null),r=0;r<i.size();r++){var o=this.getCoordinateSequenceFactory().create(1,i.getDimension());Xt.copy(i,r,o,0,1),n[r]=this.createPoint(o)}return this.createMultiPoint(n)}}},me.prototype.interfaces_=function(){return[e]},me.prototype.getClass=function(){return me},me.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},me.getDefaultCoordinateSequenceFactory=function(){return ue.instance()},me.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},_e.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(me,_e);var ve=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],xe=function(t){this.geometryFactory=t||new me};xe.prototype.read=function(t){var e,i=(e="string"==typeof t?JSON.parse(t):t).type;if(!be[i])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ve.indexOf(i)?be[i].apply(this,[e.coordinates]):"GeometryCollection"===i?be[i].apply(this,[e.geometries]):be[i].apply(this,[e])},xe.prototype.write=function(t){var e=t.getGeometryType();if(!we[e])throw new Error("Geometry is not supported");return we[e].apply(this,[t])};var be={Feature:function(t){var e={};for(var i in t)e[i]=t[i];if(t.geometry){var n=t.geometry.type;if(!be[n])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=be.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var i=0;i<t.features.length;++i)e.features.push(this.read(t.features[i]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(new E(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new E(t[0],t[1]),new E(t[2],t[1]),new E(t[2],t[3]),new E(t[0],t[3]),new E(t[0],t[1])])},Point:function(t){var e=new E(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],i=0;i<t.length;++i)e.push(be.Point.apply(this,[t[i]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=be.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],i=0;i<t.length;++i)e.push(be.LineString.apply(this,[t[i]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=be.coordinates.apply(this,[t[0]]),i=this.geometryFactory.createLinearRing(e),n=[],r=1;r<t.length;++r){var o=t[r],s=be.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);n.push(a)}return this.geometryFactory.createPolygon(i,n)},MultiPolygon:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(be.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},we={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:we.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=we.Point.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],i=t.getCoordinates(),n=0;n<i.length;++n){var r=i[n];e.push(we.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=we.LineString.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],i=we.LineString.apply(this,[t._shell]);e.push(i.coordinates);for(var n=0;n<t._holes.length;++n){var r=t._holes[n],o=we.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=we.Polygon.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=n.getGeometryType();e.push(we[r].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}},Me=function(t){this.geometryFactory=t||new me,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new xe(this.geometryFactory)};Me.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fe.FIXED&&this.reducePrecision(e),e},Me.prototype.reducePrecision=function(t){var e,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,i=t.points.length;e<i;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,i=t.geometries.length;e<i;e++)this.reducePrecision(t.geometries[e])};var Ee=function(){this.parser=new xe(this.geometryFactory)};Ee.prototype.write=function(t){return this.parser.write(t)};var Se=function(){},Ce={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.opposite=function(t){return t===Se.LEFT?Se.RIGHT:t===Se.RIGHT?Se.LEFT:t},Ce.ON.get=function(){return 0},Ce.LEFT.get=function(){return 1},Ce.RIGHT.get=function(){return 2},Object.defineProperties(Se,Ce),(g.prototype=new Error).name="EmptyStackException",(y.prototype=new wt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new g;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t};var Ie=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ie.prototype.getCoordinate=function(){return this._minCoord},Ie.prototype.getRightmostSide=function(t,e){var i=this.getRightmostSideOfSegment(t,e);return i<0&&(i=this.getRightmostSideOfSegment(t,e-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),i},Ie.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],i=t[this._minIndex+1],n=at.computeOrientation(this._minCoord,i,e),r=!1;(e.y<this._minCoord.y&&i.y<this._minCoord.y&&n===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&i.y>this._minCoord.y&&n===at.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},Ie.prototype.getRightmostSideOfSegment=function(t,e){var i=t.getEdge().getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var n=Se.LEFT;return i[e].y<i[e+1].y&&(n=Se.RIGHT),n},Ie.prototype.getEdge=function(){return this._orientedDe},Ie.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),i=0;i<e.length-1;i++)(null===this._minCoord||e[i].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=i,this._minCoord=e[i])},Ie.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ie.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();i.isForward()&&this.checkForRightmostCoordinate(i)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Se.LEFT&&(this._orientedDe=this._minDe.getSym())},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Pe=function(t){function e(i,n){t.call(this,e.msgWithCoord(i,n)),this.pt=n?new E(n):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Q),Le=function(){this.array_=[]};Le.prototype.addLast=function(t){this.array_.push(t)},Le.prototype.removeFirst=function(){return this.array_.shift()},Le.prototype.isEmpty=function(){return 0===this.array_.length};var Oe=function(){this._finder=null,this._dirEdgeList=new Mt,this._nodes=new Mt,this._rightMostCoord=null,this._env=null,this._finder=new Ie};Oe.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Oe.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Oe.prototype.computeNodeDepth=function(t){for(var e=null,i=t.getEdges().iterator();i.hasNext();){var n=i.next();if(n.isVisited()||n.getSym().isVisited()){e=n;break}}if(null===e)throw new Pe("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},Oe.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Se.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Oe.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Oe.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Se.RIGHT)>=1&&e.getDepth(Se.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Oe.prototype.computeDepths=function(t){var e=new Tt,i=new Le,n=t.getNode();for(i.addLast(n),e.add(n),t.setVisited(!0);!i.isEmpty();){var r=i.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(i.addLast(a),e.add(a))}}}},Oe.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Oe.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Y,e=this._dirEdgeList.iterator();e.hasNext();)for(var i=e.next().getEdge().getCoordinates(),n=0;n<i.length-1;n++)t.expandToInclude(i[n]);this._env=t}return this._env},Oe.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var i=e.pop();this.add(i,e)}},Oe.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Se.LEFT,t.getDepth(Se.RIGHT)),e.setDepth(Se.RIGHT,t.getDepth(Se.LEFT))},Oe.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var n=i.next();this._dirEdgeList.add(n);var r=n.getSym().getNode();r.isVisited()||e.push(r)}},Oe.prototype.getNodes=function(){return this._nodes},Oe.prototype.getDirectedEdges=function(){return this._dirEdgeList},Oe.prototype.interfaces_=function(){return[b]},Oe.prototype.getClass=function(){return Oe};var Ne=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var i=arguments[0];this.init(1),this.location[Se.ON]=i}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var r=0;r<this.location.length;r++)this.location[r]=n.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Se.ON]=o,this.location[Se.LEFT]=s,this.location[Se.RIGHT]=a}};Ne.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Ne.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==P.NONE)return!1;return!0},Ne.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===P.NONE&&(this.location[e]=t)},Ne.prototype.isLine=function(){return 1===this.location.length},Ne.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Se.ON]=this.location[Se.ON],e[Se.LEFT]=P.NONE,e[Se.RIGHT]=P.NONE,this.location=e}for(var i=0;i<this.location.length;i++)this.location[i]===P.NONE&&i<t.location.length&&(this.location[i]=t.location[i])},Ne.prototype.getLocations=function(){return this.location},Ne.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Se.LEFT];this.location[Se.LEFT]=this.location[Se.RIGHT],this.location[Se.RIGHT]=t},Ne.prototype.toString=function(){var t=new A;return this.location.length>1&&t.append(P.toLocationSymbol(this.location[Se.LEFT])),t.append(P.toLocationSymbol(this.location[Se.ON])),this.location.length>1&&t.append(P.toLocationSymbol(this.location[Se.RIGHT])),t.toString()},Ne.prototype.setLocations=function(t,e,i){this.location[Se.ON]=t,this.location[Se.LEFT]=e,this.location[Se.RIGHT]=i},Ne.prototype.get=function(t){return t<this.location.length?this.location[t]:P.NONE},Ne.prototype.isArea=function(){return this.location.length>1},Ne.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===P.NONE)return!0;return!1},Ne.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Se.ON,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.location[e]=i}},Ne.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(P.NONE)},Ne.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Ne.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne};var Te=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ne(e),this.elt[1]=new Ne(e)}else if(arguments[0]instanceof t){var i=arguments[0];this.elt[0]=new Ne(i.elt[0]),this.elt[1]=new Ne(i.elt[1])}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.elt[0]=new Ne(P.NONE),this.elt[1]=new Ne(P.NONE),this.elt[n].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Ne(o,s,a),this.elt[1]=new Ne(o,s,a)}else if(4===arguments.length){var h=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new Ne(P.NONE,P.NONE,P.NONE),this.elt[1]=new Ne(P.NONE,P.NONE,P.NONE),this.elt[h].setLocations(l,u,c)}};Te.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Te.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Te.prototype.isNull=function(t){return this.elt[t].isNull()},Te.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.elt[e].setAllLocationsIfNull(i)}},Te.prototype.isLine=function(t){return this.elt[t].isLine()},Te.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Ne(t.elt[e]):this.elt[e].merge(t.elt[e])},Te.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Te.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Se.ON)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.elt[e].get(i)}},Te.prototype.toString=function(){var t=new A;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Te.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Te.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Te.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Se.ON,e)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.elt[i].setLocation(n,r)}},Te.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Te.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Te.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Ne(this.elt[t].location[0]))},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.toLineLabel=function(t){for(var e=new Te(P.NONE),i=0;i<2;i++)e.setLocation(i,t.getLocation(i));return e};var Ae=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Mt,this._pts=new Mt,this._label=new Te(P.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Mt,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Ae.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Ae.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ae.prototype.computePoints=function(t){this._startDe=t;var e=t,i=!0;do{if(null===e)throw new Pe("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Pe("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var n=e.getLabel();et.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Ae.prototype.getLinearRing=function(){return this._ring},Ae.prototype.getCoordinate=function(t){return this._pts.get(t)},Ae.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Ae.prototype.addPoints=function(t,e,i){var n=t.getCoordinates();if(e){var r=1;i&&(r=0);for(var o=r;o<n.length;o++)this._pts.add(n[o])}else{var s=n.length-2;i&&(s=n.length-1);for(var a=s;a>=0;a--)this._pts.add(n[a])}},Ae.prototype.isHole=function(){return this._isHole},Ae.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Ae.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(t))return!1;return!0},Ae.prototype.addHole=function(t){this._holes.add(t)},Ae.prototype.isShell=function(){return null===this._shell},Ae.prototype.getLabel=function(){return this._label},Ae.prototype.getEdges=function(){return this._edges},Ae.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ae.prototype.getShell=function(){return this._shell},Ae.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e.getLocation(i,Se.RIGHT);if(n===P.NONE)return null;if(this._label.getLocation(i)===P.NONE)return this._label.setLocation(i,n),null}},Ae.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Ae.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)e[i]=this._holes.get(i).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae};var Re=function(t){function e(){var e=arguments[0],i=arguments[1];t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),De=function(t){function e(){var e=arguments[0],i=arguments[1];t.call(this,e,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Mt,e=this._startDe;do{if(null===e.getMinEdgeRing()){var i=new Re(e,this._geometryFactory);t.add(i)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),ke=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};ke.prototype.setVisited=function(t){this._isVisited=t},ke.prototype.setInResult=function(t){this._isInResult=t},ke.prototype.isCovered=function(){return this._isCovered},ke.prototype.isCoveredSet=function(){return this._isCoveredSet},ke.prototype.setLabel=function(t){this._label=t},ke.prototype.getLabel=function(){return this._label},ke.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},ke.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},ke.prototype.isInResult=function(){return this._isInResult},ke.prototype.isVisited=function(){return this._isVisited},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var Fe=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],i=arguments[1];this._coord=e,this._edges=i,this._label=new Te(0,P.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var i=P.NONE;if(i=this._label.getLocation(e),!t.isNull(e)){var n=t.getLocation(e);i!==P.BOUNDARY&&(i=n)}return i},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],i=arguments[1];null===this._label?this._label=new Te(e,i):this._label.setLocation(e,i)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Te)for(var i=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(i,n);this._label.getLocation(n)===P.NONE&&this._label.setLocation(n,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=P.NONE;null!==this._label&&(e=this._label.getLocation(t));var i=null;switch(e){case P.BOUNDARY:i=P.INTERIOR;break;case P.INTERIOR:default:i=P.BOUNDARY}this._label.setLocation(t,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ke),Be=function(){this.nodeMap=new c,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Be.prototype.find=function(t){return this.nodeMap.get(t)},Be.prototype.addNode=function(){if(arguments[0]instanceof E){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Fe){var i=arguments[0],n=this.nodeMap.get(i.getCoordinate());return null===n?(this.nodeMap.put(i.getCoordinate(),i),i):(n.mergeLabel(i),n)}},Be.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Be.prototype.iterator=function(){return this.nodeMap.values().iterator()},Be.prototype.values=function(){return this.nodeMap.values()},Be.prototype.getBoundaryNodes=function(t){for(var e=new Mt,i=this.iterator();i.hasNext();){var n=i.next();n.getLabel().getLocation(t)===P.BOUNDARY&&e.add(n)}return e},Be.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var ze=function(){},je={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze},ze.isNorthern=function(t){return t===ze.NE||t===ze.NW},ze.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},ze.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var i=t<e?t:e;return 0===i&&3===(t>e?t:e)?3:i},ze.isInHalfPlane=function(t,e){return e===ze.SE?t===ze.SE||t===ze.SW:t===e||t===e+1},ze.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?ze.NE:ze.SE:e>=0?ze.NW:ze.SW}if(arguments[0]instanceof E&&arguments[1]instanceof E){var i=arguments[0],n=arguments[1];if(n.x===i.x&&n.y===i.y)throw new _("Cannot compute the quadrant for two identical points "+i);return n.x>=i.x?n.y>=i.y?ze.NE:ze.SE:n.y>=i.y?ze.NW:ze.SW}},je.NE.get=function(){return 0},je.NW.get=function(){return 1},je.SW.get=function(){return 2},je.SE.get=function(){return 3},Object.defineProperties(ze,je);var Ue=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2];this._edge=e,this.init(i,n),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};Ue.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ue.prototype.getDy=function(){return this._dy},Ue.prototype.getCoordinate=function(){return this._p0},Ue.prototype.setNode=function(t){this._node=t},Ue.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),n=i.lastIndexOf("."),r=i.substring(n+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ue.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ue.prototype.getDirectedCoordinate=function(){return this._p1},Ue.prototype.getDx=function(){return this._dx},Ue.prototype.getLabel=function(){return this._label},Ue.prototype.getEdge=function(){return this._edge},Ue.prototype.getQuadrant=function(){return this._quadrant},Ue.prototype.getNode=function(){return this._node},Ue.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),i=e.lastIndexOf(".");return"  "+e.substring(i+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ue.prototype.computeLabel=function(t){},Ue.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=ze.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ue.prototype.interfaces_=function(){return[b]},Ue.prototype.getClass=function(){return Ue};var Ge=function(t){function e(){var e=arguments[0],i=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=i,i)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Te(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Pe("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Se.LEFT)===P.INTERIOR&&this._label.getLocation(e,Se.RIGHT)===P.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Se.LEFT]+"/"+this._depth[Se.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,P.EXTERIOR),i=!this._label.isArea(1)||this._label.allPositionsEqual(1,P.EXTERIOR);return t&&e&&i},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var i=this.getEdge().getDepthDelta();this._isForward||(i=-i);var n=1;t===Se.LEFT&&(n=-1);var r=Se.opposite(t),o=e+i*n;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===P.EXTERIOR&&e===P.INTERIOR?1:t===P.INTERIOR&&e===P.EXTERIOR?-1:0},e}(Ue),Ve=function(){};Ve.prototype.createNode=function(t){return new Fe(t,null)},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var qe=function(){if(this._edges=new Mt,this._nodes=null,this._edgeEndList=new Mt,0===arguments.length)this._nodes=new Be(new Ve);else if(1===arguments.length){var t=arguments[0];this._nodes=new Be(t)}};qe.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var i=this._edges.get(e);i.print(t),i.eiList.print(t)}},qe.prototype.find=function(t){return this._nodes.find(t)},qe.prototype.addNode=function(){if(arguments[0]instanceof Fe){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof E){var e=arguments[0];return this._nodes.addNode(e)}},qe.prototype.getNodeIterator=function(){return this._nodes.iterator()},qe.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},qe.prototype.debugPrintln=function(t){q.out.println(t)},qe.prototype.isBoundaryNode=function(t,e){var i=this._nodes.find(e);if(null===i)return!1;var n=i.getLabel();return null!==n&&n.getLocation(t)===P.BOUNDARY},qe.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},qe.prototype.matchInSameDirection=function(t,e,i,n){return!!t.equals(i)&&at.computeOrientation(t,e,n)===at.COLLINEAR&&ze.quadrant(t,e)===ze.quadrant(i,n)},qe.prototype.getEdgeEnds=function(){return this._edgeEndList},qe.prototype.debugPrint=function(t){q.out.print(t)},qe.prototype.getEdgeIterator=function(){return this._edges.iterator()},qe.prototype.findEdgeInSameDirection=function(t,e){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return n;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return n}return null},qe.prototype.insertEdge=function(t){this._edges.add(t)},qe.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var i=e.next();if(i.getEdge()===t)return i}return null},qe.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this._edges.add(i);var n=new Ge(i,!0),r=new Ge(i,!1);n.setSym(r),r.setSym(n),this.add(n),this.add(r)}},qe.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},qe.prototype.getNodes=function(){return this._nodes.values()},qe.prototype.findEdge=function(t,e){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return n}return null},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe},qe.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var We=function(){this._geometryFactory=null,this._shellList=new Mt;var t=arguments[0];this._geometryFactory=t};We.prototype.sortShellsAndHoles=function(t,e,i){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()?i.add(r):e.add(r)}},We.prototype.computePolygons=function(t){for(var e=new Mt,i=t.iterator();i.hasNext();){var n=i.next().toPolygon(this._geometryFactory);e.add(n)}return e},We.prototype.placeFreeHoles=function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();if(null===n.getShell()){var r=this.findEdgeRingContaining(n,t);if(null===r)throw new Pe("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(r)}}},We.prototype.buildMinimalEdgeRings=function(t,e,i){for(var n=new Mt,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):i.addAll(s)}else n.add(o)}return n},We.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},We.prototype.buildMaximalEdgeRings=function(t){for(var e=new Mt,i=t.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var r=new De(n,this._geometryFactory);e.add(r),r.setInResult()}}return e},We.prototype.placePolygonHoles=function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();n.isHole()&&n.setShell(t)}},We.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},We.prototype.findEdgeRingContaining=function(t,e){for(var i=t.getLinearRing(),n=i.getEnvelopeInternal(),r=i.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var h=a.next(),l=h.getLinearRing(),u=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var c=!1;u.contains(n)&&at.isPointInRing(r,l.getCoordinates())&&(c=!0),c&&(null===o||s.contains(u))&&(o=h)}return o},We.prototype.findShell=function(t){for(var e=0,i=null,n=t.iterator();n.hasNext();){var r=n.next();r.isHole()||(i=r,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),i},We.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],i=arguments[1];qe.linkResultDirectedEdges(i);var n=this.buildMaximalEdgeRings(e),r=new Mt,o=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Ye=function(){};Ye.prototype.getBounds=function(){},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[Ye,e]},He.prototype.getClass=function(){return He};var Xe=function(){this._size=null,this._items=null,this._size=0,this._items=new Mt,this._items.add(null)};Xe.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Xe.prototype.size=function(){return this._size},Xe.prototype.reorder=function(t){for(var e=null,i=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(i)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,i)},Xe.prototype.clear=function(){this._size=0,this._items.clear()},Xe.prototype.isEmpty=function(){return 0===this._size},Xe.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ze=function(){};Ze.prototype.visitItem=function(t){},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var $e=function(){};$e.prototype.insert=function(t,e){},$e.prototype.remove=function(t,e){},$e.prototype.query=function(){},$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e};var Je=function(){if(this._childBoundables=new Mt,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Ke={serialVersionUID:{configurable:!0}};Je.prototype.getLevel=function(){return this._level},Je.prototype.size=function(){return this._childBoundables.size()},Je.prototype.getChildBoundables=function(){return this._childBoundables},Je.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Je.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Je.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Je.prototype.interfaces_=function(){return[Ye,e]},Je.prototype.getClass=function(){return Je},Ke.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Je,Ke);var Qe=function(){};Qe.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Qe.min=function(t){return Qe.sort(t),t.get(0)},Qe.sort=function(t,e){var i=t.toArray();e?Ft.sort(i,e):Ft.sort(i);for(var n=t.iterator(),r=0,o=i.length;r<o;r++)n.next(),n.set(i[r])},Qe.singletonList=function(t){var e=new Mt;return e.add(t),e};var ti=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],i=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=i,this._distance=this.distance()};ti.prototype.expandToQueue=function(t,e){var i=ti.isComposite(this._boundable1),n=ti.isComposite(this._boundable2);if(i&&n)return ti.area(this._boundable1)>ti.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(i)return this.expand(this._boundable1,this._boundable2,t,e),null;if(n)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new _("neither boundable is composite")},ti.prototype.isLeaves=function(){return!(ti.isComposite(this._boundable1)||ti.isComposite(this._boundable2))},ti.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},ti.prototype.expand=function(t,e,i,n){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new ti(o,e,this._itemDistance);s.getDistance()<n&&i.add(s)}},ti.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},ti.prototype.getDistance=function(){return this._distance},ti.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},ti.prototype.interfaces_=function(){return[b]},ti.prototype.getClass=function(){return ti},ti.area=function(t){return t.getBounds().getArea()},ti.isComposite=function(t){return t instanceof Je};var ei=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Mt,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var i=arguments[0];et.isTrue(i>1,"Node capacity must be greater than 1"),this._nodeCapacity=i}},ii={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ei.prototype.getNodeCapacity=function(){return this._nodeCapacity},ei.prototype.lastNode=function(t){return t.get(t.size()-1)},ei.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();i instanceof Je?t+=this.size(i):i instanceof He&&(t+=1)}return t}},ei.prototype.removeItem=function(t,e){for(var i=null,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof He&&r.getItem()===e&&(i=r)}return null!==i&&(t.getChildBoundables().remove(i),!0)},ei.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Mt:t}if(1===arguments.length){for(var e=arguments[0],i=new Mt,n=e.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof Je){var o=this.itemsTree(r);null!==o&&i.add(o)}else r instanceof He?i.add(r.getItem()):et.shouldNeverReachHere()}return i.size()<=0?null:i}},ei.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new He(t,e))},ei.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Mt;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];if(et.isTrue(i>-2),n.getLevel()===i)return r.add(n),null;for(var o=n.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Je?this.boundablesAtLevel(i,s,r):(et.isTrue(s instanceof He),-1===i&&r.add(s))}return null}},ei.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Mt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var i=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,n)}else if(3===arguments.length)if(O(arguments[2],Ze)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),h=0;h<a.size();h++){var l=a.get(h);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof Je?this.query(r,l,s):l instanceof He?s.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(O(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var u=arguments[0],c=arguments[1],p=arguments[2],f=c.getChildBoundables(),d=0;d<f.size();d++){var g=f.get(d);this.getIntersectsOp().intersects(g.getBounds(),u)&&(g instanceof Je?this.query(u,g,p):g instanceof He?p.add(g.getItem()):et.shouldNeverReachHere())}},ei.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ei.prototype.getRoot=function(){return this.build(),this._root},ei.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=this.removeItem(n,r);if(o)return!0;for(var s=null,a=n.getChildBoundables().iterator();a.hasNext();){var h=a.next();if(this.getIntersectsOp().intersects(h.getBounds(),i)&&h instanceof Je&&(o=this.remove(i,h,r))){s=h;break}}return null!==s&&s.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(s),o}},ei.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var i=this.createParentBoundables(t,e+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,e+1)},ei.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();if(i instanceof Je){var n=this.depth(i);n>t&&(t=n)}}return t+1}},ei.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var i=new Mt;i.add(this.createNode(e));var n=new Mt(t);Qe.sort(n,this.getComparator());for(var r=n.iterator();r.hasNext();){var o=r.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(e)),this.lastNode(i).addChildBoundable(o)}return i},ei.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ei.prototype.interfaces_=function(){return[e]},ei.prototype.getClass=function(){return ei},ei.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},ii.IntersectsOp.get=function(){return ni},ii.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},ii.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ei,ii);var ni=function(){},ri=function(){};ri.prototype.distance=function(t,e){},ri.prototype.interfaces_=function(){return[]},ri.prototype.getClass=function(){return ri};var oi=function(t){function i(e){e=e||i.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(i.__proto__=t),(i.prototype=Object.create(t&&t.prototype)).constructor=i;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return i.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var i=new Mt,n=0;n<t.length;n++)i.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return i},i.prototype.createNode=function(t){return new si(t)},i.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},i.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],i=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,i)},i.prototype.getIntersectsOp=function(){return i.intersectsOp},i.prototype.verticalSlices=function(t,e){for(var i=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){n[o]=new Mt;for(var s=0;r.hasNext()&&s<i;){var a=r.next();n[o].add(a),s++}}return n},i.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var i=arguments[0],n=arguments[1];t.prototype.query.call(this,i,n)}else if(3===arguments.length)if(O(arguments[2],Ze)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(O(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var a=arguments[0],h=arguments[1],l=arguments[2];t.prototype.query.call(this,a,h,l)}},i.prototype.getComparator=function(){return i.yComparator},i.prototype.createParentBoundablesFromVerticalSlice=function(e,i){return t.prototype.createParentBoundables.call(this,e,i)},i.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],i=arguments[1];return t.prototype.remove.call(this,e,i)}return t.prototype.remove.apply(this,arguments)},i.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},i.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new Mt(t);Qe.sort(r,i.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(o,e)},i.prototype.nearestNeighbour=function(){if(1===arguments.length){if(O(arguments[0],ri)){var t=arguments[0],e=new ti(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof ti){var n=arguments[0];return this.nearestNeighbour(n,v.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof i&&O(arguments[1],ri)){var r=arguments[0],o=arguments[1],s=new ti(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof ti&&"number"==typeof arguments[1]){var a=arguments[0],h=arguments[1],l=null,u=new Xe;for(u.add(a);!u.isEmpty()&&h>0;){var c=u.poll(),p=c.getDistance();if(p>=h)break;c.isLeaves()?(h=p,l=c):c.expandToQueue(u,h)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],d=arguments[1],g=arguments[2],y=new He(f,d),m=new ti(this.getRoot(),y,g);return this.nearestNeighbour(m)[0]}},i.prototype.interfaces_=function(){return[$e,e]},i.prototype.getClass=function(){return i},i.centreX=function(t){return i.avg(t.getMinX(),t.getMaxX())},i.avg=function(t,e){return(t+e)/2},i.centreY=function(t){return i.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return si},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[M]},compare:function(e,n){return t.compareDoubles(i.centreX(e.getBounds()),i.centreX(n.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[M]},compare:function(e,n){return t.compareDoubles(i.centreY(e.getBounds()),i.centreY(n.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(i,n),i}(ei),si=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var i=e.next();null===t?t=new Y(i.getBounds()):t.expandToInclude(i.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Je),ai=function(){};ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.relativeSign=function(t,e){return t<e?-1:t>e?1:0},ai.compare=function(t,e,i){if(e.equals2D(i))return 0;var n=ai.relativeSign(e.x,i.x),r=ai.relativeSign(e.y,i.y);switch(t){case 0:return ai.compareValue(n,r);case 1:return ai.compareValue(r,n);case 2:return ai.compareValue(r,-n);case 3:return ai.compareValue(-n,r);case 4:return ai.compareValue(-n,-r);case 5:return ai.compareValue(-r,-n);case 6:return ai.compareValue(-r,n);case 7:return ai.compareValue(n,-r)}return et.shouldNeverReachHere("invalid octant value"),0},ai.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var hi=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._segString=t,this.coord=new E(e),this.segmentIndex=i,this._segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(i))};hi.prototype.getCoordinate=function(){return this.coord},hi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},hi.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:ai.compare(this._segmentOctant,this.coord,e.coord)},hi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},hi.prototype.isInterior=function(){return this._isInterior},hi.prototype.interfaces_=function(){return[b]},hi.prototype.getClass=function(){return hi};var li=function(){this._nodeMap=new c,this._edge=null;var t=arguments[0];this._edge=t};li.prototype.getSplitCoordinates=function(){var t=new St;this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next();this.addEdgeCoordinates(i,n,t),i=n}return t.toCoordinateArray()},li.prototype.addCollapsedNodes=function(){var t=new Mt;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var i=e.next().intValue();this.add(this._edge.getCoordinate(i),i)}},li.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},li.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var i=this._edge.getCoordinate(e),n=this._edge.getCoordinate(e+2);i.equals2D(n)&&t.add(new R(e+1))}},li.prototype.addEdgeCoordinates=function(t,e,i){var n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);i.add(new E(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)i.add(this._edge.getCoordinate(o));r&&i.add(new E(e.coord))},li.prototype.iterator=function(){return this._nodeMap.values().iterator()},li.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},li.prototype.findCollapseIndex=function(t,e,i){if(!t.coord.equals2D(e.coord))return!1;var n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(i[0]=t.segmentIndex+1,!0)},li.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),i=this.iterator(),n=i.next();i.hasNext();){var r=i.next();this.findCollapseIndex(n,r,e)&&t.add(new R(e[0])),n=r}},li.prototype.getEdge=function(){return this._edge},li.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},li.prototype.createSplitEdge=function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new E(e.coord)),new fi(o,this._edge.getData())},li.prototype.add=function(t,e){var i=new hi(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(i);return null!==n?(et.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(i,i),i)},li.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),i=t.get(0).getCoordinate(0);if(!i.equals2D(e[0]))throw new Q("bad split edge start point at "+i);var n=t.get(t.size()-1).getCoordinates(),r=n[n.length-1];if(!r.equals2D(e[e.length-1]))throw new Q("bad split edge end point at "+r)},li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ui=function(){};ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui},ui.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new _("Cannot compute the octant for point ( "+t+", "+e+" )");var i=Math.abs(t),n=Math.abs(e);return t>=0?e>=0?i>=n?0:1:i>=n?7:6:e>=0?i>=n?3:2:i>=n?4:5}if(arguments[0]instanceof E&&arguments[1]instanceof E){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new _("Cannot compute the octant for two identical points "+r);return ui.octant(s,a)}};var ci=function(){};ci.prototype.getCoordinates=function(){},ci.prototype.size=function(){},ci.prototype.getCoordinate=function(t){},ci.prototype.isClosed=function(){},ci.prototype.setData=function(t){},ci.prototype.getData=function(){},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci};var pi=function(){};pi.prototype.addIntersection=function(t,e){},pi.prototype.interfaces_=function(){return[ci]},pi.prototype.getClass=function(){return pi};var fi=function(){this._nodeList=new li(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};fi.prototype.getCoordinates=function(){return this._pts},fi.prototype.size=function(){return this._pts.length},fi.prototype.getCoordinate=function(t){return this._pts[t]},fi.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fi.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fi.prototype.setData=function(t){this._data=t},fi.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:ui.octant(t,e)},fi.prototype.getData=function(){return this._data},fi.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[3],o=new E(i.getIntersection(r));this.addIntersection(o,n)}},fi.prototype.toString=function(){return K.toLineString(new he(this._pts))},fi.prototype.getNodeList=function(){return this._nodeList},fi.prototype.addIntersectionNode=function(t,e){var i=e,n=i+1;if(n<this._pts.length){var r=this._pts[n];t.equals2D(r)&&(i=n)}return this._nodeList.add(t,i)},fi.prototype.addIntersections=function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},fi.prototype.interfaces_=function(){return[pi]},fi.prototype.getClass=function(){return fi},fi.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Mt;return fi.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var i=arguments[0],n=arguments[1],r=i.iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var di=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new E,this.p1=new E;else if(1===arguments.length){var t=arguments[0];this.p0=new E(t.p0),this.p1=new E(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3];this.p0=new E(e,i),this.p1=new E(n,r)}},gi={serialVersionUID:{configurable:!0}};di.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},di.prototype.orientationIndex=function(){if(arguments[0]instanceof di){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),i=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&i>=0||e<=0&&i<=0?Math.max(e,i):0}if(arguments[0]instanceof E){var n=arguments[0];return at.orientationIndex(this.p0,this.p1,n)}},di.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},di.prototype.isVertical=function(){return this.p0.x===this.p1.x},di.prototype.equals=function(t){if(!(t instanceof di))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},di.prototype.intersection=function(t){var e=new rt;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},di.prototype.project=function(){if(arguments[0]instanceof E){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new E(t);var e=this.projectionFactor(t),i=new E;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof di){var n=arguments[0],r=this.projectionFactor(n.p0),o=this.projectionFactor(n.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(n.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(n.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new di(s,a)}},di.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},di.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},di.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},di.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},di.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},di.prototype.midPoint=function(){return di.midPoint(this.p0,this.p1)},di.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,n=e*e+i*i;return n<=0?v.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*i)/n},di.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var i=new Array(2).fill(null),n=v.MAX_VALUE,r=null,o=this.closestPoint(t.p0);n=o.distance(t.p0),i[0]=o,i[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<n&&(n=r,i[0]=s,i[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<n&&(n=r,i[0]=this.p0,i[1]=a);var h=t.closestPoint(this.p1);return(r=h.distance(this.p1))<n&&(n=r,i[0]=this.p1,i[1]=h),i},di.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},di.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},di.prototype.getLength=function(){return this.p0.distance(this.p1)},di.prototype.compareTo=function(t){var e=t,i=this.p0.compareTo(e.p0);return 0!==i?i:this.p1.compareTo(e.p1)},di.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},di.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},di.prototype.lineIntersection=function(t){try{return W.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof V))throw t}return null},di.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},di.prototype.pointAlongOffset=function(t,e){var i=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,h=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,h=e*o/s}return new E(i-h,n+a)},di.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=i.x,this.p1.y=i.y}},di.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||v.isNaN(e))&&(e=1),e},di.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},di.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},di.prototype.distance=function(){if(arguments[0]instanceof di){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof E){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},di.prototype.pointAlong=function(t){var e=new E;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},di.prototype.hashCode=function(){var t=v.doubleToLongBits(this.p0.x);t^=31*v.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),i=v.doubleToLongBits(this.p1.x);return i^=31*v.doubleToLongBits(this.p1.y),e^Math.trunc(i)^Math.trunc(i>>32)},di.prototype.interfaces_=function(){return[b,e]},di.prototype.getClass=function(){return di},di.midPoint=function(t,e){return new E((t.x+e.x)/2,(t.y+e.y)/2)},gi.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(di,gi);var yi=function(){this.tempEnv1=new Y,this.tempEnv2=new Y,this._overlapSeg1=new di,this._overlapSeg2=new di};yi.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];t.getLineSegment(e,this._overlapSeg1),i.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var mi=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._pts=t,this._start=e,this._end=i,this._context=n};mi.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mi.prototype.computeSelect=function(t,e,i,n){var r=this._pts[e],o=this._pts[i];if(n.tempEnv1.init(r,o),i-e==1)return n.select(this,e),null;if(!t.intersects(n.tempEnv1))return null;var s=Math.trunc((e+i)/2);e<s&&this.computeSelect(t,e,s,n),s<i&&this.computeSelect(t,s,i,n)},mi.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,i=this._start;i<=this._end;i++)t[e++]=this._pts[i];return t},mi.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mi.prototype.setId=function(t){this._id=t},mi.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mi.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Y(t,e)}return this._env},mi.prototype.getEndIndex=function(){return this._end},mi.prototype.getStartIndex=function(){return this._start},mi.prototype.getContext=function(){return this._context},mi.prototype.getId=function(){return this._id},mi.prototype.computeOverlapsInternal=function(t,e,i,n,r,o){var s=this._pts[t],a=this._pts[e],h=i._pts[n],l=i._pts[r];if(e-t==1&&r-n==1)return o.overlap(this,t,i,n),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(h,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var u=Math.trunc((t+e)/2),c=Math.trunc((n+r)/2);t<u&&(n<c&&this.computeOverlapsInternal(t,u,i,n,c,o),c<r&&this.computeOverlapsInternal(t,u,i,c,r,o)),u<e&&(n<c&&this.computeOverlapsInternal(u,e,i,n,c,o),c<r&&this.computeOverlapsInternal(u,e,i,c,r,o))},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi};var _i=function(){};_i.prototype.interfaces_=function(){return[]},_i.prototype.getClass=function(){return _i},_i.getChainStartIndices=function(t){var e=0,i=new Mt;i.add(new R(e));do{var n=_i.findChainEnd(t,e);i.add(new R(n)),e=n}while(e<t.length-1);return _i.toIntArray(i)},_i.findChainEnd=function(t,e){for(var i=e;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;for(var n=ze.quadrant(t[i],t[i+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])&&ze.quadrant(t[r-1],t[r])!==n)break;r++}return r-1},_i.getChains=function(){if(1===arguments.length){var t=arguments[0];return _i.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],i=arguments[1],n=new Mt,r=_i.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new mi(e,r[o],r[o+1],i);n.add(s)}return n}},_i.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e};var vi=function(){};vi.prototype.computeNodes=function(t){},vi.prototype.getNodedSubstrings=function(){},vi.prototype.interfaces_=function(){return[]},vi.prototype.getClass=function(){return vi};var xi=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};xi.prototype.setSegmentIntersector=function(t){this._segInt=t},xi.prototype.interfaces_=function(){return[vi]},xi.prototype.getClass=function(){return xi};var bi=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Mt,this._index=new oi,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var i={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return fi.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=_i.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var i=e.next();i.setId(this._idCounter++),this._index.insert(i.getEnvelope(),i),this._monoChains.add(i)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new wi(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var i=e.next(),n=this._index.query(i.getEnvelope()).iterator();n.hasNext();){var r=n.next();if(r.getId()>i.getId()&&(i.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},i.SegmentOverlapAction.get=function(){return wi},Object.defineProperties(e,i),e}(xi),wi=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],i=arguments[1],n=arguments[2],r=arguments[3],o=e.getContext(),s=n.getContext();this._si.processIntersections(o,i,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(yi),Mi=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.setQuadrantSegments(i),this.setEndCapStyle(n)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Ei={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Mi.prototype.getEndCapStyle=function(){return this._endCapStyle},Mi.prototype.isSingleSided=function(){return this._isSingleSided},Mi.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Mi.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Mi.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Mi.JOIN_ROUND&&(this._quadrantSegments=Mi.DEFAULT_QUADRANT_SEGMENTS)},Mi.prototype.getJoinStyle=function(){return this._joinStyle},Mi.prototype.setJoinStyle=function(t){this._joinStyle=t},Mi.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Mi.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Mi.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Mi.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Mi.prototype.getMitreLimit=function(){return this._mitreLimit},Mi.prototype.setMitreLimit=function(t){this._mitreLimit=t},Mi.prototype.setSingleSided=function(t){this._isSingleSided=t},Mi.prototype.interfaces_=function(){return[]},Mi.prototype.getClass=function(){return Mi},Mi.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ei.CAP_ROUND.get=function(){return 1},Ei.CAP_FLAT.get=function(){return 2},Ei.CAP_SQUARE.get=function(){return 3},Ei.JOIN_ROUND.get=function(){return 1},Ei.JOIN_MITRE.get=function(){return 2},Ei.JOIN_BEVEL.get=function(){return 3},Ei.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ei.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ei.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Mi,Ei);var Si=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},Ci={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Si.prototype.isDeletable=function(t,e,i,n){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[i];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,n)&&this.isShallowSampled(r,o,t,i,n)},Si.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e),n=!1;i<this._inputLine.length;){var r=!1;this.isDeletable(t,e,i,this._distanceTol)&&(this._isDeleted[e]=Si.DELETE,r=!0,n=!0),t=r?i:e,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e)}return n},Si.prototype.isShallowConcavity=function(t,e,i,n){return at.computeOrientation(t,e,i)===this._angleOrientation&&at.distancePointLine(e,t,i)<n},Si.prototype.isShallowSampled=function(t,e,i,n,r){var o=Math.trunc((n-i)/Si.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=i;s<n;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},Si.prototype.isConcave=function(t,e,i){var n=at.computeOrientation(t,e,i)===this._angleOrientation;return n},Si.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Si.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Si.DELETE;)e++;return e},Si.prototype.isShallow=function(t,e,i,n){return at.distancePointLine(e,t,i)<n},Si.prototype.collapseLine=function(){for(var t=new St,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Si.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si},Si.simplify=function(t,e){return new Si(t).simplify(e)},Ci.INIT.get=function(){return 0},Ci.DELETE.get=function(){return 1},Ci.KEEP.get=function(){return 1},Ci.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Si,Ci);var Ii=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Mt},Pi={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ii.prototype.getCoordinates=function(){return this._ptList.toArray(Ii.COORDINATE_ARRAY_TYPE)},Ii.prototype.setPrecisionModel=function(t){this._precisionModel=t},Ii.prototype.addPt=function(t){var e=new E(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Ii.prototype.revere=function(){},Ii.prototype.addPts=function(t,e){if(e)for(var i=0;i<t.length;i++)this.addPt(t[i]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},Ii.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Ii.prototype.toString=function(){return(new me).createLineString(this.getCoordinates()).toString()},Ii.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new E(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Ii.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Pi.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ii,Pi);var Li=function(){},Oi={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.toDegrees=function(t){return 180*t/Math.PI},Li.normalize=function(t){for(;t>Math.PI;)t-=Li.PI_TIMES_2;for(;t<=-Math.PI;)t+=Li.PI_TIMES_2;return t},Li.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=i.x-e.x,r=i.y-e.y;return Math.atan2(r,n)}},Li.isAcute=function(t,e,i){var n=t.x-e.x,r=t.y-e.y;return n*(i.x-e.x)+r*(i.y-e.y)>0},Li.isObtuse=function(t,e,i){var n=t.x-e.x,r=t.y-e.y;return n*(i.x-e.x)+r*(i.y-e.y)<0},Li.interiorAngle=function(t,e,i){var n=Li.angle(e,t),r=Li.angle(e,i);return Math.abs(r-n)},Li.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Li.PI_TIMES_2;t>=Li.PI_TIMES_2&&(t=0)}else{for(;t>=Li.PI_TIMES_2;)t-=Li.PI_TIMES_2;t<0&&(t=0)}return t},Li.angleBetween=function(t,e,i){var n=Li.angle(e,t),r=Li.angle(e,i);return Li.diff(n,r)},Li.diff=function(t,e){var i=null;return(i=t<e?e-t:t-e)>Math.PI&&(i=2*Math.PI-i),i},Li.toRadians=function(t){return t*Math.PI/180},Li.getTurn=function(t,e){var i=Math.sin(e-t);return i>0?Li.COUNTERCLOCKWISE:i<0?Li.CLOCKWISE:Li.NONE},Li.angleBetweenOriented=function(t,e,i){var n=Li.angle(e,t),r=Li.angle(e,i)-n;return r<=-Math.PI?r+Li.PI_TIMES_2:r>Math.PI?r-Li.PI_TIMES_2:r},Oi.PI_TIMES_2.get=function(){return 2*Math.PI},Oi.PI_OVER_2.get=function(){return Math.PI/2},Oi.PI_OVER_4.get=function(){return Math.PI/4},Oi.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Oi.CLOCKWISE.get=function(){return at.CLOCKWISE},Oi.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Li,Oi);var Ni=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new di,this._seg1=new di,this._offset0=new di,this._offset1=new di,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],i=arguments[1],n=arguments[2];this._precisionModel=e,this._bufParams=i,this._li=new rt,this._filletAngleQuantum=Math.PI/2/i.getQuadrantSegments(),i.getQuadrantSegments()>=8&&i.getJoinStyle()===Mi.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},Ti={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Ni.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=at.computeOrientation(this._s0,this._s1,this._s2),n=i===at.CLOCKWISE&&this._side===Se.LEFT||i===at.COUNTERCLOCKWISE&&this._side===Se.RIGHT;0===i?this.addCollinear(e):n?this.addOutsideTurn(i,e):this.addInsideTurn(i,e)},Ni.prototype.addLineEndCap=function(t,e){var i=new di(t,e),n=new di;this.computeOffsetSegment(i,Se.LEFT,this._distance,n);var r=new di;this.computeOffsetSegment(i,Se.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Mi.CAP_ROUND:this._segList.addPt(n.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case Mi.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(r.p1);break;case Mi.CAP_SQUARE:var h=new E;h.x=Math.abs(this._distance)*Math.cos(a),h.y=Math.abs(this._distance)*Math.sin(a);var l=new E(n.p1.x+h.x,n.p1.y+h.y),u=new E(r.p1.x+h.x,r.p1.y+h.y);this._segList.addPt(l),this._segList.addPt(u)}},Ni.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Ni.prototype.addMitreJoin=function(t,e,i,n){var r=!0,o=null;try{o=W.intersection(e.p0,e.p1,i.p0,i.p1),(n<=0?1:o.distance(t)/Math.abs(n))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof V))throw t;o=new E(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,i,n,this._bufParams.getMitreLimit())},Ni.prototype.addFilletCorner=function(t,e,i,n,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),h=i.x-t.x,l=i.y-t.y,u=Math.atan2(l,h);n===at.CLOCKWISE?a<=u&&(a+=2*Math.PI):a>=u&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,u,n,r),this._segList.addPt(i)},Ni.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Ni.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Mi.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Mi.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Ni.prototype.createSquare=function(t){this._segList.addPt(new E(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new E(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Ni.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Ni.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Ni.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Ni.prototype.initSideSegments=function(t,e,i){this._s1=t,this._s2=e,this._side=i,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)},Ni.prototype.addLimitedMitreJoin=function(t,e,i,n){var r=this._seg0.p1,o=Li.angle(r,this._seg0.p0),s=Li.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=Li.normalize(o+s),h=Li.normalize(a+Math.PI),l=n*i,u=i-l*Math.abs(Math.sin(s)),c=r.x+l*Math.cos(h),p=r.y+l*Math.sin(h),f=new E(c,p),d=new di(r,f),g=d.pointAlongOffset(1,u),y=d.pointAlongOffset(1,-u);this._side===Se.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},Ni.prototype.computeOffsetSegment=function(t,e,i,n){var r=e===Se.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),h=r*i*o/a,l=r*i*s/a;n.p0.x=t.p0.x-l,n.p0.y=t.p0.y+h,n.p1.x=t.p1.x-l,n.p1.y=t.p1.y+h},Ni.prototype.addFilletArc=function(t,e,i,n,r){var o=n===at.CLOCKWISE?-1:1,s=Math.abs(e-i),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var h=s/a,l=0,u=new E;l<s;){var c=e+o*l;u.x=t.x+r*Math.cos(c),u.y=t.y+r*Math.sin(c),this._segList.addPt(u),l+=h}},Ni.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Ni.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new E((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var n=new E((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Ni.prototype.createCircle=function(t){var e=new E(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Ni.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Ni.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ii,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Ni.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Ni.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Mi.JOIN_BEVEL||this._bufParams.getJoinStyle()===Mi.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Ni.prototype.closeRing=function(){this._segList.closeRing()},Ni.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ti.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ti.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ti.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ti.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Ni,Ti);var Ai=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Ai.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var i=e<0,n=Math.abs(e),r=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,i,r);var o=r.getCoordinates();return i&&Ct.reverse(o),o},Ai.prototype.computeSingleSidedBufferCurve=function(t,e,i){var n=this.simplifyTolerance(this._distance);if(e){i.addSegments(t,!0);var r=Si.simplify(t,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],Se.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(r[s],!0)}else{i.addSegments(t,!1);var a=Si.simplify(t,n),h=a.length-1;i.initSideSegments(a[0],a[1],Se.LEFT),i.addFirstSegment();for(var l=2;l<=h;l++)i.addNextSegment(a[l],!0)}i.addLastSegment(),i.closeRing()},Ai.prototype.computeRingBufferCurve=function(t,e,i){var n=this.simplifyTolerance(this._distance);e===Se.RIGHT&&(n=-n);var r=Si.simplify(t,n),o=r.length-1;i.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;i.addNextSegment(r[s],a)}i.closeRing()},Ai.prototype.computeLineBufferCurve=function(t,e){var i=this.simplifyTolerance(this._distance),n=Si.simplify(t,i),r=n.length-1;e.initSideSegments(n[0],n[1],Se.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(n[o],!0);e.addLastSegment(),e.addLineEndCap(n[r-1],n[r]);var s=Si.simplify(t,-i),a=s.length-1;e.initSideSegments(s[a],s[a-1],Se.LEFT);for(var h=a-2;h>=0;h--)e.addNextSegment(s[h],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Ai.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Mi.CAP_ROUND:e.createCircle(t);break;case Mi.CAP_SQUARE:e.createSquare(t)}},Ai.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var i=Math.abs(e),n=this.getSegGen(i);if(t.length<=1)this.computePointCurve(t[0],n);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,n)}else this.computeLineBufferCurve(t,n);return n.getCoordinates()},Ai.prototype.getBufferParameters=function(){return this._bufParams},Ai.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Ai.prototype.getRingCurve=function(t,e,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return Ai.copyCoordinates(t);var n=this.getSegGen(i);return this.computeRingBufferCurve(t,e,n),n.getCoordinates()},Ai.prototype.computeOffsetCurve=function(t,e,i){var n=this.simplifyTolerance(this._distance);if(e){var r=Si.simplify(t,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],Se.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(r[s],!0)}else{var a=Si.simplify(t,n),h=a.length-1;i.initSideSegments(a[0],a[1],Se.LEFT),i.addFirstSegment();for(var l=2;l<=h;l++)i.addNextSegment(a[l],!0)}i.addLastSegment()},Ai.prototype.getSegGen=function(t){return new Ni(this._precisionModel,this._bufParams,t)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),i=0;i<e.length;i++)e[i]=new E(t[i]);return e};var Ri=function(){this._subgraphs=null,this._seg=new di,this._cga=new at;var t=arguments[0];this._subgraphs=t},Di={DepthSegment:{configurable:!0}};Ri.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Mt,i=this._subgraphs.iterator();i.hasNext();){var n=i.next(),r=n.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,n.getDirectedEdges(),e)}return e}if(3===arguments.length)if(O(arguments[2],wt)&&arguments[0]instanceof E&&arguments[1]instanceof Ge){for(var o=arguments[0],s=arguments[1],a=arguments[2],h=s.getEdge().getCoordinates(),l=0;l<h.length-1;l++)if(this._seg.p0=h[l],this._seg.p1=h[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var u=s.getDepth(Se.LEFT);this._seg.p0.equals(h[l])||(u=s.getDepth(Se.RIGHT));var c=new ki(this._seg,u);a.add(c)}}else if(O(arguments[2],wt)&&arguments[0]instanceof E&&O(arguments[1],wt))for(var p=arguments[0],f=arguments[1],d=arguments[2],g=f.iterator();g.hasNext();){var y=g.next();y.isForward()&&this.findStabbedSegments(p,y,d)}},Ri.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Qe.min(e)._leftDepth},Ri.prototype.interfaces_=function(){return[]},Ri.prototype.getClass=function(){return Ri},Di.DepthSegment.get=function(){return ki},Object.defineProperties(Ri,Di);var ki=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new di(t),this._leftDepth=e};ki.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==i||0!=(i=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?i:this._upwardSeg.compareTo(e._upwardSeg)},ki.prototype.compareX=function(t,e){var i=t.p0.compareTo(e.p0);return 0!==i?i:t.p1.compareTo(e.p1)},ki.prototype.toString=function(){return this._upwardSeg.toString()},ki.prototype.interfaces_=function(){return[b]},ki.prototype.getClass=function(){return ki};var Fi=function(t,e,i){this.p0=t||null,this.p1=e||null,this.p2=i||null};Fi.prototype.area=function(){return Fi.area(this.p0,this.p1,this.p2)},Fi.prototype.signedArea=function(){return Fi.signedArea(this.p0,this.p1,this.p2)},Fi.prototype.interpolateZ=function(t){if(null===t)throw new _("Supplied point is null.");return Fi.interpolateZ(t,this.p0,this.p1,this.p2)},Fi.prototype.longestSideLength=function(){return Fi.longestSideLength(this.p0,this.p1,this.p2)},Fi.prototype.isAcute=function(){return Fi.isAcute(this.p0,this.p1,this.p2)},Fi.prototype.circumcentre=function(){return Fi.circumcentre(this.p0,this.p1,this.p2)},Fi.prototype.area3D=function(){return Fi.area3D(this.p0,this.p1,this.p2)},Fi.prototype.centroid=function(){return Fi.centroid(this.p0,this.p1,this.p2)},Fi.prototype.inCentre=function(){return Fi.inCentre(this.p0,this.p1,this.p2)},Fi.prototype.interfaces_=function(){return[]},Fi.prototype.getClass=function(){return Fi},Fi.area=function(t,e,i){return Math.abs(((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2)},Fi.signedArea=function(t,e,i){return((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2},Fi.det=function(t,e,i,n){return t*n-e*i},Fi.interpolateZ=function(t,e,i,n){var r=e.x,o=e.y,s=i.x-r,a=n.x-r,h=i.y-o,l=n.y-o,u=s*l-a*h,c=t.x-r,p=t.y-o,f=(l*c-a*p)/u,d=(-h*c+s*p)/u;return e.z+f*(i.z-e.z)+d*(n.z-e.z)},Fi.longestSideLength=function(t,e,i){var n=t.distance(e),r=e.distance(i),o=i.distance(t),s=n;return r>s&&(s=r),o>s&&(s=o),s},Fi.isAcute=function(t,e,i){return!!Li.isAcute(t,e,i)&&!!Li.isAcute(e,i,t)&&!!Li.isAcute(i,t,e)},Fi.circumcentre=function(t,e,i){var n=i.x,r=i.y,o=t.x-n,s=t.y-r,a=e.x-n,h=e.y-r,l=2*Fi.det(o,s,a,h),u=Fi.det(s,o*o+s*s,h,a*a+h*h),c=Fi.det(o,o*o+s*s,a,a*a+h*h);return new E(n-u/l,r+c/l)},Fi.perpendicularBisector=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=new W(t.x+i/2,t.y+n/2,1),o=new W(t.x-n+i/2,t.y+i+n/2,1);return new W(r,o)},Fi.angleBisector=function(t,e,i){var n=e.distance(t),r=n/(n+e.distance(i)),o=i.x-t.x,s=i.y-t.y;return new E(t.x+r*o,t.y+r*s)},Fi.area3D=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=i.x-t.x,a=i.y-t.y,h=i.z-t.z,l=r*h-o*a,u=o*s-n*h,c=n*a-r*s,p=l*l+u*u+c*c,f=Math.sqrt(p)/2;return f},Fi.centroid=function(t,e,i){var n=(t.x+e.x+i.x)/3,r=(t.y+e.y+i.y)/3;return new E(n,r)},Fi.inCentre=function(t,e,i){var n=e.distance(i),r=t.distance(i),o=t.distance(e),s=n+r+o,a=(n*t.x+r*e.x+o*i.x)/s,h=(n*t.y+r*e.y+o*i.y)/s;return new E(a,h)};var Bi=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Mt;var t=arguments[0],e=arguments[1],i=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=i};Bi.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,P.EXTERIOR,P.INTERIOR)},Bi.prototype.addPolygon=function(t){var e=this._distance,i=Se.LEFT;this._distance<0&&(e=-this._distance,i=Se.RIGHT);var n=t.getExteriorRing(),r=Ct.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,i,P.EXTERIOR,P.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Ct.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Se.opposite(i),P.INTERIOR,P.EXTERIOR)}},Bi.prototype.isTriangleErodedCompletely=function(t,e){var i=new Fi(t[0],t[1],t[2]),n=i.inCentre();return at.distancePointLine(n,i.p0,i.p1)<Math.abs(e)},Bi.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ct.removeRepeatedPoints(t.getCoordinates()),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,P.EXTERIOR,P.INTERIOR)},Bi.prototype.addCurve=function(t,e,i){if(null===t||t.length<2)return null;var n=new fi(t,new Te(0,P.BOUNDARY,e,i));this._curveList.add(n)},Bi.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bi.prototype.addPolygonRing=function(t,e,i,n,r){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=n,s=r;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=r,s=n,i=Se.opposite(i));var a=this._curveBuilder.getRingCurve(t,i,e);this.addCurve(a,o,s)},Bi.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Qt?this.addPolygon(t):t instanceof Zt?this.addLineString(t):t instanceof Jt?this.addPoint(t):(t instanceof te||t instanceof Vt||t instanceof ie||t instanceof Gt)&&this.addCollection(t)},Bi.prototype.isErodedCompletely=function(t,e){var i=t.getCoordinates();if(i.length<4)return e<0;if(4===i.length)return this.isTriangleErodedCompletely(i,e);var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth());return e<0&&2*Math.abs(e)>r},Bi.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},Bi.prototype.interfaces_=function(){return[]},Bi.prototype.getClass=function(){return Bi};var zi=function(){};zi.prototype.locate=function(t){},zi.prototype.interfaces_=function(){return[]},zi.prototype.getClass=function(){return zi};var ji=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};ji.prototype.next=function(){if(this._atStart)return this._atStart=!1,ji.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new n;var t=this._parent.getGeometryN(this._index++);return t instanceof Gt?(this._subcollectionIterator=new ji(t),this._subcollectionIterator.next()):t},ji.prototype.remove=function(){throw new Error(this.getClass().getName())},ji.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},ji.prototype.interfaces_=function(){return[bt]},ji.prototype.getClass=function(){return ji},ji.isAtomic=function(t){return!(t instanceof Gt)};var Ui=function(){this._geom=null;var t=arguments[0];this._geom=t};Ui.prototype.locate=function(t){return Ui.locate(t,this._geom)},Ui.prototype.interfaces_=function(){return[zi]},Ui.prototype.getClass=function(){return Ui},Ui.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},Ui.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var i=e.getExteriorRing();if(!Ui.isPointInRing(t,i))return!1;for(var n=0;n<e.getNumInteriorRing();n++){var r=e.getInteriorRingN(n);if(Ui.isPointInRing(t,r))return!1}return!0},Ui.containsPoint=function(t,e){if(e instanceof Qt)return Ui.containsPointInPolygon(t,e);if(e instanceof Gt)for(var i=new ji(e);i.hasNext();){var n=i.next();if(n!==e&&Ui.containsPoint(t,n))return!0}return!1},Ui.locate=function(t,e){return e.isEmpty()?P.EXTERIOR:Ui.containsPoint(t,e)?P.INTERIOR:P.EXTERIOR};var Gi=function(){this._edgeMap=new c,this._edgeList=null,this._ptInAreaLocation=[P.NONE,P.NONE]};Gi.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),i=e-1;return 0===e&&(i=this._edgeList.size()-1),this._edgeList.get(i)},Gi.prototype.propagateSideLabels=function(t){for(var e=P.NONE,i=this.iterator();i.hasNext();){var n=i.next().getLabel();n.isArea(t)&&n.getLocation(t,Se.LEFT)!==P.NONE&&(e=n.getLocation(t,Se.LEFT))}if(e===P.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Se.ON)===P.NONE&&a.setLocation(t,Se.ON,r),a.isArea(t)){var h=a.getLocation(t,Se.LEFT),l=a.getLocation(t,Se.RIGHT);if(l!==P.NONE){if(l!==r)throw new Pe("side location conflict",s.getCoordinate());h===P.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=h}else et.isTrue(a.getLocation(t,Se.LEFT)===P.NONE,"found single null side"),a.setLocation(t,Se.RIGHT,r),a.setLocation(t,Se.LEFT,r)}}},Gi.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Gi.prototype.print=function(t){q.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gi.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Gi.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var i=e.size()-1,n=e.get(i).getLabel().getLocation(t,Se.LEFT);et.isTrue(n!==P.NONE,"Found unlabelled area edge");for(var r=n,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Se.LEFT),h=s.getLocation(t,Se.RIGHT);if(a===h)return!1;if(h!==r)return!1;r=a}return!0},Gi.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Gi.prototype.iterator=function(){return this.getEdges().iterator()},Gi.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Mt(this._edgeMap.values())),this._edgeList},Gi.prototype.getLocation=function(t,e,i){return this._ptInAreaLocation[t]===P.NONE&&(this._ptInAreaLocation[t]=Ui.locate(e,i[t].getGeometry())),this._ptInAreaLocation[t]},Gi.prototype.toString=function(){var t=new A;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var i=e.next();t.append(i),t.append("\n")}return t.toString()},Gi.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Gi.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],i=this.iterator();i.hasNext();)for(var n=i.next().getLabel(),r=0;r<2;r++)n.isLine(r)&&n.getLocation(r)===P.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),h=0;h<2;h++)if(a.isAnyNull(h)){var l=P.NONE;if(e[h])l=P.EXTERIOR;else{var u=s.getCoordinate();l=this.getLocation(h,u,t)}a.setAllLocationsIfNull(h,l)}},Gi.prototype.getDegree=function(){return this._edgeMap.size()},Gi.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Gi.prototype.interfaces_=function(){return[]},Gi.prototype.getClass=function(){return Gi};var Vi=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,i=this._SCANNING_FOR_INCOMING,n=0;n<this._resultAreaEdgeList.size();n++){var r=this._resultAreaEdgeList.get(n),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),i){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),i=this._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===t)throw new Pe("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var i=t.get(0);if(1===e)return i;var n=t.get(e-1),r=i.getQuadrant(),o=n.getQuadrant();return ze.isNorthern(r)&&ze.isNorthern(o)?i:ze.isNorthern(r)||ze.isNorthern(o)?0!==i.getDy()?i:0!==n.getDy()?n:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):n},e.prototype.print=function(t){q.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var i=e.next();t.print("out "),i.print(t),t.println(),t.print("in "),i.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Mt;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var i=e.next().getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,i=this._edgeList.size()-1;i>=0;i--){var n=this._edgeList.get(i),r=n.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=n}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),i=t.getDepth(Se.LEFT),n=t.getDepth(Se.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),i);if(this.computeDepths(0,e,r)!==n)throw new Pe("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],h=o;h<s;h++){var l=this._edgeList.get(h);l.setEdgeDepths(Se.RIGHT,a),a=l.getDepth(Se.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,i=null,n=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),n){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;i=s,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;i.setNextMin(o),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var i=arguments[0],n=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===i&&n++;return n}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=P.NONE,e=this.iterator();e.hasNext();){var i=e.next(),n=i.getSym();if(!i.isLineEdge()){if(i.isInResult()){t=P.INTERIOR;break}if(n.isInResult()){t=P.EXTERIOR;break}}}if(t===P.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===P.INTERIOR):(s.isInResult()&&(r=P.EXTERIOR),a.isInResult()&&(r=P.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Te(P.NONE);for(var i=this.iterator();i.hasNext();)for(var n=i.next().getEdge().getLabel(),r=0;r<2;r++){var o=n.getLocation(r);o!==P.INTERIOR&&o!==P.BOUNDARY||this._label.setLocation(r,P.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gi),qi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Fe(t,new Vi)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ve),Wi=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Wi.prototype.compareTo=function(t){var e=t;return Wi.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Wi.prototype.interfaces_=function(){return[b]},Wi.prototype.getClass=function(){return Wi},Wi.orientation=function(t){return 1===Ct.increasingDirection(t)},Wi.compareOriented=function(t,e,i,n){for(var r=e?1:-1,o=n?1:-1,s=e?t.length:-1,a=n?i.length:-1,h=e?0:t.length-1,l=n?0:i.length-1;;){var u=t[h].compareTo(i[l]);if(0!==u)return u;var c=(h+=r)===s,p=(l+=o)===a;if(c&&!p)return-1;if(!c&&p)return 1;if(c&&p)return 0}};var Yi=function(){this._edges=new Mt,this._ocaMap=new c};Yi.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var n=i.getCoordinates(),r=0;r<n.length;r++)r>0&&t.print(","),t.print(n[r].x+" "+n[r].y);t.println(")")}t.print(")  ")},Yi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Yi.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Yi.prototype.iterator=function(){return this._edges.iterator()},Yi.prototype.getEdges=function(){return this._edges},Yi.prototype.get=function(t){return this._edges.get(t)},Yi.prototype.findEqualEdge=function(t){var e=new Wi(t.getCoordinates());return this._ocaMap.get(e)},Yi.prototype.add=function(t){this._edges.add(t);var e=new Wi(t.getCoordinates());this._ocaMap.put(e,t)},Yi.prototype.interfaces_=function(){return[]},Yi.prototype.getClass=function(){return Yi};var Hi=function(){};Hi.prototype.processIntersections=function(t,e,i,n){},Hi.prototype.isDone=function(){},Hi.prototype.interfaces_=function(){return[]},Hi.prototype.getClass=function(){return Hi};var Xi=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Xi.prototype.isTrivialIntersection=function(t,e,i,n){if(t===i&&1===this._li.getIntersectionNum()){if(Xi.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},Xi.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Xi.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Xi.prototype.getLineIntersector=function(){return this._li},Xi.prototype.hasProperIntersection=function(){return this._hasProper},Xi.prototype.processIntersections=function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Xi.prototype.hasIntersection=function(){return this._hasIntersection},Xi.prototype.isDone=function(){return!1},Xi.prototype.hasInteriorIntersection=function(){return this._hasInterior},Xi.prototype.interfaces_=function(){return[Hi]},Xi.prototype.getClass=function(){return Xi},Xi.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Zi=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.coord=new E(t),this.segmentIndex=e,this.dist=i};Zi.prototype.getSegmentIndex=function(){return this.segmentIndex},Zi.prototype.getCoordinate=function(){return this.coord},Zi.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Zi.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Zi.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Zi.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zi.prototype.getDistance=function(){return this.dist},Zi.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Zi.prototype.interfaces_=function(){return[b]},Zi.prototype.getClass=function(){return Zi};var $i=function(){this._nodeMap=new c,this.edge=null;var t=arguments[0];this.edge=t};$i.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},$i.prototype.iterator=function(){return this._nodeMap.values().iterator()},$i.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},$i.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},$i.prototype.createSplitEdge=function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),s=0;o[s++]=new E(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new en(o,new Te(this.edge._label))},$i.prototype.add=function(t,e,i){var n=new Zi(t,e,i),r=this._nodeMap.get(n);return null!==r?r:(this._nodeMap.put(n,n),n)},$i.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},$i.prototype.interfaces_=function(){return[]},$i.prototype.getClass=function(){return $i};var Ji=function(){};Ji.prototype.getChainStartIndices=function(t){var e=0,i=new Mt;i.add(new R(e));do{var n=this.findChainEnd(t,e);i.add(new R(n)),e=n}while(e<t.length-1);return Ji.toIntArray(i)},Ji.prototype.findChainEnd=function(t,e){for(var i=ze.quadrant(t[e],t[e+1]),n=e+1;n<t.length;){if(ze.quadrant(t[n-1],t[n])!==i)break;n++}return n-1},Ji.prototype.interfaces_=function(){return[]},Ji.prototype.getClass=function(){return Ji},Ji.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e};var Ki=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Y,this.env2=new Y;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Ji;this.startIndex=e.getChainStartIndices(this.pts)};Ki.prototype.getCoordinates=function(){return this.pts},Ki.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e>i?e:i},Ki.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e<i?e:i},Ki.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[i],e.startIndex[i+1],n)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],h=arguments[4],l=arguments[5],u=this.pts[r],c=this.pts[o],p=s.pts[a],f=s.pts[h];if(o-r==1&&h-a==1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(u,c),this.env2.init(p,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),g=Math.trunc((a+h)/2);r<d&&(a<g&&this.computeIntersectsForChain(r,d,s,a,g,l),g<h&&this.computeIntersectsForChain(r,d,s,g,h,l)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,l),g<h&&this.computeIntersectsForChain(d,o,s,g,h,l))}},Ki.prototype.getStartIndexes=function(){return this.startIndex},Ki.prototype.computeIntersects=function(t,e){for(var i=0;i<this.startIndex.length-1;i++)for(var n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(i,t,n,e)},Ki.prototype.interfaces_=function(){return[]},Ki.prototype.getClass=function(){return Ki};var Qi=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var i=0;i<3;i++)this._depth[e][i]=t.NULL_VALUE},tn={NULL_VALUE:{configurable:!0}};Qi.prototype.getDepth=function(t,e){return this._depth[t][e]},Qi.prototype.setDepth=function(t,e,i){this._depth[t][e]=i},Qi.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Qi.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===Qi.NULL_VALUE}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this._depth[n][r]===Qi.NULL_VALUE}},Qi.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var i=1;i<3;i++){var n=0;this._depth[t][i]>e&&(n=1),this._depth[t][i]=n}}},Qi.prototype.getDelta=function(t){return this._depth[t][Se.RIGHT]-this._depth[t][Se.LEFT]},Qi.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?P.EXTERIOR:P.INTERIOR},Qi.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Qi.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var i=1;i<3;i++){var n=t.getLocation(e,i);n!==P.EXTERIOR&&n!==P.INTERIOR||(this.isNull(e,i)?this._depth[e][i]=Qi.depthAtLocation(n):this._depth[e][i]+=Qi.depthAtLocation(n))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===P.INTERIOR&&this._depth[r][o]++}},Qi.prototype.interfaces_=function(){return[]},Qi.prototype.getClass=function(){return Qi},Qi.depthAtLocation=function(t){return t===P.EXTERIOR?0:t===P.INTERIOR?1:Qi.NULL_VALUE},tn.NULL_VALUE.get=function(){return-1},Object.defineProperties(Qi,tn);var en=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new $i(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Qi,this._depthDelta=0,1===arguments.length){var i=arguments[0];e.call(this,i,null)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.pts=n,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Te.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var i=t;if(this.pts.length!==i.pts.length)return!1;for(var n=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(i.pts[s])||(n=!1),this.pts[s].equals2D(i.pts[--o])||(r=!1),!n&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ki(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Y;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,i,n){var r=new E(t.getIntersection(n)),o=e,s=t.getEdgeDistance(i,n),a=o+1;if(a<this.pts.length){var h=this.pts[a];r.equals2D(h)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new A;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],i=arguments[1];i.setAtLeastIfValid(e.getLocation(0,Se.ON),e.getLocation(1,Se.ON),1),e.isArea()&&(i.setAtLeastIfValid(e.getLocation(0,Se.LEFT),e.getLocation(1,Se.LEFT),2),i.setAtLeastIfValid(e.getLocation(0,Se.RIGHT),e.getLocation(1,Se.RIGHT),2))},e}(ke),nn=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Yi,this._bufParams=t||null};nn.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},nn.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Te(t.getLabel())).flip(),i.merge(n);var r=nn.depthDelta(n),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(nn.depthDelta(t.getLabel()))},nn.prototype.buildSubgraphs=function(t,e){for(var i=new Mt,n=t.iterator();n.hasNext();){var r=n.next(),o=r.getRightmostCoordinate(),s=new Ri(i).getDepth(o);r.computeDepth(s),r.findResultEdges(),i.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},nn.prototype.createSubgraphs=function(t){for(var e=new Mt,i=t.getNodes().iterator();i.hasNext();){var n=i.next();if(!n.isVisited()){var r=new Oe;r.create(n),e.add(r)}}return Qe.sort(e,Qe.reverseOrder()),e},nn.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},nn.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new bi,i=new rt;return i.setPrecisionModel(t),e.setSegmentIntersector(new Xi(i)),e},nn.prototype.buffer=function(t,e){var i=this._workingPrecisionModel;null===i&&(i=t.getPrecisionModel()),this._geomFact=t.getFactory();var n=new Ai(i,this._bufParams),r=new Bi(t,e,n).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,i),this._graph=new qe(new qi),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new We(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},nn.prototype.computeNodedEdges=function(t,e){var i=this.getNoder(e);i.computeNodes(t);for(var n=i.getNodedSubstrings().iterator();n.hasNext();){var r=n.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new en(r.getCoordinates(),new Te(s));this.insertUniqueEdge(a)}}},nn.prototype.setNoder=function(t){this._workingNoder=t},nn.prototype.interfaces_=function(){return[]},nn.prototype.getClass=function(){return nn},nn.depthDelta=function(t){var e=t.getLocation(0,Se.LEFT),i=t.getLocation(0,Se.RIGHT);return e===P.INTERIOR&&i===P.EXTERIOR?1:e===P.EXTERIOR&&i===P.INTERIOR?-1:0},nn.convertSegStrings=function(t){for(var e=new me,i=new Mt;t.hasNext();){var n=t.next(),r=e.createLineString(n.getCoordinates());i.add(r)}return e.buildGeometry(i)};var rn=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];this._noder=i,this._scaleFactor=n,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};rn.prototype.rescale=function(){if(O(arguments[0],xt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],n=0;n<i.length;n++)i[n].x=i[n].x/this._scaleFactor+this._offsetX,i[n].y=i[n].y/this._scaleFactor+this._offsetY;2===i.length&&i[0].equals2D(i[1])&&q.out.println(i)}},rn.prototype.scale=function(){if(O(arguments[0],xt)){for(var t=arguments[0],e=new Mt,i=t.iterator();i.hasNext();){var n=i.next();e.add(new fi(this.scale(n.getCoordinates()),n.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new E(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return Ct.removeRepeatedPoints(o)}},rn.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},rn.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},rn.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},rn.prototype.interfaces_=function(){return[vi]},rn.prototype.getClass=function(){return rn};var on=function(){this._li=new rt,this._segStrings=null;var t=arguments[0];this._segStrings=t},sn={fact:{configurable:!0}};on.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var i=arguments[0],n=arguments[1].iterator();n.hasNext();)for(var r=n.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(i))throw new Q("found endpt/interior pt intersection at index "+o+" :pt "+i)},on.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),i=this._segStrings.iterator();i.hasNext();){var n=i.next();this.checkInteriorIntersections(e,n)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),h=0;h<s.length-1;h++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(r,h,o,l);else if(4===arguments.length){var u=arguments[0],c=arguments[1],p=arguments[2],f=arguments[3];if(u===p&&c===f)return null;var d=u.getCoordinates()[c],g=u.getCoordinates()[c+1],y=p.getCoordinates()[f],m=p.getCoordinates()[f+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new Q("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},on.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},on.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var i=arguments[0].getCoordinates(),n=0;n<i.length-2;n++)this.checkCollapse(i[n],i[n+1],i[n+2])},on.prototype.hasInteriorIntersection=function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++){var r=t.getIntersection(n);if(!r.equals(e)&&!r.equals(i))return!0}return!1},on.prototype.checkCollapse=function(t,e,i){if(t.equals(i))throw new Q("found non-noded collapse at "+on.fact.createLineString([t,e,i]))},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on},sn.fact.get=function(){return new me},Object.defineProperties(on,sn);var an=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=i,e<=0)throw new _("Scale factor must be non-zero");1!==e&&(this._pt=new E(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new E,this._p1Scaled=new E),this.initCorners(this._pt)},hn={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};an.prototype.intersectsScaled=function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<i||this._minx>n||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},an.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new E(this._maxx,this._maxy),this._corner[1]=new E(this._minx,this._maxy),this._corner[2]=new E(this._minx,this._miny),this._corner[3]=new E(this._maxx,this._miny)},an.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},an.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},an.prototype.getCoordinate=function(){return this._originalPt},an.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},an.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=an.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Y(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},an.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},an.prototype.intersectsToleranceSquare=function(t,e){var i=!1,n=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!i||!n)||!!t.equals(this._pt)||!!e.equals(this._pt))))},an.prototype.addSnappedNode=function(t,e){var i=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(i,n)&&(t.addIntersection(this.getCoordinate(),e),!0)},an.prototype.interfaces_=function(){return[]},an.prototype.getClass=function(){return an},hn.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(an,hn);var ln=function(){this.tempEnv1=new Y,this.selectedSegment=new di};ln.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln};var un=function(){this._index=null;var t=arguments[0];this._index=t},cn={HotPixelSnapAction:{configurable:!0}};un.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2],r=e.getSafeEnvelope(),o=new pn(e,i,n);return this._index.query(r,{interfaces_:function(){return[Ze]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},cn.HotPixelSnapAction.get=function(){return pn},Object.defineProperties(un,cn);var pn=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],i=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=i,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],i=arguments[1],n=e.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&i===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ln),fn=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Mt};fn.prototype.processIntersections=function(t,e,i,n){if(t===i&&e===n)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var h=0;h<this._li.getIntersectionNum();h++)this._interiorIntersections.add(this._li.getIntersection(h));t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)}},fn.prototype.isDone=function(){return!1},fn.prototype.getInteriorIntersections=function(){return this._interiorIntersections},fn.prototype.interfaces_=function(){return[Hi]},fn.prototype.getClass=function(){return fn};var dn=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rt,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dn.prototype.checkCorrectness=function(t){var e=fi.getNodedSubstrings(t),i=new on(e);try{i.checkValid()}catch(t){if(!(t instanceof G))throw t;t.printStackTrace()}},dn.prototype.getNodedSubstrings=function(){return fi.getNodedSubstrings(this._nodedSegStrings)},dn.prototype.snapRound=function(t,e){var i=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)},dn.prototype.findInteriorIntersections=function(t,e){var i=new fn(e);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(t),i.getInteriorIntersections()},dn.prototype.computeVertexSnaps=function(){if(O(arguments[0],xt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof fi)for(var i=arguments[0],n=i.getCoordinates(),r=0;r<n.length;r++){var o=new an(n[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,i,r)&&i.addIntersection(n[r],r)}},dn.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new bi,this._pointSnapper=new un(this._noder.getIndex()),this.snapRound(t,this._li)},dn.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=new an(i,this._scaleFactor,this._li);this._pointSnapper.snap(n)}},dn.prototype.interfaces_=function(){return[vi]},dn.prototype.getClass=function(){return dn};var gn=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Mi,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._argGeom=e,this._bufParams=i}},yn={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gn.prototype.bufferFixedPrecision=function(t){var e=new rn(new dn(new fe(1)),t.getScale()),i=new nn(this._bufParams);i.setWorkingPrecisionModel(t),i.setNoder(e),this._resultGeometry=i.buffer(this._argGeom,this._distance)},gn.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gn.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Pe))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var i=arguments[0],n=gn.precisionScaleFactor(this._argGeom,this._distance,i),r=new fe(n);this.bufferFixedPrecision(r)}},gn.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gn.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gn.prototype.bufferOriginalPrecision=function(){try{var t=new nn(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Q))throw t;this._saveException=t}},gn.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gn.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gn.prototype.interfaces_=function(){return[]},gn.prototype.getClass=function(){return gn},gn.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new gn(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ut&&"number"==typeof arguments[1]){var i=arguments[0],n=arguments[1],r=arguments[2],o=new gn(i);return o.setQuadrantSegments(r),o.getResultGeometry(n)}if(arguments[2]instanceof Mi&&arguments[0]instanceof ut&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],h=arguments[2];return new gn(s,h).getResultGeometry(a)}}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],p=arguments[3],f=new gn(l);return f.setQuadrantSegments(c),f.setEndCapStyle(p),f.getResultGeometry(u)}},gn.precisionScaleFactor=function(t,e,i){var n=t.getEnvelopeInternal(),r=N.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(e>0?e:0),o=i-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},yn.CAP_ROUND.get=function(){return Mi.CAP_ROUND},yn.CAP_BUTT.get=function(){return Mi.CAP_FLAT},yn.CAP_FLAT.get=function(){return Mi.CAP_FLAT},yn.CAP_SQUARE.get=function(){return Mi.CAP_SQUARE},yn.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gn,yn);var mn=function(){this._pt=[new E,new E],this._distance=v.NaN,this._isNull=!0};mn.prototype.getCoordinates=function(){return this._pt},mn.prototype.getCoordinate=function(t){return this._pt[t]},mn.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var n=e.distance(i);n<this._distance&&this.initialize(e,i,n)}},mn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},mn.prototype.getDistance=function(){return this._distance},mn.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var n=e.distance(i);n>this._distance&&this.initialize(e,i,n)}},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var _n=function(){};_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.computeDistance=function(){if(arguments[2]instanceof mn&&arguments[0]instanceof Zt&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],i=arguments[2],n=t.getCoordinates(),r=new di,o=0;o<n.length-1;o++){r.setCoordinates(n[o],n[o+1]);var s=r.closestPoint(e);i.setMinimum(s,e)}else if(arguments[2]instanceof mn&&arguments[0]instanceof Qt&&arguments[1]instanceof E){var a=arguments[0],h=arguments[1],l=arguments[2];_n.computeDistance(a.getExteriorRing(),h,l);for(var u=0;u<a.getNumInteriorRing();u++)_n.computeDistance(a.getInteriorRingN(u),h,l)}else if(arguments[2]instanceof mn&&arguments[0]instanceof ut&&arguments[1]instanceof E){var c=arguments[0],p=arguments[1],f=arguments[2];if(c instanceof Zt)_n.computeDistance(c,p,f);else if(c instanceof Qt)_n.computeDistance(c,p,f);else if(c instanceof Gt)for(var d=c,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);_n.computeDistance(y,p,f)}else f.setMinimum(c.getCoordinate(),p)}else if(arguments[2]instanceof mn&&arguments[0]instanceof di&&arguments[1]instanceof E){var m=arguments[0],_=arguments[1],v=arguments[2],x=m.closestPoint(_);v.setMinimum(x,_)}};var vn=function(t){this._maxPtDist=new mn,this._inputGeom=t||null},xn={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vn.prototype.computeMaxMidpointDistance=function(t){var e=new wn(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vn.prototype.computeMaxVertexDistance=function(t){var e=new bn(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vn.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vn.prototype.getDistancePoints=function(){return this._maxPtDist},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn},xn.MaxPointDistanceFilter.get=function(){return bn},xn.MaxMidpointDistanceFilter.get=function(){return wn},Object.defineProperties(vn,xn);var bn=function(t){this._maxPtDist=new mn,this._minPtDist=new mn,this._geom=t||null};bn.prototype.filter=function(t){this._minPtDist.initialize(),_n.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bn.prototype.getMaxPointDistance=function(){return this._maxPtDist},bn.prototype.interfaces_=function(){return[ft]},bn.prototype.getClass=function(){return bn};var wn=function(t){this._maxPtDist=new mn,this._minPtDist=new mn,this._geom=t||null};wn.prototype.filter=function(t,e){if(0===e)return null;var i=t.getCoordinate(e-1),n=t.getCoordinate(e),r=new E((i.x+n.x)/2,(i.y+n.y)/2);this._minPtDist.initialize(),_n.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wn.prototype.isDone=function(){return!1},wn.prototype.isGeometryChanged=function(){return!1},wn.prototype.getMaxPointDistance=function(){return this._maxPtDist},wn.prototype.interfaces_=function(){return[Ut]},wn.prototype.getClass=function(){return wn};var Mn=function(t){this._comps=t||null};Mn.prototype.filter=function(t){t instanceof Qt&&this._comps.add(t)},Mn.prototype.interfaces_=function(){return[jt]},Mn.prototype.getClass=function(){return Mn},Mn.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Mn.getPolygons(t,new Mt)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof Qt?i.add(e):e instanceof Gt&&e.apply(new Mn(i)),i}};var En=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._lines=e,this._isForcedToLineString=i}};En.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Zt&&this._lines.add(t)},En.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},En.prototype.interfaces_=function(){return[lt]},En.prototype.getClass=function(){return En},En.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(En.getLines(t))}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().buildGeometry(En.getLines(e,i))}},En.getLines=function(){if(1===arguments.length){var t=arguments[0];return En.getLines(t,!1)}if(2===arguments.length){if(O(arguments[0],xt)&&O(arguments[1],xt)){for(var e=arguments[0],i=arguments[1],n=e.iterator();n.hasNext();){var r=n.next();En.getLines(r,i)}return i}if(arguments[0]instanceof ut&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Mt;return o.apply(new En(a,s)),a}if(arguments[0]instanceof ut&&O(arguments[1],xt)){var h=arguments[0],l=arguments[1];return h instanceof Zt?l.add(h):h.apply(new En(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&O(arguments[0],xt)&&O(arguments[1],xt)){for(var u=arguments[0],c=arguments[1],p=arguments[2],f=u.iterator();f.hasNext();){var d=f.next();En.getLines(d,c,p)}return c}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ut&&O(arguments[1],xt)){var g=arguments[0],y=arguments[1],m=arguments[2];return g.apply(new En(y,m)),y}}};var Sn=function(){if(this._boundaryRule=dt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new _("Rule must be non-null");this._boundaryRule=t}};Sn.prototype.locateInternal=function(){if(arguments[0]instanceof E&&arguments[1]instanceof Qt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return P.EXTERIOR;var i=e.getExteriorRing(),n=this.locateInPolygonRing(t,i);if(n===P.EXTERIOR)return P.EXTERIOR;if(n===P.BOUNDARY)return P.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===P.INTERIOR)return P.EXTERIOR;if(s===P.BOUNDARY)return P.BOUNDARY}return P.INTERIOR}if(arguments[0]instanceof E&&arguments[1]instanceof Zt){var a=arguments[0],h=arguments[1];if(!h.getEnvelopeInternal().intersects(a))return P.EXTERIOR;var l=h.getCoordinates();return h.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?at.isOnLine(a,l)?P.INTERIOR:P.EXTERIOR:P.BOUNDARY}if(arguments[0]instanceof E&&arguments[1]instanceof Jt){var u=arguments[0];return arguments[1].getCoordinate().equals2D(u)?P.INTERIOR:P.EXTERIOR}},Sn.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):P.EXTERIOR},Sn.prototype.intersects=function(t,e){return this.locate(t,e)!==P.EXTERIOR},Sn.prototype.updateLocationInfo=function(t){t===P.INTERIOR&&(this._isIn=!0),t===P.BOUNDARY&&this._numBoundaries++},Sn.prototype.computeLocation=function(t,e){if(e instanceof Jt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Zt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Qt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Vt)for(var i=e,n=0;n<i.getNumGeometries();n++){var r=i.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof ie)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof Gt)for(var h=new ji(e);h.hasNext();){var l=h.next();l!==e&&this.computeLocation(t,l)}},Sn.prototype.locate=function(t,e){return e.isEmpty()?P.EXTERIOR:e instanceof Zt||e instanceof Qt?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?P.BOUNDARY:this._numBoundaries>0||this._isIn?P.INTERIOR:P.EXTERIOR)},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn};var Cn=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],i=arguments[1];t.call(this,e,t.INSIDE_AREA,i)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._component=n,this._segIndex=r,this._pt=o}},In={INSIDE_AREA:{configurable:!0}};Cn.prototype.isInsideArea=function(){return this._segIndex===Cn.INSIDE_AREA},Cn.prototype.getCoordinate=function(){return this._pt},Cn.prototype.getGeometryComponent=function(){return this._component},Cn.prototype.getSegmentIndex=function(){return this._segIndex},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},In.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cn,In);var Pn=function(t){this._pts=t||null};Pn.prototype.filter=function(t){t instanceof Jt&&this._pts.add(t)},Pn.prototype.interfaces_=function(){return[jt]},Pn.prototype.getClass=function(){return Pn},Pn.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jt?Qe.singletonList(t):Pn.getPoints(t,new Mt)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof Jt?i.add(e):e instanceof Gt&&e.apply(new Pn(i)),i}};var Ln=function(){this._locations=null;var t=arguments[0];this._locations=t};Ln.prototype.filter=function(t){(t instanceof Jt||t instanceof Zt||t instanceof Qt)&&this._locations.add(new Cn(t,0,t.getCoordinate()))},Ln.prototype.interfaces_=function(){return[jt]},Ln.prototype.getClass=function(){return Ln},Ln.getLocations=function(t){var e=new Mt;return t.apply(new Ln(e)),e};var On=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Sn,this._minDistanceLocation=null,this._minDistance=v.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=n,this._terminateDistance=r}};On.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=1-e,r=Mn.getPolygons(this._geom[e]);if(r.size()>0){var o=Ln.getLocations(this._geom[n]);if(this.computeContainmentDistance(o,r,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=i[0],this._minDistanceLocation[e]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&O(arguments[0],wt)&&O(arguments[1],wt)){for(var s=arguments[0],a=arguments[1],h=arguments[2],l=0;l<s.size();l++)for(var u=s.get(l),c=0;c<a.size();c++)if(this.computeContainmentDistance(u,a.get(c),h),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cn&&arguments[1]instanceof Qt){var p=arguments[0],f=arguments[1],d=arguments[2],g=p.getCoordinate();if(P.EXTERIOR!==this._ptLocator.locate(g,f))return this._minDistance=0,d[0]=p,d[1]=new Cn(f,g),null}},On.prototype.computeMinDistanceLinesPoints=function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,i),this._minDistance<=this._terminateDistance)return null}},On.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=En.getLines(this._geom[0]),i=En.getLines(this._geom[1]),n=Pn.getPoints(this._geom[0]),r=Pn.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,n,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,r,t),void this.updateMinDistance(t,!1))))},On.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},On.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},On.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},On.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Zt&&arguments[1]instanceof Jt){var t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var n=t.getCoordinates(),r=e.getCoordinate(),o=0;o<n.length-1;o++){var s=at.distancePointLine(r,n[o],n[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new di(n[o],n[o+1]).closestPoint(r);i[0]=new Cn(t,o,a),i[1]=new Cn(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Zt&&arguments[1]instanceof Zt){var h=arguments[0],l=arguments[1],u=arguments[2];if(h.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var c=h.getCoordinates(),p=l.getCoordinates(),f=0;f<c.length-1;f++)for(var d=0;d<p.length-1;d++){var g=at.distanceLineLine(c[f],c[f+1],p[d],p[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new di(c[f],c[f+1]),m=new di(p[d],p[d+1]),_=y.closestPoints(m);u[0]=new Cn(h,f,_[0]),u[1]=new Cn(l,d,_[1])}if(this._minDistance<=this._terminateDistance)return null}}},On.prototype.computeMinDistancePoints=function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,i[0]=new Cn(r,0,r.getCoordinate()),i[1]=new Cn(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},On.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new _("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},On.prototype.computeMinDistanceLines=function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,i),this._minDistance<=this._terminateDistance)return null}},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},On.distance=function(t,e){return new On(t,e).distance()},On.isWithinDistance=function(t,e,i){return new On(t,e,i).distance()<=i},On.nearestPoints=function(t,e){return new On(t,e).nearestPoints()};var Nn=function(){this._pt=[new E,new E],this._distance=v.NaN,this._isNull=!0};Nn.prototype.getCoordinates=function(){return this._pt},Nn.prototype.getCoordinate=function(t){return this._pt[t]},Nn.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var n=e.distance(i);n<this._distance&&this.initialize(e,i,n)}},Nn.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this._pt[0].setCoordinate(i),this._pt[1].setCoordinate(n),this._distance=r,this._isNull=!1}},Nn.prototype.toString=function(){return K.toLineString(this._pt[0],this._pt[1])},Nn.prototype.getDistance=function(){return this._distance},Nn.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this._isNull)return this.initialize(e,i),null;var n=e.distance(i);n>this._distance&&this.initialize(e,i,n)}},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn};var Tn=function(){};Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.computeDistance=function(){if(arguments[2]instanceof Nn&&arguments[0]instanceof Zt&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],i=arguments[2],n=new di,r=t.getCoordinates(),o=0;o<r.length-1;o++){n.setCoordinates(r[o],r[o+1]);var s=n.closestPoint(e);i.setMinimum(s,e)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof Qt&&arguments[1]instanceof E){var a=arguments[0],h=arguments[1],l=arguments[2];Tn.computeDistance(a.getExteriorRing(),h,l);for(var u=0;u<a.getNumInteriorRing();u++)Tn.computeDistance(a.getInteriorRingN(u),h,l)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof ut&&arguments[1]instanceof E){var c=arguments[0],p=arguments[1],f=arguments[2];if(c instanceof Zt)Tn.computeDistance(c,p,f);else if(c instanceof Qt)Tn.computeDistance(c,p,f);else if(c instanceof Gt)for(var d=c,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Tn.computeDistance(y,p,f)}else f.setMinimum(c.getCoordinate(),p)}else if(arguments[2]instanceof Nn&&arguments[0]instanceof di&&arguments[1]instanceof E){var m=arguments[0],_=arguments[1],v=arguments[2],x=m.closestPoint(_);v.setMinimum(x,_)}};var An=function(){this._g0=null,this._g1=null,this._ptDist=new Nn,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Rn={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};An.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},An.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new _("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},An.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},An.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},An.prototype.computeOrientedDistance=function(t,e,i){var n=new Dn(e);if(t.apply(n),i.setMaximum(n.getMaxPointDistance()),this._densifyFrac>0){var r=new kn(e,this._densifyFrac);t.apply(r),i.setMaximum(r.getMaxPointDistance())}},An.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},An.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new An(t,e).distance()}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=new An(i,n);return o.setDensifyFraction(r),o.distance()}},Rn.MaxPointDistanceFilter.get=function(){return Dn},Rn.MaxDensifiedByFractionDistanceFilter.get=function(){return kn},Object.defineProperties(An,Rn);var Dn=function(){this._maxPtDist=new Nn,this._minPtDist=new Nn,this._euclideanDist=new Tn,this._geom=null;var t=arguments[0];this._geom=t};Dn.prototype.filter=function(t){this._minPtDist.initialize(),Tn.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Dn.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dn.prototype.interfaces_=function(){return[ft]},Dn.prototype.getClass=function(){return Dn};var kn=function(){this._maxPtDist=new Nn,this._minPtDist=new Nn,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};kn.prototype.filter=function(t,e){if(0===e)return null;for(var i=t.getCoordinate(e-1),n=t.getCoordinate(e),r=(n.x-i.x)/this._numSubSegs,o=(n.y-i.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=i.x+s*r,h=i.y+s*o,l=new E(a,h);this._minPtDist.initialize(),Tn.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},kn.prototype.isDone=function(){return!1},kn.prototype.isGeometryChanged=function(){return!1},kn.prototype.getMaxPointDistance=function(){return this._maxPtDist},kn.prototype.interfaces_=function(){return[Ut]},kn.prototype.getClass=function(){return kn};var Fn=function(t,e,i){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=i||null},Bn={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Fn.prototype.checkMaximumDistance=function(t,e,i){var n=new An(e,t);if(n.setDensifyFraction(.25),this._maxDistanceFound=n.orientedDistance(),this._maxDistanceFound>i){this._isValid=!1;var r=n.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+K.toLineString(r[0],r[1])+")"}},Fn.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Fn.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Fn.VERBOSE&&q.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Fn.prototype.checkNegativeValid=function(){if(!(this._input instanceof Qt||this._input instanceof ie||this._input instanceof Gt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Fn.prototype.getErrorIndicator=function(){return this._errorIndicator},Fn.prototype.checkMinimumDistance=function(t,e,i){var n=new On(t,e,i);if(this._minDistanceFound=n.distance(),this._minDistanceFound<i){this._isValid=!1;var r=n.nearestPoints();this._errorLocation=n.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+K.toLineString(r[0],r[1])+" )"}},Fn.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Fn.prototype.getErrorLocation=function(){return this._errorLocation},Fn.prototype.getPolygonLines=function(t){for(var e=new Mt,i=new En(e),n=Mn.getPolygons(t).iterator();n.hasNext();)n.next().apply(i);return t.getFactory().buildGeometry(e)},Fn.prototype.getErrorMessage=function(){return this._errMsg},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Bn.VERBOSE.get=function(){return!1},Bn.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fn,Bn);var zn=function(t,e,i){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=i||null},jn={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};zn.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},zn.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*zn.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Y(this._input.getEnvelopeInternal());e.expandBy(this._distance);var i=new Y(this._result.getEnvelopeInternal());i.expandBy(t),i.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(i)),this.report("Envelope")},zn.prototype.checkDistance=function(){var t=new Fn(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},zn.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},zn.prototype.checkPolygonal=function(){this._result instanceof Qt||this._result instanceof ie||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},zn.prototype.getErrorIndicator=function(){return this._errorIndicator},zn.prototype.getErrorLocation=function(){return this._errorLocation},zn.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},zn.prototype.report=function(t){if(!zn.VERBOSE)return null;q.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},zn.prototype.getErrorMessage=function(){return this._errorMsg},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn},zn.isValidMsg=function(t,e,i){var n=new zn(t,e,i);return n.isValid()?null:n.getErrorMessage()},zn.isValid=function(t,e,i){return!!new zn(t,e,i).isValid()},jn.VERBOSE.get=function(){return!1},jn.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(zn,jn);var Un=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Un.prototype.getCoordinates=function(){return this._pts},Un.prototype.size=function(){return this._pts.length},Un.prototype.getCoordinate=function(t){return this._pts[t]},Un.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Un.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:ui.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Un.prototype.setData=function(t){this._data=t},Un.prototype.getData=function(){return this._data},Un.prototype.toString=function(){return K.toLineString(new he(this._pts))},Un.prototype.interfaces_=function(){return[ci]},Un.prototype.getClass=function(){return Un};var Gn=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Mt,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Gn.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Gn.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Gn.prototype.getIntersectionSegments=function(){return this._intSegments},Gn.prototype.count=function(){return this._intersectionCount},Gn.prototype.getIntersections=function(){return this._intersections},Gn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Gn.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Gn.prototype.processIntersections=function(t,e,i,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===i&&e===n)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(i,n))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Gn.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Gn.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Gn.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Gn.prototype.interfaces_=function(){return[Hi]},Gn.prototype.getClass=function(){return Gn},Gn.createAllIntersectionsFinder=function(t){var e=new Gn(t);return e.setFindAllIntersections(!0),e},Gn.createAnyIntersectionFinder=function(t){return new Gn(t)},Gn.createIntersectionCounter=function(t){var e=new Gn(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Vn=function(){this._li=new rt,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Vn.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Vn.prototype.getIntersections=function(){return this._segInt.getIntersections()},Vn.prototype.isValid=function(){return this.execute(),this._isValid},Vn.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Vn.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Gn(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new bi;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Vn.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Pe(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Vn.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+K.toLineString(t[0],t[1])+" and "+K.toLineString(t[2],t[3])},Vn.prototype.interfaces_=function(){return[]},Vn.prototype.getClass=function(){return Vn},Vn.computeIntersections=function(t){var e=new Vn(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var qn=function t(){this._nv=null;var e=arguments[0];this._nv=new Vn(t.toSegmentStrings(e))};qn.prototype.checkValid=function(){this._nv.checkValid()},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn},qn.toSegmentStrings=function(t){for(var e=new Mt,i=t.iterator();i.hasNext();){var n=i.next();e.add(new Un(n.getCoordinates(),n))}return e},qn.checkValid=function(t){new qn(t).checkValid()};var Wn=function(t){this._mapOp=t};Wn.prototype.map=function(t){for(var e=new Mt,i=0;i<t.getNumGeometries();i++){var n=this._mapOp.map(t.getGeometryN(i));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection(me.toGeometryArray(e))},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn},Wn.map=function(t,e){return new Wn(e).map(t)};var Yn=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Mt,this._resultLineList=new Mt;var t=arguments[0],e=arguments[1],i=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=i};Yn.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next();this.collectLineEdge(i,t,this._lineEdgesList),this.collectBoundaryTouchEdge(i,t,this._lineEdgesList)}},Yn.prototype.labelIsolatedLine=function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,i)},Yn.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Yn.prototype.collectLineEdge=function(t,e,i){var n=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Cr.isResultOfOp(n,e)||r.isCovered()||(i.add(r),t.setVisitedEdge(!0)))},Yn.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next(),n=i.getEdge();if(i.isLineEdge()&&!n.isCoveredSet()){var r=this._op.isCoveredByA(i.getCoordinate());n.setCovered(r)}}},Yn.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getLabel();i.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(i,0):this.labelIsolatedLine(i,1))}},Yn.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var i=e.next(),n=this._geometryFactory.createLineString(i.getCoordinates());this._resultLineList.add(n),i.setInResult(!0)}},Yn.prototype.collectBoundaryTouchEdge=function(t,e,i){var n=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Cr.isResultOfOp(n,e)&&e===Cr.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))))},Yn.prototype.interfaces_=function(){return[]},Yn.prototype.getClass=function(){return Yn};var Hn=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Mt;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hn.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var i=this._geometryFactory.createPoint(e);this._resultPointList.add(i)}},Hn.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var i=e.next();if(!i.isInResult()&&!i.isIncidentEdgeInResult()&&(0===i.getEdges().getDegree()||t===Cr.INTERSECTION)){var n=i.getLabel();Cr.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(i)}}},Hn.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Xn=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xn.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Xn.prototype.transformPolygon=function(t,e){var i=!0,n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof ee&&!n.isEmpty()||(i=!1);for(var r=new Mt,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(i=!1),r.add(s))}if(i)return this._factory.createPolygon(n,r.toArray([]));var a=new Mt;return null!==n&&a.add(n),a.addAll(r),this._factory.buildGeometry(a)},Xn.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Xn.prototype.getInputGeometry=function(){return this._inputGeom},Xn.prototype.transformMultiLineString=function(t,e){for(var i=new Mt,n=0;n<t.getNumGeometries();n++){var r=this.transformLineString(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},Xn.prototype.transformCoordinates=function(t,e){return this.copy(t)},Xn.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Xn.prototype.transformMultiPoint=function(t,e){for(var i=new Mt,n=0;n<t.getNumGeometries();n++){var r=this.transformPoint(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},Xn.prototype.transformMultiPolygon=function(t,e){for(var i=new Mt,n=0;n<t.getNumGeometries();n++){var r=this.transformPolygon(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},Xn.prototype.copy=function(t){return t.copy()},Xn.prototype.transformGeometryCollection=function(t,e){for(var i=new Mt,n=0;n<t.getNumGeometries();n++){var r=this.transform(t.getGeometryN(n));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||i.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(me.toGeometryArray(i)):this._factory.buildGeometry(i)},Xn.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Zt)return this.transformLineString(t,null);if(t instanceof Vt)return this.transformMultiLineString(t,null);if(t instanceof Qt)return this.transformPolygon(t,null);if(t instanceof ie)return this.transformMultiPolygon(t,null);if(t instanceof Gt)return this.transformGeometryCollection(t,null);throw new _("Unknown Geometry subtype: "+t.getClass().getName())},Xn.prototype.transformLinearRing=function(t,e){var i=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===i)return this._factory.createLinearRing(null);var n=i.size();return n>0&&n<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Zn=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new di,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Zt&&"number"==typeof arguments[1]){var e=arguments[0],i=arguments[1];t.call(this,e.getCoordinates(),i)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Zn.prototype.snapVertices=function(t,e){for(var i=this._isClosed?t.size()-1:t.size(),n=0;n<i;n++){var r=t.get(n),o=this.findSnapForVertex(r,e);null!==o&&(t.set(n,new E(o)),0===n&&this._isClosed&&t.set(t.size()-1,new E(o)))}},Zn.prototype.findSnapForVertex=function(t,e){for(var i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<this._snapTolerance)return e[i]}return null},Zn.prototype.snapTo=function(t){var e=new St(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Zn.prototype.snapSegments=function(t,e){if(0===e.length)return null;var i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(var n=0;n<i;n++){var r=e[n],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new E(r),!1)}},Zn.prototype.findSegmentIndexToSnap=function(t,e){for(var i=v.MAX_VALUE,n=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<i&&(i=o,n=r)}return n},Zn.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var $n=function(t){this._srcGeom=t||null},Jn={SNAP_PRECISION_FACTOR:{configurable:!0}};$n.prototype.snapTo=function(t,e){var i=this.extractTargetCoordinates(t);return new Kn(e,i).transform(this._srcGeom)},$n.prototype.snapToSelf=function(t,e){var i=this.extractTargetCoordinates(this._srcGeom),n=new Kn(t,i,!0).transform(this._srcGeom),r=n;return e&&O(r,Kt)&&(r=n.buffer(0)),r},$n.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},$n.prototype.extractTargetCoordinates=function(t){for(var e=new f,i=t.getCoordinates(),n=0;n<i.length;n++)e.add(i[n]);return e.toArray(new Array(0).fill(null))},$n.prototype.computeMinimumSegmentLength=function(t){for(var e=v.MAX_VALUE,i=0;i<t.length-1;i++){var n=t[i].distance(t[i+1]);n<e&&(e=n)}return e},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n},$n.snap=function(t,e,i){var n=new Array(2).fill(null),r=new $n(t);n[0]=r.snapTo(e,i);var o=new $n(e);return n[1]=o.snapTo(n[0],i),n},$n.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=$n.computeSizeBasedSnapTolerance(t),i=t.getPrecisionModel();if(i.getType()===fe.FIXED){var n=1/i.getScale()*2/1.415;n>e&&(e=n)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min($n.computeOverlaySnapTolerance(r),$n.computeOverlaySnapTolerance(o))}},$n.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*$n.SNAP_PRECISION_FACTOR},$n.snapToSelf=function(t,e,i){return new $n(t).snapToSelf(e,i)},Jn.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties($n,Jn);var Kn=function(t){function e(e,i,n){t.call(this),this._snapTolerance=e||null,this._snapPts=i||null,this._isSelfSnap=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var i=new Zn(t,this._snapTolerance);return i.setAllowSnappingToSourceVertices(this._isSelfSnap),i.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var i=t.toCoordinateArray(),n=this.snapLine(i,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xn),Qn=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qn.prototype.getCommon=function(){return v.longBitsToDouble(this._commonBits)},Qn.prototype.add=function(t){var e=v.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Qn.signExpBits(this._commonBits),this._isFirst=!1,null):Qn.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qn.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Qn.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qn.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=v.longBitsToDouble(t),i="0000000000000000000000000000000000000000000000000000000000000000"+v.toBinaryString(t),n=i.substring(i.length-64);return n.substring(0,1)+"  "+n.substring(1,12)+"(exp) "+n.substring(12)+" [ "+e+" ]"}},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Qn.signExpBits=function(t){return t>>52},Qn.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Qn.numCommonMostSigMantissaBits=function(t,e){for(var i=0,n=52;n>=0;n--){if(Qn.getBit(t,n)!==Qn.getBit(e,n))return i;i++}return 52};var tr=function(){this._commonCoord=null,this._ccFilter=new ir},er={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};tr.prototype.addCommonBits=function(t){var e=new nr(this._commonCoord);t.apply(e),t.geometryChanged()},tr.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new E(this._commonCoord);e.x=-e.x,e.y=-e.y;var i=new nr(e);return t.apply(i),t.geometryChanged(),t},tr.prototype.getCommonCoordinate=function(){return this._commonCoord},tr.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},er.CommonCoordinateFilter.get=function(){return ir},er.Translater.get=function(){return nr},Object.defineProperties(tr,er);var ir=function(){this._commonBitsX=new Qn,this._commonBitsY=new Qn};ir.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ir.prototype.getCommonCoordinate=function(){return new E(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ir.prototype.interfaces_=function(){return[ft]},ir.prototype.getClass=function(){return ir};var nr=function(){this.trans=null;var t=arguments[0];this.trans=t};nr.prototype.filter=function(t,e){var i=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,i),t.setOrdinate(e,1,n)},nr.prototype.isDone=function(){return!1},nr.prototype.isGeometryChanged=function(){return!0},nr.prototype.interfaces_=function(){return[Ut]},nr.prototype.getClass=function(){return nr};var rr=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rr.prototype.selfSnap=function(t){return new $n(t).snapTo(t,this._snapTolerance)},rr.prototype.removeCommonBits=function(t){this._cbr=new tr,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rr.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rr.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),i=Cr.overlayOp(e[0],e[1],t);return this.prepareResult(i)},rr.prototype.checkValid=function(t){t.isValid()||q.out.println("Snapped geometry is invalid")},rr.prototype.computeSnapTolerance=function(){this._snapTolerance=$n.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rr.prototype.snap=function(t){var e=this.removeCommonBits(t);return $n.snap(e[0],e[1],this._snapTolerance)},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.overlayOp=function(t,e,i){return new rr(t,e).getResultGeometry(i)},rr.union=function(t,e){return rr.overlayOp(t,e,Cr.UNION)},rr.intersection=function(t,e){return rr.overlayOp(t,e,Cr.INTERSECTION)},rr.symDifference=function(t,e){return rr.overlayOp(t,e,Cr.SYMDIFFERENCE)},rr.difference=function(t,e){return rr.overlayOp(t,e,Cr.DIFFERENCE)};var or=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};or.prototype.getResultGeometry=function(t){var e=null,i=!1,n=null;try{e=Cr.overlayOp(this._geom[0],this._geom[1],t),i=!0}catch(t){if(!(t instanceof Q))throw t;n=t}if(!i)try{e=rr.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Q?n:t}return e},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},or.overlayOp=function(t,e,i){return new or(t,e).getResultGeometry(i)},or.union=function(t,e){return or.overlayOp(t,e,Cr.UNION)},or.intersection=function(t,e){return or.overlayOp(t,e,Cr.INTERSECTION)},or.symDifference=function(t,e){return or.overlayOp(t,e,Cr.SYMDIFFERENCE)},or.difference=function(t,e){return or.overlayOp(t,e,Cr.DIFFERENCE)};var sr=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sr.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr};var ar=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],i=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=i}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=n,this._xValue=r,this._obj=o}},hr={INSERT:{configurable:!0},DELETE:{configurable:!0}};ar.prototype.isDelete=function(){return this._eventType===ar.DELETE},ar.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ar.prototype.getObject=function(){return this._obj},ar.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ar.prototype.getInsertEvent=function(){return this._insertEvent},ar.prototype.isInsert=function(){return this._eventType===ar.INSERT},ar.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ar.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ar.prototype.interfaces_=function(){return[b]},ar.prototype.getClass=function(){return ar},hr.INSERT.get=function(){return 1},hr.DELETE.get=function(){return 2},Object.defineProperties(ar,hr);var lr=function(){};lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var ur=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=i};ur.prototype.isTrivialIntersection=function(t,e,i,n){if(t===i&&1===this._li.getIntersectionNum()){if(ur.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},ur.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ur.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},ur.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ur.prototype.isBoundaryPointInternal=function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next().getCoordinate();if(t.isIntersection(n))return!0}return!1},ur.prototype.hasProperIntersection=function(){return this._hasProper},ur.prototype.hasIntersection=function(){return this._hasIntersection},ur.prototype.isDone=function(){return this._isDone},ur.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},ur.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},ur.prototype.addIntersections=function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur},ur.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var cr=function(t){function e(){t.call(this),this.events=new Mt,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Qe.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var i=this.events.get(e);if(i.isInsert()&&this.processOverlaps(e,i.getDeleteEventIndex(),i,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ur&&O(arguments[0],wt)&&O(arguments[1],wt)){var n=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(n,n),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&O(arguments[0],wt)&&arguments[1]instanceof ur){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var i=t.getMonotoneChainEdge(),n=i.getStartIndexes(),r=0;r<n.length-1;r++){var o=new sr(i,r),s=new ar(e,i.getMinX(r),o);this.events.add(s),this.events.add(new ar(i.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,i,n){for(var r=i.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();i.isSameLabel(s)||(r.computeIntersections(a,n),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var i=arguments[0],n=arguments[1],r=i.iterator();r.hasNext();){var o=r.next();this.addEdge(o,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),pr=function(){this._min=v.POSITIVE_INFINITY,this._max=v.NEGATIVE_INFINITY},fr={NodeComparator:{configurable:!0}};pr.prototype.getMin=function(){return this._min},pr.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},pr.prototype.getMax=function(){return this._max},pr.prototype.toString=function(){return K.toLineString(new E(this._min,0),new E(this._max,0))},pr.prototype.interfaces_=function(){return[]},pr.prototype.getClass=function(){return pr},fr.NodeComparator.get=function(){return dr},Object.defineProperties(pr,fr);var dr=function(){};dr.prototype.compare=function(t,e){var i=t,n=e,r=(i._min+i._max)/2,o=(n._min+n._max)/2;return r<o?-1:r>o?1:0},dr.prototype.interfaces_=function(){return[M]},dr.prototype.getClass=function(){return dr};var gr=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],i=arguments[1],n=arguments[2];this._min=e,this._max=i,this._item=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,i){if(!this.intersects(t,e))return null;i.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pr),yr=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],i=arguments[1];this._node1=e,this._node2=i,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,i){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,i),null!==this._node2&&this._node2.query(t,e,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(pr),mr=function(){this._leaves=new Mt,this._root=null,this._level=0};mr.prototype.buildTree=function(){Qe.sort(this._leaves,new pr.NodeComparator);for(var t=this._leaves,e=null,i=new Mt;;){if(this.buildLevel(t,i),1===i.size())return i.get(0);e=t,t=i,i=e}},mr.prototype.insert=function(t,e,i){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gr(t,e,i))},mr.prototype.query=function(t,e,i){this.init(),this._root.query(t,e,i)},mr.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},mr.prototype.printNode=function(t){q.out.println(K.toLineString(new E(t._min,this._level),new E(t._max,this._level)))},mr.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},mr.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var i=0;i<t.size();i+=2){var n=t.get(i);if(null===(i+1<t.size()?t.get(i):null))e.add(n);else{var r=new yr(t.get(i),t.get(i+1));e.add(r)}}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var _r=function(){this._items=new Mt};_r.prototype.visitItem=function(t){this._items.add(t)},_r.prototype.getItems=function(){return this._items},_r.prototype.interfaces_=function(){return[Ze]},_r.prototype.getClass=function(){return _r};var vr=function(){this._index=null;var t=arguments[0];if(!O(t,Kt))throw new _("Argument must be Polygonal");this._index=new wr(t)},xr={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};vr.prototype.locate=function(t){var e=new st(t),i=new br(e);return this._index.query(t.y,t.y,i),e.getLocation()},vr.prototype.interfaces_=function(){return[zi]},vr.prototype.getClass=function(){return vr},xr.SegmentVisitor.get=function(){return br},xr.IntervalIndexedGeometry.get=function(){return wr},Object.defineProperties(vr,xr);var br=function(){this._counter=null;var t=arguments[0];this._counter=t};br.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},br.prototype.interfaces_=function(){return[Ze]},br.prototype.getClass=function(){return br};var wr=function(){this._index=new mr;var t=arguments[0];this.init(t)};wr.prototype.init=function(t){for(var e=En.getLines(t).iterator();e.hasNext();){var i=e.next().getCoordinates();this.addLine(i)}},wr.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var i=new di(t[e-1],t[e]),n=Math.min(i.p0.y,i.p1.y),r=Math.max(i.p0.y,i.p1.y);this._index.insert(n,r,i)}},wr.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new _r;return this._index.query(t,e,i),i.getItems()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._index.query(n,r,o)}},wr.prototype.interfaces_=function(){return[]},wr.prototype.getClass=function(){return wr};var Mr=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new pe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Sn,2===arguments.length){var e=arguments[0],i=arguments[1],n=dt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=i,this._boundaryNodeRule=n,null!==i&&this.add(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,i){var n=this._nodes.addNode(i).getLabel(),r=1;P.NONE,n.getLocation(t,Se.ON)===P.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);n.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=new ur(i,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ee||this._parentGeom instanceof Qt||this._parentGeom instanceof ie,h=n||!a;return s.computeIntersections(this._edges,o,h),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,i){var n=new ur(e,i,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,P.INTERIOR)}else if(arguments[0]instanceof E){var e=arguments[0];this.insertPoint(this._argIndex,e,P.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),P.EXTERIOR,P.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var i=t.getInteriorRingN(e);this.addPolygonRing(i,P.INTERIOR,P.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],P.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],P.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ct.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var i=new en(e,new Te(this._argIndex,P.INTERIOR));this._lineEdgeMap.put(t,i),this.insertEdge(i),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),i=0,n=t.iterator();n.hasNext();){var r=n.next();e[i++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,i){if(this.isBoundaryNode(t,e))return null;i===P.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,i)},e.prototype.addPolygonRing=function(t,e,i){if(t.isEmpty())return null;var n=Ct.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var r=e,o=i;at.isCCW(n)&&(r=i,o=e);var s=new en(n,new Te(this._argIndex,P.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,n[0],P.BOUNDARY)},e.prototype.insertPoint=function(t,e,i){var n=this._nodes.addNode(e),r=n.getLabel();null===r?n._label=new Te(t,i):r.setLocation(t,i)},e.prototype.createEdgeSetIntersector=function(){return new cr},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,n)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ie&&(this._useBoundaryDeterminationRule=!1),e instanceof Qt)this.addPolygon(e);else if(e instanceof Zt)this.addLineString(e);else if(e instanceof Jt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Vt)this.addCollection(e);else if(e instanceof ie)this.addCollection(e);else{if(!(e instanceof Gt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},e.prototype.locate=function(t){return O(this._parentGeom,Kt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new vr(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?P.BOUNDARY:P.INTERIOR},e}(qe),Er=function(){if(this._li=new rt,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Mr(0,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=dt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(i.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(i.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mr(0,e,n),this._arg[1]=new Mr(1,i,n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Mr(0,r,s),this._arg[1]=new Mr(1,o,s)}};Er.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Er.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Er.prototype.interfaces_=function(){return[]},Er.prototype.getClass=function(){return Er};var Sr=function(){};Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Sr.map=function(){if(arguments[0]instanceof ut&&O(arguments[1],Sr.MapOp)){for(var t=arguments[0],e=arguments[1],i=new Mt,n=0;n<t.getNumGeometries();n++){var r=e.map(t.getGeometryN(n));null!==r&&i.add(r)}return t.getFactory().buildGeometry(i)}if(O(arguments[0],xt)&&O(arguments[1],Sr.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Mt,h=o.iterator();h.hasNext();){var l=h.next(),u=s.map(l);null!==u&&a.add(u)}return a}},Sr.MapOp=function(){};var Cr=function(t){function e(){var e=arguments[0],i=arguments[1];t.call(this,e,i),this._ptLocator=new Sn,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Yi,this._resultPolyList=new Mt,this._resultLineList=new Mt,this._resultPointList=new Mt,this._graph=new qe(new qi),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Te(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(i),r.add(n),i.merge(n)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),i=e.getSym();e.isInResult()&&i.isInResult()&&(e.setInResult(!1),i.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,i,n,r){var o=new Mt;return o.addAll(t),o.addAll(i),o.addAll(n),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();if(this._ptLocator.locate(t,n)!==P.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Mt,e=this._edgeList.iterator();e.hasNext();){var i=e.next();i.isCollapsed()&&(e.remove(),t.add(i.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),i=e.getEdges().getLabel();e.getLabel().merge(i)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertUniqueEdge(i)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Mt;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),qn.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var i=new We(this._geomFact);i.add(this._graph),this._resultPolyList=i.getPolygons();var n=new Yn(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(t);var r=new Hn(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,i)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var i=e.next();this._graph.addNode(i.getCoordinate()).setLabel(t,i.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var i=this._graph.getEdgeEnds().iterator();i.hasNext();){var n=i.next(),r=n.getLabel();r.isArea()&&!n.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,Se.RIGHT),r.getLocation(1,Se.RIGHT),t)&&n.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),i=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(var r=0;r<2;r++)i.isNull(r)||!i.isArea()||n.isNull(r)||(0===n.getDelta(r)?i.toLine(r):(et.isTrue(!n.isNull(r,Se.LEFT),"depth of LEFT side has not been initialized"),i.setLocation(r,Se.LEFT,n.getLocation(r,Se.LEFT)),et.isTrue(!n.isNull(r,Se.RIGHT),"depth of RIGHT side has not been initialized"),i.setLocation(r,Se.RIGHT,n.getLocation(r,Se.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),i=e.getLabel();e.isIsolated()&&(i.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(i)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Er);Cr.overlayOp=function(t,e,i){return new Cr(t,e).getResultGeometry(i)},Cr.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Cr.createEmptyResult(Cr.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var i=e;return Wn.map(t,{interfaces_:function(){return[Sr.MapOp]},map:function(t){return t.intersection(i)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Cr.INTERSECTION)},Cr.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Cr.createEmptyResult(Cr.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Cr.SYMDIFFERENCE)},Cr.resultDimension=function(t,e,i){var n=e.getDimension(),r=i.getDimension(),o=-1;switch(t){case Cr.INTERSECTION:o=Math.min(n,r);break;case Cr.UNION:o=Math.max(n,r);break;case Cr.DIFFERENCE:o=n;break;case Cr.SYMDIFFERENCE:o=Math.max(n,r)}return o},Cr.createEmptyResult=function(t,e,i,n){var r=null;switch(Cr.resultDimension(t,e,i)){case-1:r=n.createGeometryCollection(new Array(0).fill(null));break;case 0:r=n.createPoint();break;case 1:r=n.createLineString();break;case 2:r=n.createPolygon()}return r},Cr.difference=function(t,e){return t.isEmpty()?Cr.createEmptyResult(Cr.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Cr.DIFFERENCE))},Cr.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=t.getLocation(0),n=t.getLocation(1);return Cr.isResultOfOp(i,n,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===P.BOUNDARY&&(r=P.INTERIOR),o===P.BOUNDARY&&(o=P.INTERIOR),s){case Cr.INTERSECTION:return r===P.INTERIOR&&o===P.INTERIOR;case Cr.UNION:return r===P.INTERIOR||o===P.INTERIOR;case Cr.DIFFERENCE:return r===P.INTERIOR&&o!==P.INTERIOR;case Cr.SYMDIFFERENCE:return r===P.INTERIOR&&o!==P.INTERIOR||r!==P.INTERIOR&&o===P.INTERIOR}return!1}},Cr.INTERSECTION=1,Cr.UNION=2,Cr.DIFFERENCE=3,Cr.SYMDIFFERENCE=4;var Ir=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Sn,this._seg=new di;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Ir.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var i=this._linework.getGeometryN(e).getCoordinateSequence(),n=0;n<i.size()-1;n++)if(i.getCoordinate(n,this._seg.p0),i.getCoordinate(n+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ir.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?P.BOUNDARY:this._ptLocator.locate(t,this._g)},Ir.prototype.extractLinework=function(t){var e=new Pr;t.apply(e);var i=e.getLinework(),n=me.toLineStringArray(i);return t.getFactory().createMultiLineString(n)},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir};var Pr=function(){this._linework=null,this._linework=new Mt};Pr.prototype.getLinework=function(){return this._linework},Pr.prototype.filter=function(t){if(t instanceof Qt){var e=t;this._linework.add(e.getExteriorRing());for(var i=0;i<e.getNumInteriorRing();i++)this._linework.add(e.getInteriorRingN(i))}},Pr.prototype.interfaces_=function(){return[jt]},Pr.prototype.getClass=function(){return Pr};var Lr=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Lr.prototype.extractPoints=function(t,e,i){for(var n=t.getCoordinates(),r=0;r<n.length-1;r++)this.computeOffsetPoints(n[r],n[r+1],e,i)},Lr.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Lr.prototype.getPoints=function(t){for(var e=new Mt,i=En.getLines(this._g).iterator();i.hasNext();){var n=i.next();this.extractPoints(n,t,e)}return e},Lr.prototype.computeOffsetPoints=function(t,e,i,n){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=i*r/s,h=i*o/s,l=(e.x+t.x)/2,u=(e.y+t.y)/2;if(this._doLeft){var c=new E(l-h,u+a);n.add(c)}if(this._doRight){var p=new E(l+h,u-a);n.add(p)}},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var Or=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Mt;var e=arguments[0],i=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,i),this._geom=[e,i,n],this._locFinder=[new Ir(this._geom[0],this._boundaryDistanceTolerance),new Ir(this._geom[1],this._boundaryDistanceTolerance),new Ir(this._geom[2],this._boundaryDistanceTolerance)]},Nr={TOLERANCE:{configurable:!0}};Or.prototype.reportResult=function(t,e,i){q.out.println("Overlay result invalid - A:"+P.toLocationSymbol(e[0])+" B:"+P.toLocationSymbol(e[1])+" expected:"+(i?"i":"e")+" actual:"+P.toLocationSymbol(e[2]))},Or.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Or.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var i=this._testCoords.get(e);if(!this.checkValid(t,i))return this._invalidLocation=i,!1}return!0}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!Or.hasLocation(this._location,P.BOUNDARY)||this.isValidResult(n,this._location)}},Or.prototype.addTestPts=function(t){var e=new Lr(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Or.prototype.isValidResult=function(t,e){var i=Cr.isResultOfOp(e[0],e[1],t),n=!(i^e[2]===P.INTERIOR);return n||this.reportResult(t,e,i),n},Or.prototype.getInvalidLocation=function(){return this._invalidLocation},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.hasLocation=function(t,e){for(var i=0;i<3;i++)if(t[i]===e)return!0;return!1},Or.computeBoundaryDistanceTolerance=function(t,e){return Math.min($n.computeSizeBasedSnapTolerance(t),$n.computeSizeBasedSnapTolerance(e))},Or.isValid=function(t,e,i,n){return new Or(t,e,n).isValid(i)},Nr.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Or,Nr);var Tr=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Tr.prototype.extractElements=function(t,e){if(null===t)return null;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);this._skipEmpty&&n.isEmpty()||e.add(n)}},Tr.prototype.combine=function(){for(var t=new Mt,e=this._inputGeoms.iterator();e.hasNext();){var i=e.next();this.extractElements(i,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.combine=function(){if(1===arguments.length){var t=arguments[0];return new Tr(t).combine()}if(2===arguments.length){var e=arguments[0],i=arguments[1];return new Tr(Tr.createList(e,i)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];return new Tr(Tr.createList(n,r,o)).combine()}},Tr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Tr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new Mt;return i.add(t),i.add(e),i}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=new Mt;return s.add(n),s.add(r),s.add(o),s}};var Ar=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Mt)},Rr={STRTREE_NODE_CAPACITY:{configurable:!0}};Ar.prototype.reduceToGeometries=function(t){for(var e=new Mt,i=t.iterator();i.hasNext();){var n=i.next(),r=null;O(n,wt)?r=this.unionTree(n):n instanceof ut&&(r=n),e.add(r)}return e},Ar.prototype.extractByEnvelope=function(t,e,i){for(var n=new Mt,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?n.add(o):i.add(o)}return this._geomFactory.buildGeometry(n)},Ar.prototype.unionOptimized=function(t,e){var i=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!i.intersects(n))return Tr.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=i.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,r)},Ar.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new oi(Ar.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var i=e.next();t.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var n=t.itemsTree();return this.unionTree(n)},Ar.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2];if(n-i<=1){var r=Ar.getGeometry(e,i);return this.unionSafe(r,null)}if(n-i==2)return this.unionSafe(Ar.getGeometry(e,i),Ar.getGeometry(e,i+1));var o=Math.trunc((n+i)/2),s=this.binaryUnion(e,i,o),a=this.binaryUnion(e,o,n);return this.unionSafe(s,a)}},Ar.prototype.repeatedUnion=function(t){for(var e=null,i=t.iterator();i.hasNext();){var n=i.next();e=null===e?n.copy():e.union(n)}return e},Ar.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Ar.prototype.unionActual=function(t,e){return Ar.restrictToPolygons(t.union(e))},Ar.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Ar.prototype.unionUsingEnvelopeIntersection=function(t,e,i){var n=new Mt,r=this.extractByEnvelope(i,t,n),o=this.extractByEnvelope(i,e,n),s=this.unionActual(r,o);return n.add(s),Tr.combine(n)},Ar.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().createGeometryCollection([e,i]).buffer(0)}},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.restrictToPolygons=function(t){if(O(t,Kt))return t;var e=Mn.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(me.toPolygonArray(e))},Ar.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Ar.union=function(t){return new Ar(t).union()},Rr.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Ar,Rr);var Dr=function(){};Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Cr.createEmptyResult(Cr.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),or.overlayOp(t,e,Cr.UNION)},t.GeoJSONReader=Me,t.GeoJSONWriter=Ee,t.OverlayOp=Cr,t.UnionOp=Dr,t.BufferOp=gn,Object.defineProperty(t,"__esModule",{value:!0})}))},1241:function(t,e){"use strict";e.A=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i}},9306:function(t,e,i){"use strict";var n=i(4901),r=i(6823),o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(r(t)+" is not a function")}},3506:function(t,e,i){"use strict";var n=i(3925),r=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o("Can't set "+r(t)+" as a prototype")}},7080:function(t,e,i){"use strict";var n=i(4402).has;t.exports=function(t){return n(t),t}},6469:function(t,e,i){"use strict";var n=i(8227),r=i(2360),o=i(4913).f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:r(null)}),t.exports=function(t){a[s][t]=!0}},679:function(t,e,i){"use strict";var n=i(1625),r=TypeError;t.exports=function(t,e){if(n(e,t))return t;throw new r("Incorrect invocation")}},8551:function(t,e,i){"use strict";var n=i(34),r=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw new o(r(t)+" is not an object")}},7811:function(t){"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(t,e,i){"use strict";var n=i(4576),r=i(6706),o=i(2195),s=n.ArrayBuffer,a=n.TypeError;t.exports=s&&r(s.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new a("ArrayBuffer expected");return t.byteLength}},3238:function(t,e,i){"use strict";var n=i(4576),r=i(7476),o=i(7394),s=n.ArrayBuffer,a=s&&s.prototype,h=a&&r(a.slice);t.exports=function(t){if(0!==o(t))return!1;if(!h)return!1;try{return h(t,0,0),!1}catch(e){return!0}}},5169:function(t,e,i){"use strict";var n=i(3238),r=TypeError;t.exports=function(t){if(n(t))throw new r("ArrayBuffer is detached");return t}},5636:function(t,e,i){"use strict";var n=i(4576),r=i(9504),o=i(6706),s=i(7696),a=i(5169),h=i(7394),l=i(4483),u=i(1548),c=n.structuredClone,p=n.ArrayBuffer,f=n.DataView,d=Math.min,g=p.prototype,y=f.prototype,m=r(g.slice),_=o(g,"resizable","get"),v=o(g,"maxByteLength","get"),x=r(y.getInt8),b=r(y.setInt8);t.exports=(u||l)&&function(t,e,i){var n,r=h(t),o=void 0===e?r:s(e),g=!_||!_(t);if(a(t),u&&(t=c(t,{transfer:[t]}),r===o&&(i||g)))return t;if(r>=o&&(!i||g))n=m(t,0,o);else{var y=i&&!g&&v?{maxByteLength:v(t)}:void 0;n=new p(o,y);for(var w=new f(t),M=new f(n),E=d(o,r),S=0;S<E;S++)b(M,S,x(w,S))}return u||l(t),n}},4644:function(t,e,i){"use strict";var n,r,o,s=i(7811),a=i(3724),h=i(4576),l=i(4901),u=i(34),c=i(9297),p=i(6955),f=i(6823),d=i(6699),g=i(6840),y=i(2106),m=i(1625),_=i(2787),v=i(2967),x=i(8227),b=i(3392),w=i(1181),M=w.enforce,E=w.get,S=h.Int8Array,C=S&&S.prototype,I=h.Uint8ClampedArray,P=I&&I.prototype,L=S&&_(S),O=C&&_(C),N=Object.prototype,T=h.TypeError,A=x("toStringTag"),R=b("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",k=s&&!!v&&"Opera"!==p(h.opera),F=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},z={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!u(t))return!1;var e=p(t);return"DataView"===e||c(B,e)||c(z,e)},U=function(t){var e=_(t);if(u(e)){var i=E(e);return i&&c(i,D)?i[D]:U(e)}},G=function(t){if(!u(t))return!1;var e=p(t);return c(B,e)||c(z,e)},V=function(t){if(G(t))return t;throw new T("Target is not a typed array")},q=function(t){if(l(t)&&(!v||m(L,t)))return t;throw new T(f(t)+" is not a typed array constructor")},W=function(t,e,i,n){if(a){if(i)for(var r in B){var o=h[r];if(o&&c(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(l){}}}O[t]&&!i||g(O,t,i?e:k&&C[t]||e,n)}},Y=function(t,e,i){var n,r;if(a){if(v){if(i)for(n in B)if(r=h[n],r&&c(r,t))try{delete r[t]}catch(o){}if(L[t]&&!i)return;try{return g(L,t,i?e:k&&L[t]||e)}catch(o){}}for(n in B)r=h[n],!r||r[t]&&!i||g(r,t,e)}};for(n in B)r=h[n],o=r&&r.prototype,o?M(o)[D]=r:k=!1;for(n in z)r=h[n],o=r&&r.prototype,o&&(M(o)[D]=r);if((!k||!l(L)||L===Function.prototype)&&(L=function(){throw new T("Incorrect invocation")},k))for(n in B)h[n]&&v(h[n],L);if((!k||!O||O===N)&&(O=L.prototype,k))for(n in B)h[n]&&v(h[n].prototype,O);if(k&&_(P)!==O&&v(P,O),a&&!c(O,A))for(n in F=!0,y(O,A,{configurable:!0,get:function(){return u(this)?this[R]:void 0}}),B)h[n]&&d(h[n],R,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:F&&R,aTypedArray:V,aTypedArrayConstructor:q,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:U,isView:j,isTypedArray:G,TypedArray:L,TypedArrayPrototype:O}},5370:function(t,e,i){"use strict";var n=i(6198);t.exports=function(t,e,i){var r=0,o=arguments.length>2?i:n(e),s=new t(o);while(o>r)s[r]=e[r++];return s}},9617:function(t,e,i){"use strict";var n=i(5397),r=i(5610),o=i(6198),s=function(t){return function(e,i,s){var a=n(e),h=o(a);if(0===h)return!t&&-1;var l,u=r(s,h);if(t&&i!==i){while(h>u)if(l=a[u++],l!==l)return!0}else for(;h>u;u++)if((t||u in a)&&a[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,i){"use strict";var n=i(3724),r=i(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7680:function(t,e,i){"use strict";var n=i(9504);t.exports=n([].slice)},7628:function(t,e,i){"use strict";var n=i(6198);t.exports=function(t,e){for(var i=n(t),r=new e(i),o=0;o<i;o++)r[o]=t[i-o-1];return r}},9928:function(t,e,i){"use strict";var n=i(6198),r=i(1291),o=RangeError;t.exports=function(t,e,i,s){var a=n(t),h=r(i),l=h<0?a+h:h;if(l>=a||l<0)throw new o("Incorrect index");for(var u=new e(a),c=0;c<a;c++)u[c]=c===l?s:t[c];return u}},6319:function(t,e,i){"use strict";var n=i(8551),r=i(9539);t.exports=function(t,e,i,o){try{return o?e(n(i)[0],i[1]):e(i)}catch(s){r(t,"throw",s)}}},2195:function(t,e,i){"use strict";var n=i(9504),r=n({}.toString),o=n("".slice);t.exports=function(t){return o(r(t),8,-1)}},6955:function(t,e,i){"use strict";var n=i(2140),r=i(4901),o=i(2195),s=i(8227),a=s("toStringTag"),h=Object,l="Arguments"===o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(i){}};t.exports=n?o:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=u(e=h(t),a))?i:l?o(e):"Object"===(n=o(e))&&r(e.callee)?"Arguments":n}},7740:function(t,e,i){"use strict";var n=i(9297),r=i(5031),o=i(7347),s=i(4913);t.exports=function(t,e,i){for(var a=r(e),h=s.f,l=o.f,u=0;u<a.length;u++){var c=a[u];n(t,c)||i&&n(i,c)||h(t,c,l(e,c))}}},2211:function(t,e,i){"use strict";var n=i(9039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},2529:function(t){"use strict";t.exports=function(t,e){return{value:t,done:e}}},6699:function(t,e,i){"use strict";var n=i(3724),r=i(4913),o=i(6980);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},6980:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4659:function(t,e,i){"use strict";var n=i(3724),r=i(4913),o=i(6980);t.exports=function(t,e,i){n?r.f(t,e,o(0,i)):t[e]=i}},2106:function(t,e,i){"use strict";var n=i(283),r=i(4913);t.exports=function(t,e,i){return i.get&&n(i.get,e,{getter:!0}),i.set&&n(i.set,e,{setter:!0}),r.f(t,e,i)}},6840:function(t,e,i){"use strict";var n=i(4901),r=i(4913),o=i(283),s=i(9433);t.exports=function(t,e,i,a){a||(a={});var h=a.enumerable,l=void 0!==a.name?a.name:e;if(n(i)&&o(i,l,a),a.global)h?t[e]=i:s(e,i);else{try{a.unsafe?t[e]&&(h=!0):delete t[e]}catch(u){}h?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6279:function(t,e,i){"use strict";var n=i(6840);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},9433:function(t,e,i){"use strict";var n=i(4576),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},3724:function(t,e,i){"use strict";var n=i(9039);t.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(t,e,i){"use strict";var n,r,o,s,a=i(4576),h=i(9429),l=i(1548),u=a.structuredClone,c=a.ArrayBuffer,p=a.MessageChannel,f=!1;if(l)f=function(t){u(t,{transfer:[t]})};else if(c)try{p||(n=h("worker_threads"),n&&(p=n.MessageChannel)),p&&(r=new p,o=new c(2),s=function(t){r.port1.postMessage(null,[t])},2===o.byteLength&&(s(o),0===o.byteLength&&(f=s)))}catch(d){}t.exports=f},4055:function(t,e,i){"use strict";var n=i(4576),r=i(34),o=n.document,s=r(o)&&r(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:function(t){"use strict";var e=TypeError,i=9007199254740991;t.exports=function(t){if(t>i)throw e("Maximum allowed index exceeded");return t}},5002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9544:function(t,e,i){"use strict";var n=i(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6193:function(t,e,i){"use strict";var n=i(4215);t.exports="NODE"===n},2839:function(t,e,i){"use strict";var n=i(4576),r=n.navigator,o=r&&r.userAgent;t.exports=o?String(o):""},9519:function(t,e,i){"use strict";var n,r,o=i(4576),s=i(2839),a=o.process,h=o.Deno,l=a&&a.versions||h&&h.version,u=l&&l.v8;u&&(n=u.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},4215:function(t,e,i){"use strict";var n=i(4576),r=i(2839),o=i(2195),s=function(t){return r.slice(0,t.length)===t};t.exports=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},8574:function(t,e,i){"use strict";var n=i(9504),r=Error,o=n("".replace),s=function(t){return String(new r(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,h=a.test(s);t.exports=function(t,e){if(h&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=o(t,a,"");return t}},6518:function(t,e,i){"use strict";var n=i(4576),r=i(7347).f,o=i(6699),s=i(6840),a=i(9433),h=i(7740),l=i(2796);t.exports=function(t,e){var i,u,c,p,f,d,g=t.target,y=t.global,m=t.stat;if(u=y?n:m?n[g]||a(g,{}):n[g]&&n[g].prototype,u)for(c in e){if(f=e[c],t.dontCallGetSet?(d=r(u,c),p=d&&d.value):p=u[c],i=l(y?c:g+(m?".":"#")+c,t.forced),!i&&void 0!==p){if(typeof f==typeof p)continue;h(f,p)}(t.sham||p&&p.sham)&&o(f,"sham",!0),s(u,c,f,t)}}},9039:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(e){return!0}}},8745:function(t,e,i){"use strict";var n=i(616),r=Function.prototype,o=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},6080:function(t,e,i){"use strict";var n=i(7476),r=i(9306),o=i(616),s=n(n.bind);t.exports=function(t,e){return r(t),void 0===e?t:o?s(t,e):function(){return t.apply(e,arguments)}}},616:function(t,e,i){"use strict";var n=i(9039);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,i){"use strict";var n=i(616),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},350:function(t,e,i){"use strict";var n=i(3724),r=i(9297),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=r(o,"name"),h=a&&"something"===function(){}.name,l=a&&(!n||n&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:h,CONFIGURABLE:l}},6706:function(t,e,i){"use strict";var n=i(9504),r=i(9306);t.exports=function(t,e,i){try{return n(r(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(o){}}},7476:function(t,e,i){"use strict";var n=i(2195),r=i(9504);t.exports=function(t){if("Function"===n(t))return r(t)}},9504:function(t,e,i){"use strict";var n=i(616),r=Function.prototype,o=r.call,s=n&&r.bind.bind(o,o);t.exports=n?s:function(t){return function(){return o.apply(t,arguments)}}},9429:function(t,e,i){"use strict";var n=i(4576),r=i(6193);t.exports=function(t){if(r){try{return n.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}},4124:function(t,e,i){"use strict";var n=i(4576);t.exports=function(t,e){var i=n[t],r=i&&i.prototype;return r&&r[e]}},7751:function(t,e,i){"use strict";var n=i(4576),r=i(4901),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t]):n[t]&&n[t][e]}},1767:function(t){"use strict";t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},851:function(t,e,i){"use strict";var n=i(6955),r=i(5966),o=i(4117),s=i(6269),a=i(8227),h=a("iterator");t.exports=function(t){if(!o(t))return r(t,h)||r(t,"@@iterator")||s[n(t)]}},81:function(t,e,i){"use strict";var n=i(9565),r=i(9306),o=i(8551),s=i(6823),a=i(851),h=TypeError;t.exports=function(t,e){var i=arguments.length<2?a(t):e;if(r(i))return o(n(i,t));throw new h(s(t)+" is not iterable")}},5966:function(t,e,i){"use strict";var n=i(9306),r=i(4117);t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},3789:function(t,e,i){"use strict";var n=i(9306),r=i(8551),o=i(9565),s=i(1291),a=i(1767),h="Invalid size",l=RangeError,u=TypeError,c=Math.max,p=function(t,e){this.set=t,this.size=c(e,0),this.has=n(t.has),this.keys=n(t.keys)};p.prototype={getIterator:function(){return a(r(o(this.keys,this.set)))},includes:function(t){return o(this.has,this.set,t)}},t.exports=function(t){r(t);var e=+t.size;if(e!==e)throw new u(h);var i=s(e);if(i<0)throw new l(h);return new p(t,i)}},4576:function(t,e,i){"use strict";var n=function(t){return t&&t.Math===Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,i){"use strict";var n=i(9504),r=i(8981),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(r(t),e)}},421:function(t){"use strict";t.exports={}},397:function(t,e,i){"use strict";var n=i(7751);t.exports=n("document","documentElement")},5917:function(t,e,i){"use strict";var n=i(3724),r=i(9039),o=i(4055);t.exports=!n&&!r((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,i){"use strict";var n=i(9504),r=i(9039),o=i(2195),s=Object,a=n("".split);t.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3167:function(t,e,i){"use strict";var n=i(4901),r=i(34),o=i(2967);t.exports=function(t,e,i){var s,a;return o&&n(s=e.constructor)&&s!==i&&r(a=s.prototype)&&a!==i.prototype&&o(t,a),t}},3706:function(t,e,i){"use strict";var n=i(9504),r=i(4901),o=i(7629),s=n(Function.toString);r(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},1181:function(t,e,i){"use strict";var n,r,o,s=i(8622),a=i(4576),h=i(34),l=i(6699),u=i(9297),c=i(7629),p=i(6119),f=i(421),d="Object already initialized",g=a.TypeError,y=a.WeakMap,m=function(t){return o(t)?r(t):n(t,{})},_=function(t){return function(e){var i;if(!h(e)||(i=r(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return i}};if(s||c.state){var v=c.state||(c.state=new y);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw new g(d);return e.facade=t,v.set(t,e),e},r=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var x=p("state");f[x]=!0,n=function(t,e){if(u(t,x))throw new g(d);return e.facade=t,l(t,x,e),e},r=function(t){return u(t,x)?t[x]:{}},o=function(t){return u(t,x)}}t.exports={set:n,get:r,has:o,enforce:m,getterFor:_}},4209:function(t,e,i){"use strict";var n=i(8227),r=i(6269),o=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[o]===t)}},4376:function(t,e,i){"use strict";var n=i(2195);t.exports=Array.isArray||function(t){return"Array"===n(t)}},1108:function(t,e,i){"use strict";var n=i(6955);t.exports=function(t){var e=n(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,i){"use strict";var n=i(9039),r=i(4901),o=/#|\.prototype\./,s=function(t,e){var i=h[a(t)];return i===u||i!==l&&(r(e)?n(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},h=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";t.exports=s},4117:function(t){"use strict";t.exports=function(t){return null===t||void 0===t}},34:function(t,e,i){"use strict";var n=i(4901);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},3925:function(t,e,i){"use strict";var n=i(34);t.exports=function(t){return n(t)||null===t}},6395:function(t){"use strict";t.exports=!1},757:function(t,e,i){"use strict";var n=i(7751),r=i(4901),o=i(1625),s=i(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&o(e.prototype,a(t))}},507:function(t,e,i){"use strict";var n=i(9565);t.exports=function(t,e,i){var r,o,s=i?t:t.iterator,a=t.next;while(!(r=n(a,s)).done)if(o=e(r.value),void 0!==o)return o}},2652:function(t,e,i){"use strict";var n=i(6080),r=i(9565),o=i(8551),s=i(6823),a=i(4209),h=i(6198),l=i(1625),u=i(81),c=i(851),p=i(9539),f=TypeError,d=function(t,e){this.stopped=t,this.result=e},g=d.prototype;t.exports=function(t,e,i){var y,m,_,v,x,b,w,M=i&&i.that,E=!(!i||!i.AS_ENTRIES),S=!(!i||!i.IS_RECORD),C=!(!i||!i.IS_ITERATOR),I=!(!i||!i.INTERRUPTED),P=n(e,M),L=function(t){return y&&p(y,"normal",t),new d(!0,t)},O=function(t){return E?(o(t),I?P(t[0],t[1],L):P(t[0],t[1])):I?P(t,L):P(t)};if(S)y=t.iterator;else if(C)y=t;else{if(m=c(t),!m)throw new f(s(t)+" is not iterable");if(a(m)){for(_=0,v=h(t);v>_;_++)if(x=O(t[_]),x&&l(g,x))return x;return new d(!1)}y=u(t,m)}b=S?t.next:y.next;while(!(w=r(b,y)).done){try{x=O(w.value)}catch(N){p(y,"throw",N)}if("object"==typeof x&&x&&l(g,x))return x}return new d(!1)}},9539:function(t,e,i){"use strict";var n=i(9565),r=i(8551),o=i(5966);t.exports=function(t,e,i){var s,a;r(t);try{if(s=o(t,"return"),!s){if("throw"===e)throw i;return i}s=n(s,t)}catch(h){a=!0,s=h}if("throw"===e)throw i;if(a)throw s;return r(s),i}},9462:function(t,e,i){"use strict";var n=i(9565),r=i(2360),o=i(6699),s=i(6279),a=i(8227),h=i(1181),l=i(5966),u=i(7657).IteratorPrototype,c=i(2529),p=i(9539),f=a("toStringTag"),d="IteratorHelper",g="WrapForValidIterator",y=h.set,m=function(t){var e=h.getterFor(t?g:d);return s(r(u),{next:function(){var i=e(this);if(t)return i.nextHandler();try{var n=i.done?void 0:i.nextHandler();return c(n,i.done)}catch(r){throw i.done=!0,r}},return:function(){var i=e(this),r=i.iterator;if(i.done=!0,t){var o=l(r,"return");return o?n(o,r):c(void 0,!0)}if(i.inner)try{p(i.inner.iterator,"normal")}catch(s){return p(r,"throw",s)}return r&&p(r,"normal"),c(void 0,!0)}})},_=m(!0),v=m(!1);o(v,f,"Iterator Helper"),t.exports=function(t,e){var i=function(i,n){n?(n.iterator=i.iterator,n.next=i.next):n=i,n.type=e?g:d,n.nextHandler=t,n.counter=0,n.done=!1,y(this,n)};return i.prototype=e?_:v,i}},713:function(t,e,i){"use strict";var n=i(9565),r=i(9306),o=i(8551),s=i(1767),a=i(9462),h=i(6319),l=a((function(){var t=this.iterator,e=o(n(this.next,t)),i=this.done=!!e.done;if(!i)return h(t,this.mapper,[e.value,this.counter++],!0)}));t.exports=function(t){return o(this),r(t),new l(s(this),{mapper:t})}},7657:function(t,e,i){"use strict";var n,r,o,s=i(9039),a=i(4901),h=i(34),l=i(2360),u=i(2787),c=i(6840),p=i(8227),f=i(6395),d=p("iterator"),g=!1;[].keys&&(o=[].keys(),"next"in o?(r=u(u(o)),r!==Object.prototype&&(n=r)):g=!0);var y=!h(n)||s((function(){var t={};return n[d].call(t)!==t}));y?n={}:f&&(n=l(n)),a(n[d])||c(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},6269:function(t){"use strict";t.exports={}},6198:function(t,e,i){"use strict";var n=i(8014);t.exports=function(t){return n(t.length)}},283:function(t,e,i){"use strict";var n=i(9504),r=i(9039),o=i(4901),s=i(9297),a=i(3724),h=i(350).CONFIGURABLE,l=i(3706),u=i(1181),c=u.enforce,p=u.get,f=String,d=Object.defineProperty,g=n("".slice),y=n("".replace),m=n([].join),_=a&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),v=String(String).split("String"),x=t.exports=function(t,e,i){"Symbol("===g(f(e),0,7)&&(e="["+y(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!s(t,"name")||h&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),_&&i&&s(i,"arity")&&t.length!==i.arity&&d(t,"length",{value:i.arity});try{i&&s(i,"constructor")&&i.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var n=c(t);return s(n,"source")||(n.source=m(v,"string"==typeof e?e:"")),t};Function.prototype.toString=x((function(){return o(this)&&p(this).source||l(this)}),"toString")},741:function(t){"use strict";var e=Math.ceil,i=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?i:e)(n)}},2603:function(t,e,i){"use strict";var n=i(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},2360:function(t,e,i){"use strict";var n,r=i(8551),o=i(6801),s=i(8727),a=i(421),h=i(397),l=i(4055),u=i(6119),c=">",p="<",f="prototype",d="script",g=u("IE_PROTO"),y=function(){},m=function(t){return p+d+c+t+p+"/"+d+c},_=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){var t,e=l("iframe"),i="java"+d+":";return e.style.display="none",h.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},x=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}x="undefined"!=typeof document?document.domain&&n?_(n):v():_(n);var t=s.length;while(t--)delete x[f][s[t]];return x()};a[g]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(y[f]=r(t),i=new y,y[f]=null,i[g]=t):i=x(),void 0===e?i:o.f(i,e)}},6801:function(t,e,i){"use strict";var n=i(3724),r=i(8686),o=i(4913),s=i(8551),a=i(5397),h=i(1072);e.f=n&&!r?Object.defineProperties:function(t,e){s(t);var i,n=a(e),r=h(e),l=r.length,u=0;while(l>u)o.f(t,i=r[u++],n[i]);return t}},4913:function(t,e,i){"use strict";var n=i(3724),r=i(5917),o=i(8686),s=i(8551),a=i(6969),h=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",p="configurable",f="writable";e.f=n?o?function(t,e,i){if(s(t),e=a(e),s(i),"function"===typeof t&&"prototype"===e&&"value"in i&&f in i&&!i[f]){var n=u(t,e);n&&n[f]&&(t[e]=i.value,i={configurable:p in i?i[p]:n[p],enumerable:c in i?i[c]:n[c],writable:!1})}return l(t,e,i)}:l:function(t,e,i){if(s(t),e=a(e),s(i),r)try{return l(t,e,i)}catch(n){}if("get"in i||"set"in i)throw new h("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},7347:function(t,e,i){"use strict";var n=i(3724),r=i(9565),o=i(8773),s=i(6980),a=i(5397),h=i(6969),l=i(9297),u=i(5917),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=h(e),u)try{return c(t,e)}catch(i){}if(l(t,e))return s(!r(o.f,t,e),t[e])}},8480:function(t,e,i){"use strict";var n=i(1828),r=i(8727),o=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},3717:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},2787:function(t,e,i){"use strict";var n=i(9297),r=i(4901),o=i(8981),s=i(6119),a=i(2211),h=s("IE_PROTO"),l=Object,u=l.prototype;t.exports=a?l.getPrototypeOf:function(t){var e=o(t);if(n(e,h))return e[h];var i=e.constructor;return r(i)&&e instanceof i?i.prototype:e instanceof l?u:null}},1625:function(t,e,i){"use strict";var n=i(9504);t.exports=n({}.isPrototypeOf)},1828:function(t,e,i){"use strict";var n=i(9504),r=i(9297),o=i(5397),s=i(9617).indexOf,a=i(421),h=n([].push);t.exports=function(t,e){var i,n=o(t),l=0,u=[];for(i in n)!r(a,i)&&r(n,i)&&h(u,i);while(e.length>l)r(n,i=e[l++])&&(~s(u,i)||h(u,i));return u}},1072:function(t,e,i){"use strict";var n=i(1828),r=i(8727);t.exports=Object.keys||function(t){return n(t,r)}},8773:function(t,e){"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);e.f=r?function(t){var e=n(this,t);return!!e&&e.enumerable}:i},2967:function(t,e,i){"use strict";var n=i(6706),r=i(34),o=i(7750),s=i(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=n(Object.prototype,"__proto__","set"),t(i,[]),e=i instanceof Array}catch(a){}return function(i,n){return o(i),s(n),r(i)?(e?t(i,n):i.__proto__=n,i):i}}():void 0)},4270:function(t,e,i){"use strict";var n=i(9565),r=i(4901),o=i(34),s=TypeError;t.exports=function(t,e){var i,a;if("string"===e&&r(i=t.toString)&&!o(a=n(i,t)))return a;if(r(i=t.valueOf)&&!o(a=n(i,t)))return a;if("string"!==e&&r(i=t.toString)&&!o(a=n(i,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,i){"use strict";var n=i(7751),r=i(9504),o=i(8480),s=i(3717),a=i(8551),h=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(a(t)),i=s.f;return i?h(e,i(t)):e}},7979:function(t,e,i){"use strict";var n=i(8551);t.exports=function(){var t=n(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7750:function(t,e,i){"use strict";var n=i(4117),r=TypeError;t.exports=function(t){if(n(t))throw new r("Can't call method on "+t);return t}},9472:function(t,e,i){"use strict";var n=i(4576),r=i(8745),o=i(4901),s=i(4215),a=i(2839),h=i(7680),l=i(2812),u=n.Function,c=/MSIE .\./.test(a)||"BUN"===s&&function(){var t=n.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}();t.exports=function(t,e){var i=e?2:1;return c?function(n,s){var a=l(arguments.length,1)>i,c=o(n)?n:u(n),p=a?h(arguments,i):[],f=a?function(){r(c,this,p)}:c;return e?t(f,s):t(f)}:t}},9286:function(t,e,i){"use strict";var n=i(4402),r=i(8469),o=n.Set,s=n.add;t.exports=function(t){var e=new o;return r(t,(function(t){s(e,t)})),e}},3440:function(t,e,i){"use strict";var n=i(7080),r=i(4402),o=i(9286),s=i(5170),a=i(3789),h=i(8469),l=i(507),u=r.has,c=r.remove;t.exports=function(t){var e=n(this),i=a(t),r=o(e);return s(e)<=i.size?h(e,(function(t){i.includes(t)&&c(r,t)})):l(i.getIterator(),(function(t){u(e,t)&&c(r,t)})),r}},4402:function(t,e,i){"use strict";var n=i(9504),r=Set.prototype;t.exports={Set:Set,add:n(r.add),has:n(r.has),remove:n(r["delete"]),proto:r}},8750:function(t,e,i){"use strict";var n=i(7080),r=i(4402),o=i(5170),s=i(3789),a=i(8469),h=i(507),l=r.Set,u=r.add,c=r.has;t.exports=function(t){var e=n(this),i=s(t),r=new l;return o(e)>i.size?h(i.getIterator(),(function(t){c(e,t)&&u(r,t)})):a(e,(function(t){i.includes(t)&&u(r,t)})),r}},4449:function(t,e,i){"use strict";var n=i(7080),r=i(4402).has,o=i(5170),s=i(3789),a=i(8469),h=i(507),l=i(9539);t.exports=function(t){var e=n(this),i=s(t);if(o(e)<=i.size)return!1!==a(e,(function(t){if(i.includes(t))return!1}),!0);var u=i.getIterator();return!1!==h(u,(function(t){if(r(e,t))return l(u,"normal",!1)}))}},3838:function(t,e,i){"use strict";var n=i(7080),r=i(5170),o=i(8469),s=i(3789);t.exports=function(t){var e=n(this),i=s(t);return!(r(e)>i.size)&&!1!==o(e,(function(t){if(!i.includes(t))return!1}),!0)}},8527:function(t,e,i){"use strict";var n=i(7080),r=i(4402).has,o=i(5170),s=i(3789),a=i(507),h=i(9539);t.exports=function(t){var e=n(this),i=s(t);if(o(e)<i.size)return!1;var l=i.getIterator();return!1!==a(l,(function(t){if(!r(e,t))return h(l,"normal",!1)}))}},8469:function(t,e,i){"use strict";var n=i(9504),r=i(507),o=i(4402),s=o.Set,a=o.proto,h=n(a.forEach),l=n(a.keys),u=l(new s).next;t.exports=function(t,e,i){return i?r({iterator:l(t),next:u},e):h(t,e)}},4916:function(t,e,i){"use strict";var n=i(7751),r=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var e=n("Set");try{(new e)[t](r(0));try{return(new e)[t](r(-1)),!1}catch(i){return!0}}catch(o){return!1}}},5170:function(t,e,i){"use strict";var n=i(6706),r=i(4402);t.exports=n(r.proto,"size","get")||function(t){return t.size}},3650:function(t,e,i){"use strict";var n=i(7080),r=i(4402),o=i(9286),s=i(3789),a=i(507),h=r.add,l=r.has,u=r.remove;t.exports=function(t){var e=n(this),i=s(t).getIterator(),r=o(e);return a(i,(function(t){l(e,t)?u(r,t):h(r,t)})),r}},4204:function(t,e,i){"use strict";var n=i(7080),r=i(4402).add,o=i(9286),s=i(3789),a=i(507);t.exports=function(t){var e=n(this),i=s(t).getIterator(),h=o(e);return a(i,(function(t){r(h,t)})),h}},6119:function(t,e,i){"use strict";var n=i(5745),r=i(3392),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},7629:function(t,e,i){"use strict";var n=i(6395),r=i(4576),o=i(9433),s="__core-js_shared__",a=t.exports=r[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,i){"use strict";var n=i(7629);t.exports=function(t,e){return n[t]||(n[t]=e||{})}},1548:function(t,e,i){"use strict";var n=i(4576),r=i(9039),o=i(9519),s=i(4215),a=n.structuredClone;t.exports=!!a&&!r((function(){if("DENO"===s&&o>92||"NODE"===s&&o>94||"BROWSER"===s&&o>97)return!1;var t=new ArrayBuffer(8),e=a(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:function(t,e,i){"use strict";var n=i(9519),r=i(9039),o=i(4576),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9225:function(t,e,i){"use strict";var n,r,o,s,a=i(4576),h=i(8745),l=i(6080),u=i(4901),c=i(9297),p=i(9039),f=i(397),d=i(7680),g=i(4055),y=i(2812),m=i(9544),_=i(6193),v=a.setImmediate,x=a.clearImmediate,b=a.process,w=a.Dispatch,M=a.Function,E=a.MessageChannel,S=a.String,C=0,I={},P="onreadystatechange";p((function(){n=a.location}));var L=function(t){if(c(I,t)){var e=I[t];delete I[t],e()}},O=function(t){return function(){L(t)}},N=function(t){L(t.data)},T=function(t){a.postMessage(S(t),n.protocol+"//"+n.host)};v&&x||(v=function(t){y(arguments.length,1);var e=u(t)?t:M(t),i=d(arguments,1);return I[++C]=function(){h(e,void 0,i)},r(C),C},x=function(t){delete I[t]},_?r=function(t){b.nextTick(O(t))}:w&&w.now?r=function(t){w.now(O(t))}:E&&!m?(o=new E,s=o.port2,o.port1.onmessage=N,r=l(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!p(T)?(r=T,a.addEventListener("message",N,!1)):r=P in g("script")?function(t){f.appendChild(g("script"))[P]=function(){f.removeChild(this),L(t)}}:function(t){setTimeout(O(t),0)}),t.exports={set:v,clear:x}},5610:function(t,e,i){"use strict";var n=i(1291),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},5854:function(t,e,i){"use strict";var n=i(2777),r=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw new r("Can't convert number to bigint");return BigInt(e)}},7696:function(t,e,i){"use strict";var n=i(1291),r=i(8014),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw new o("Wrong length or index");return i}},5397:function(t,e,i){"use strict";var n=i(7055),r=i(7750);t.exports=function(t){return n(r(t))}},1291:function(t,e,i){"use strict";var n=i(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},8014:function(t,e,i){"use strict";var n=i(1291),r=Math.min;t.exports=function(t){var e=n(t);return e>0?r(e,9007199254740991):0}},8981:function(t,e,i){"use strict";var n=i(7750),r=Object;t.exports=function(t){return r(n(t))}},2777:function(t,e,i){"use strict";var n=i(9565),r=i(34),o=i(757),s=i(5966),a=i(4270),h=i(8227),l=TypeError,u=h("toPrimitive");t.exports=function(t,e){if(!r(t)||o(t))return t;var i,h=s(t,u);if(h){if(void 0===e&&(e="default"),i=n(h,t,e),!r(i)||o(i))return i;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,i){"use strict";var n=i(2777),r=i(757);t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},2140:function(t,e,i){"use strict";var n=i(8227),r=n("toStringTag"),o={};o[r]="z",t.exports="[object z]"===String(o)},655:function(t,e,i){"use strict";var n=i(6955),r=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return r(t)}},6823:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(i){return"Object"}}},3392:function(t,e,i){"use strict";var n=i(9504),r=0,o=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++r+o,36)}},7040:function(t,e,i){"use strict";var n=i(4495);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,i){"use strict";var n=i(3724),r=i(9039);t.exports=n&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(t){"use strict";var e=TypeError;t.exports=function(t,i){if(t<i)throw new e("Not enough arguments");return t}},8622:function(t,e,i){"use strict";var n=i(4576),r=i(4901),o=n.WeakMap;t.exports=r(o)&&/native code/.test(String(o))},8227:function(t,e,i){"use strict";var n=i(4576),r=i(5745),o=i(9297),s=i(3392),a=i(4495),h=i(7040),l=n.Symbol,u=r("wks"),c=h?l["for"]||l:l&&l.withoutSetter||s;t.exports=function(t){return o(u,t)||(u[t]=a&&o(l,t)?l[t]:c("Symbol."+t)),u[t]}},6573:function(t,e,i){"use strict";var n=i(3724),r=i(2106),o=i(3238),s=ArrayBuffer.prototype;n&&!("detached"in s)&&r(s,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(t,e,i){"use strict";var n=i(6518),r=i(5636);r&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,i){"use strict";var n=i(6518),r=i(5636);r&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(t,e,i){"use strict";var n=i(6518),r=i(8981),o=i(6198),s=i(4527),a=i(6837),h=i(9039),l=h((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},c=l||!u();n({target:"Array",proto:!0,arity:1,forced:c},{push:function(t){var e=r(this),i=o(e),n=arguments.length;a(i+n);for(var h=0;h<n;h++)e[i]=arguments[h],i++;return s(e,i),i}})},9678:function(t,e,i){"use strict";var n=i(6518),r=i(7628),o=i(5397),s=i(6469),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return r(o(this),a)}}),s("toReversed")},7145:function(t,e,i){"use strict";var n=i(6518),r=i(9504),o=i(9306),s=i(5397),a=i(5370),h=i(4124),l=i(6469),u=Array,c=r(h("Array","sort"));n({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&o(t);var e=s(this),i=a(u,e);return c(i,t)}}),l("toSorted")},1658:function(t,e,i){"use strict";var n=i(6518),r=i(6469),o=i(6837),s=i(6198),a=i(5610),h=i(5397),l=i(1291),u=Array,c=Math.max,p=Math.min;n({target:"Array",proto:!0},{toSpliced:function(t,e){var i,n,r,f,d=h(this),g=s(d),y=a(t,g),m=arguments.length,_=0;for(0===m?i=n=0:1===m?(i=0,n=g-y):(i=m-2,n=p(c(l(e),0),g-y)),r=o(g+i-n),f=u(r);_<y;_++)f[_]=d[_];for(;_<y+i;_++)f[_]=arguments[_-y+2];for(;_<r;_++)f[_]=d[_+n-i];return f}}),r("toSpliced")},8111:function(t,e,i){"use strict";var n=i(6518),r=i(4576),o=i(679),s=i(8551),a=i(4901),h=i(2787),l=i(2106),u=i(4659),c=i(9039),p=i(9297),f=i(8227),d=i(7657).IteratorPrototype,g=i(3724),y=i(6395),m="constructor",_="Iterator",v=f("toStringTag"),x=TypeError,b=r[_],w=y||!a(b)||b.prototype!==d||!c((function(){b({})})),M=function(){if(o(this,d),h(this)===d)throw new x("Abstract class Iterator not directly constructable")},E=function(t,e){g?l(d,t,{configurable:!0,get:function(){return e},set:function(e){if(s(this),this===d)throw new x("You can't redefine this property");p(this,t)?this[t]=e:u(this,t,e)}}):d[t]=e};p(d,v)||E(v,_),!w&&p(d,m)&&d[m]!==Object||E(m,M),M.prototype=d,n({global:!0,constructor:!0,forced:w},{Iterator:M})},1148:function(t,e,i){"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767);n({target:"Iterator",proto:!0,real:!0},{every:function(t){s(this),o(t);var e=a(this),i=0;return!r(e,(function(e,n){if(!t(e,i++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2489:function(t,e,i){"use strict";var n=i(6518),r=i(9565),o=i(9306),s=i(8551),a=i(1767),h=i(9462),l=i(6319),u=i(6395),c=h((function(){var t,e,i,n=this.iterator,o=this.predicate,a=this.next;while(1){if(t=s(r(a,n)),e=this.done=!!t.done,e)return;if(i=t.value,l(n,o,[i,this.counter++],!0))return i}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(t){return s(this),o(t),new c(a(this),{predicate:t})}})},116:function(t,e,i){"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767);n({target:"Iterator",proto:!0,real:!0},{find:function(t){s(this),o(t);var e=a(this),i=0;return r(e,(function(e,n){if(t(e,i++))return n(e)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:function(t,e,i){"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){s(this),o(t);var e=a(this),i=0;r(e,(function(e){t(e,i++)}),{IS_RECORD:!0})}})},1701:function(t,e,i){"use strict";var n=i(6518),r=i(713),o=i(6395);n({target:"Iterator",proto:!0,real:!0,forced:o},{map:r})},8237:function(t,e,i){"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767),h=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){s(this),o(t);var e=a(this),i=arguments.length<2,n=i?void 0:arguments[1],l=0;if(r(e,(function(e){i?(i=!1,n=e):n=t(n,e,l),l++}),{IS_RECORD:!0}),i)throw new h("Reduce of empty iterator with no initial value");return n}})},3579:function(t,e,i){"use strict";var n=i(6518),r=i(2652),o=i(9306),s=i(8551),a=i(1767);n({target:"Iterator",proto:!0,real:!0},{some:function(t){s(this),o(t);var e=a(this),i=0;return r(e,(function(e,n){if(t(e,i++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1806:function(t,e,i){"use strict";var n=i(6518),r=i(8551),o=i(2652),s=i(1767),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return o(s(r(this)),a,{that:t,IS_RECORD:!0}),t}})},9479:function(t,e,i){"use strict";var n=i(4576),r=i(3724),o=i(2106),s=i(7979),a=i(9039),h=n.RegExp,l=h.prototype,u=r&&a((function(){var t=!0;try{h(".","d")}catch(u){t=!1}var e={},i="",n=t?"dgimsy":"gimsy",r=function(t,n){Object.defineProperty(e,t,{get:function(){return i+=n,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in t&&(o.hasIndices="d"),o)r(s,o[s]);var a=Object.getOwnPropertyDescriptor(l,"flags").get.call(e);return a!==n||i!==n}));u&&o(l,"flags",{configurable:!0,get:s})},7642:function(t,e,i){"use strict";var n=i(6518),r=i(3440),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:r})},8004:function(t,e,i){"use strict";var n=i(6518),r=i(9039),o=i(8750),s=i(4916),a=!s("intersection")||r((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:a},{intersection:o})},3853:function(t,e,i){"use strict";var n=i(6518),r=i(4449),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:r})},5876:function(t,e,i){"use strict";var n=i(6518),r=i(3838),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:r})},2475:function(t,e,i){"use strict";var n=i(6518),r=i(8527),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:r})},5024:function(t,e,i){"use strict";var n=i(6518),r=i(3650),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:r})},1698:function(t,e,i){"use strict";var n=i(6518),r=i(4204),o=i(4916);n({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:r})},7467:function(t,e,i){"use strict";var n=i(7628),r=i(4644),o=r.aTypedArray,s=r.exportTypedArrayMethod,a=r.getTypedArrayConstructor;s("toReversed",(function(){return n(o(this),a(this))}))},4732:function(t,e,i){"use strict";var n=i(4644),r=i(9504),o=i(9306),s=i(5370),a=n.aTypedArray,h=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=r(n.TypedArrayPrototype.sort);l("toSorted",(function(t){void 0!==t&&o(t);var e=a(this),i=s(h(e),e);return u(i,t)}))},9577:function(t,e,i){"use strict";var n=i(9928),r=i(4644),o=i(1108),s=i(1291),a=i(5854),h=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();u("with",{with:function(t,e){var i=h(this),r=s(t),u=o(i)?a(e):+e;return n(i,l(i),r,u)}}["with"],!c)},8992:function(t,e,i){"use strict";i(8111)},3215:function(t,e,i){"use strict";i(1148)},4520:function(t,e,i){"use strict";i(2489)},2577:function(t,e,i){"use strict";i(116)},3949:function(t,e,i){"use strict";i(7588)},1454:function(t,e,i){"use strict";i(1701)},8872:function(t,e,i){"use strict";i(8237)},7550:function(t,e,i){"use strict";i(3579)},1795:function(t,e,i){"use strict";i(1806)},6368:function(t,e,i){"use strict";var n=i(6518),r=i(4576),o=i(9225).clear;n({global:!0,bind:!0,enumerable:!0,forced:r.clearImmediate!==o},{clearImmediate:o})},4979:function(t,e,i){"use strict";var n=i(6518),r=i(4576),o=i(7751),s=i(6980),a=i(4913).f,h=i(9297),l=i(679),u=i(3167),c=i(2603),p=i(5002),f=i(8574),d=i(3724),g=i(6395),y="DOMException",m=o("Error"),_=o(y),v=function(){l(this,x);var t=arguments.length,e=c(t<1?void 0:arguments[0]),i=c(t<2?void 0:arguments[1],"Error"),n=new _(e,i),r=new m(e);return r.name=y,a(n,"stack",s(1,f(r.stack,1))),u(n,this,v),n},x=v.prototype=_.prototype,b="stack"in new m(y),w="stack"in new _(1,2),M=_&&d&&Object.getOwnPropertyDescriptor(r,y),E=!!M&&!(M.writable&&M.configurable),S=b&&!E&&!w;n({global:!0,constructor:!0,forced:g||S},{DOMException:S?v:_});var C=o(y),I=C.prototype;if(I.constructor!==C)for(var P in g||a(I,"constructor",s(1,C)),p)if(h(p,P)){var L=p[P],O=L.s;h(C,O)||a(C,O,s(6,L.c))}},9848:function(t,e,i){"use strict";i(6368),i(9309)},9309:function(t,e,i){"use strict";var n=i(6518),r=i(4576),o=i(9225).set,s=i(9472),a=r.setImmediate?s(o,!1):o;n({global:!0,bind:!0,enumerable:!0,forced:r.setImmediate!==a},{setImmediate:a})},4603:function(t,e,i){"use strict";var n=i(6840),r=i(9504),o=i(655),s=i(2812),a=URLSearchParams,h=a.prototype,l=r(h.append),u=r(h["delete"]),c=r(h.forEach),p=r([].push),f=new a("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&n(h,"delete",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return u(this,t);var n=[];c(this,(function(t,e){p(n,{key:e,value:t})})),s(e,1);var r,a=o(t),h=o(i),f=0,d=0,g=!1,y=n.length;while(f<y)r=n[f++],g||r.key===a?(g=!0,u(this,r.key)):d++;while(d<y)r=n[d++],r.key===a&&r.value===h||l(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(t,e,i){"use strict";var n=i(6840),r=i(9504),o=i(655),s=i(2812),a=URLSearchParams,h=a.prototype,l=r(h.getAll),u=r(h.has),c=new a("a=1");!c.has("a",2)&&c.has("a",void 0)||n(h,"has",(function(t){var e=arguments.length,i=e<2?void 0:arguments[1];if(e&&void 0===i)return u(this,t);var n=l(this,t);s(e,1);var r=o(i),a=0;while(a<n.length)if(n[a++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(t,e,i){"use strict";var n=i(3724),r=i(9504),o=i(2106),s=URLSearchParams.prototype,a=r(s.forEach);n&&!("size"in s)&&o(s,"size",{get:function(){var t=0;return a(this,(function(){t++})),t},configurable:!0,enumerable:!0})}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,i),o.exports}!function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}();!function(){"use strict";var t={};i.r(t),i.d(t,{hasBrowserEnv:function(){return lh},hasStandardBrowserEnv:function(){return ch},hasStandardBrowserWebWorkerEnv:function(){return ph},navigator:function(){return uh},origin:function(){return fh}});i(4114),i(7642),i(8004),i(3853),i(5876),i(2475),i(5024),i(1698),i(8992),i(4520),i(3949),i(1454),i(7550),i(9479),i(3215),i(8872),i(9678),i(7145),i(1658);
/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function e(t){const e=Object.create(null);for(const i of t.split(","))e[i]=1;return t=>t in e}const n={},r=[],o=()=>{},s=()=>!1,a=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),h=t=>t.startsWith("onUpdate:"),l=Object.assign,u=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},c=Object.prototype.hasOwnProperty,p=(t,e)=>c.call(t,e),f=Array.isArray,d=t=>"[object Map]"===E(t),g=t=>"[object Set]"===E(t),y=t=>"[object Date]"===E(t),m=t=>"[object RegExp]"===E(t),_=t=>"function"===typeof t,v=t=>"string"===typeof t,x=t=>"symbol"===typeof t,b=t=>null!==t&&"object"===typeof t,w=t=>(b(t)||_(t))&&_(t.then)&&_(t.catch),M=Object.prototype.toString,E=t=>M.call(t),S=t=>E(t).slice(8,-1),C=t=>"[object Object]"===E(t),I=t=>v(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,P=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=t=>{const e=Object.create(null);return i=>{const n=e[i];return n||(e[i]=t(i))}},N=/-(\w)/g,T=O((t=>t.replace(N,((t,e)=>e?e.toUpperCase():"")))),A=/\B([A-Z])/g,R=O((t=>t.replace(A,"-$1").toLowerCase())),D=O((t=>t.charAt(0).toUpperCase()+t.slice(1))),k=O((t=>{const e=t?`on${D(t)}`:"";return e})),F=(t,e)=>!Object.is(t,e),B=(t,...e)=>{for(let i=0;i<t.length;i++)t[i](...e)},z=(t,e,i,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:i})},j=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let U;const G=()=>U||(U="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof i.g?i.g:{});function V(t){if(f(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=v(n)?H(n):V(n);if(r)for(const t in r)e[t]=r[t]}return e}if(v(t)||b(t))return t}const q=/;(?![^(]*\))/g,W=/:([^]+)/,Y=/\/\*[^]*?\*\//g;function H(t){const e={};return t.replace(Y,"").split(q).forEach((t=>{if(t){const i=t.split(W);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}function X(t){let e="";if(v(t))e=t;else if(f(t))for(let i=0;i<t.length;i++){const n=X(t[i]);n&&(e+=n+" ")}else if(b(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$=e(Z);function J(t){return!!t||""===t}function K(t,e){if(t.length!==e.length)return!1;let i=!0;for(let n=0;i&&n<t.length;n++)i=Q(t[n],e[n]);return i}function Q(t,e){if(t===e)return!0;let i=y(t),n=y(e);if(i||n)return!(!i||!n)&&t.getTime()===e.getTime();if(i=x(t),n=x(e),i||n)return t===e;if(i=f(t),n=f(e),i||n)return!(!i||!n)&&K(t,e);if(i=b(t),n=b(e),i||n){if(!i||!n)return!1;const r=Object.keys(t).length,o=Object.keys(e).length;if(r!==o)return!1;for(const i in t){const n=t.hasOwnProperty(i),r=e.hasOwnProperty(i);if(n&&!r||!n&&r||!Q(t[i],e[i]))return!1}}return String(t)===String(e)}function tt(t,e){return t.findIndex((t=>Q(t,e)))}const et=t=>!(!t||!0!==t["__v_isRef"]),it=t=>v(t)?t:null==t?"":f(t)||b(t)&&(t.toString===M||!_(t.toString))?et(t)?it(t.value):JSON.stringify(t,nt,2):String(t),nt=(t,e)=>et(e)?nt(t,e.value):d(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,i],n)=>(t[rt(e,n)+" =>"]=i,t)),{})}:g(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>rt(t)))}:x(e)?rt(e):!b(e)||f(e)||C(e)?e:String(e),rt=(t,e="")=>{var i;return x(t)?`Symbol(${null!=(i=t.description)?i:e})`:t};let ot,st;class at{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!t&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let t,e;if(this._isPaused=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){let t,e;if(this._isPaused=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=ot;try{return ot=this,t()}finally{ot=e}}else 0}on(){ot=this}off(){ot=this.parent}stop(t){if(this._active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function ht(){return ot}const lt=new WeakSet;class ut{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,lt.has(this)&&(lt.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||dt(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,It(this),mt(this);const t=st,e=Mt;st=this,Mt=!0;try{return this.fn()}finally{0,_t(this),st=t,Mt=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)bt(t);this.deps=this.depsTail=void 0,It(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?lt.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){vt(this)&&this.run()}get dirty(){return vt(this)}}let ct,pt,ft=0;function dt(t,e=!1){if(t.flags|=8,e)return t.next=pt,void(pt=t);t.next=ct,ct=t}function gt(){ft++}function yt(){if(--ft>0)return;if(pt){let t=pt;pt=void 0;while(t){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;while(ct){let i=ct;ct=void 0;while(i){const n=i.next;if(i.next=void 0,i.flags&=-9,1&i.flags)try{i.trigger()}catch(e){t||(t=e)}i=n}}if(t)throw t}function mt(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function _t(t){let e,i=t.depsTail,n=i;while(n){const t=n.prevDep;-1===n.version?(n===i&&(i=t),bt(n),wt(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=t}t.deps=e,t.depsTail=i}function vt(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xt(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function xt(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===Pt)return;t.globalVersion=Pt;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!vt(t))return void(t.flags&=-3);const i=st,n=Mt;st=t,Mt=!0;try{mt(t);const i=t.fn(t._value);(0===e.version||F(i,t._value))&&(t._value=i,e.version++)}catch(r){throw e.version++,r}finally{st=i,Mt=n,_t(t),t.flags&=-3}}function bt(t,e=!1){const{dep:i,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),i.subs===t&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let t=i.computed.deps;t;t=t.nextDep)bt(t,!0)}e||--i.sc||!i.map||i.map.delete(i.key)}function wt(t){const{prevDep:e,nextDep:i}=t;e&&(e.nextDep=i,t.prevDep=void 0),i&&(i.prevDep=e,t.nextDep=void 0)}let Mt=!0;const Et=[];function St(){Et.push(Mt),Mt=!1}function Ct(){const t=Et.pop();Mt=void 0===t||t}function It(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=st;st=void 0;try{e()}finally{st=t}}}let Pt=0;class Lt{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ot{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!st||!Mt||st===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==st)e=this.activeLink=new Lt(st,this),st.deps?(e.prevDep=st.depsTail,st.depsTail.nextDep=e,st.depsTail=e):st.deps=st.depsTail=e,Nt(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=st.depsTail,e.nextDep=void 0,st.depsTail.nextDep=e,st.depsTail=e,st.deps===e&&(st.deps=t)}return e}trigger(t){this.version++,Pt++,this.notify(t)}notify(t){gt();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{yt()}}}function Nt(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)Nt(t)}const i=t.dep.subs;i!==t&&(t.prevSub=i,i&&(i.nextSub=t)),t.dep.subs=t}}const Tt=new WeakMap,At=Symbol(""),Rt=Symbol(""),Dt=Symbol("");function kt(t,e,i){if(Mt&&st){let e=Tt.get(t);e||Tt.set(t,e=new Map);let n=e.get(i);n||(e.set(i,n=new Ot),n.map=e,n.key=i),n.track()}}function Ft(t,e,i,n,r,o){const s=Tt.get(t);if(!s)return void Pt++;const a=t=>{t&&t.trigger()};if(gt(),"clear"===e)s.forEach(a);else{const r=f(t),o=r&&I(i);if(r&&"length"===i){const t=Number(n);s.forEach(((e,i)=>{("length"===i||i===Dt||!x(i)&&i>=t)&&a(e)}))}else switch((void 0!==i||s.has(void 0))&&a(s.get(i)),o&&a(s.get(Dt)),e){case"add":r?o&&a(s.get("length")):(a(s.get(At)),d(t)&&a(s.get(Rt)));break;case"delete":r||(a(s.get(At)),d(t)&&a(s.get(Rt)));break;case"set":d(t)&&a(s.get(At));break}}yt()}function Bt(t){const e=Se(t);return e===t?e:(kt(e,"iterate",Dt),Me(t)?e:e.map(Ie))}function zt(t){return kt(t=Se(t),"iterate",Dt),t}const jt={__proto__:null,[Symbol.iterator](){return Ut(this,Symbol.iterator,Ie)},concat(...t){return Bt(this).concat(...t.map((t=>f(t)?Bt(t):t)))},entries(){return Ut(this,"entries",(t=>(t[1]=Ie(t[1]),t)))},every(t,e){return Vt(this,"every",t,e,void 0,arguments)},filter(t,e){return Vt(this,"filter",t,e,(t=>t.map(Ie)),arguments)},find(t,e){return Vt(this,"find",t,e,Ie,arguments)},findIndex(t,e){return Vt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Vt(this,"findLast",t,e,Ie,arguments)},findLastIndex(t,e){return Vt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Vt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Wt(this,"includes",t)},indexOf(...t){return Wt(this,"indexOf",t)},join(t){return Bt(this).join(t)},lastIndexOf(...t){return Wt(this,"lastIndexOf",t)},map(t,e){return Vt(this,"map",t,e,void 0,arguments)},pop(){return Yt(this,"pop")},push(...t){return Yt(this,"push",t)},reduce(t,...e){return qt(this,"reduce",t,e)},reduceRight(t,...e){return qt(this,"reduceRight",t,e)},shift(){return Yt(this,"shift")},some(t,e){return Vt(this,"some",t,e,void 0,arguments)},splice(...t){return Yt(this,"splice",t)},toReversed(){return Bt(this).toReversed()},toSorted(t){return Bt(this).toSorted(t)},toSpliced(...t){return Bt(this).toSpliced(...t)},unshift(...t){return Yt(this,"unshift",t)},values(){return Ut(this,"values",Ie)}};function Ut(t,e,i){const n=zt(t),r=n[e]();return n===t||Me(t)||(r._next=r.next,r.next=()=>{const t=r._next();return t.value&&(t.value=i(t.value)),t}),r}const Gt=Array.prototype;function Vt(t,e,i,n,r,o){const s=zt(t),a=s!==t&&!Me(t),h=s[e];if(h!==Gt[e]){const e=h.apply(t,o);return a?Ie(e):e}let l=i;s!==t&&(a?l=function(e,n){return i.call(this,Ie(e),n,t)}:i.length>2&&(l=function(e,n){return i.call(this,e,n,t)}));const u=h.call(s,l,n);return a&&r?r(u):u}function qt(t,e,i,n){const r=zt(t);let o=i;return r!==t&&(Me(t)?i.length>3&&(o=function(e,n,r){return i.call(this,e,n,r,t)}):o=function(e,n,r){return i.call(this,e,Ie(n),r,t)}),r[e](o,...n)}function Wt(t,e,i){const n=Se(t);kt(n,"iterate",Dt);const r=n[e](...i);return-1!==r&&!1!==r||!Ee(i[0])?r:(i[0]=Se(i[0]),n[e](...i))}function Yt(t,e,i=[]){St(),gt();const n=Se(t)[e].apply(t,i);return yt(),Ct(),n}const Ht=e("__proto__,__v_isRef,__isVue"),Xt=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(x));function Zt(t){x(t)||(t=String(t));const e=Se(this);return kt(e,"has",t),e.hasOwnProperty(t)}class $t{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,i){const n=this._isReadonly,r=this._isShallow;if("__v_isReactive"===e)return!n;if("__v_isReadonly"===e)return n;if("__v_isShallow"===e)return r;if("__v_raw"===e)return i===(n?r?de:fe:r?pe:ce).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=f(t);if(!n){let t;if(o&&(t=jt[e]))return t;if("hasOwnProperty"===e)return Zt}const s=Reflect.get(t,e,Le(t)?t:i);return(x(e)?Xt.has(e):Ht(e))?s:(n||kt(t,"get",e),r?s:Le(s)?o&&I(e)?s:s.value:b(s)?n?ve(s):me(s):s)}}class Jt extends $t{constructor(t=!1){super(!1,t)}set(t,e,i,n){let r=t[e];if(!this._isShallow){const e=we(r);if(Me(i)||we(i)||(r=Se(r),i=Se(i)),!f(t)&&Le(r)&&!Le(i))return!e&&(r.value=i,!0)}const o=f(t)&&I(e)?Number(e)<t.length:p(t,e),s=Reflect.set(t,e,i,Le(t)?t:n);return t===Se(n)&&(o?F(i,r)&&Ft(t,"set",e,i,r):Ft(t,"add",e,i)),s}deleteProperty(t,e){const i=p(t,e),n=t[e],r=Reflect.deleteProperty(t,e);return r&&i&&Ft(t,"delete",e,void 0,n),r}has(t,e){const i=Reflect.has(t,e);return x(e)&&Xt.has(e)||kt(t,"has",e),i}ownKeys(t){return kt(t,"iterate",f(t)?"length":At),Reflect.ownKeys(t)}}class Kt extends $t{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Qt=new Jt,te=new Kt,ee=new Jt(!0),ie=t=>t,ne=t=>Reflect.getPrototypeOf(t);function re(t,e,i){return function(...n){const r=this["__v_raw"],o=Se(r),s=d(o),a="entries"===t||t===Symbol.iterator&&s,h="keys"===t&&s,l=r[t](...n),u=i?ie:e?Pe:Ie;return!e&&kt(o,"iterate",h?Rt:At),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function oe(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function se(t,e){const i={get(i){const n=this["__v_raw"],r=Se(n),o=Se(i);t||(F(i,o)&&kt(r,"get",i),kt(r,"get",o));const{has:s}=ne(r),a=e?ie:t?Pe:Ie;return s.call(r,i)?a(n.get(i)):s.call(r,o)?a(n.get(o)):void(n!==r&&n.get(i))},get size(){const e=this["__v_raw"];return!t&&kt(Se(e),"iterate",At),Reflect.get(e,"size",e)},has(e){const i=this["__v_raw"],n=Se(i),r=Se(e);return t||(F(e,r)&&kt(n,"has",e),kt(n,"has",r)),e===r?i.has(e):i.has(e)||i.has(r)},forEach(i,n){const r=this,o=r["__v_raw"],s=Se(o),a=e?ie:t?Pe:Ie;return!t&&kt(s,"iterate",At),o.forEach(((t,e)=>i.call(n,a(t),a(e),r)))}};l(i,t?{add:oe("add"),set:oe("set"),delete:oe("delete"),clear:oe("clear")}:{add(t){e||Me(t)||we(t)||(t=Se(t));const i=Se(this),n=ne(i),r=n.has.call(i,t);return r||(i.add(t),Ft(i,"add",t,t)),this},set(t,i){e||Me(i)||we(i)||(i=Se(i));const n=Se(this),{has:r,get:o}=ne(n);let s=r.call(n,t);s||(t=Se(t),s=r.call(n,t));const a=o.call(n,t);return n.set(t,i),s?F(i,a)&&Ft(n,"set",t,i,a):Ft(n,"add",t,i),this},delete(t){const e=Se(this),{has:i,get:n}=ne(e);let r=i.call(e,t);r||(t=Se(t),r=i.call(e,t));const o=n?n.call(e,t):void 0,s=e.delete(t);return r&&Ft(e,"delete",t,void 0,o),s},clear(){const t=Se(this),e=0!==t.size,i=void 0,n=t.clear();return e&&Ft(t,"clear",void 0,void 0,i),n}});const n=["keys","values","entries",Symbol.iterator];return n.forEach((n=>{i[n]=re(n,t,e)})),i}function ae(t,e){const i=se(t,e);return(e,n,r)=>"__v_isReactive"===n?!t:"__v_isReadonly"===n?t:"__v_raw"===n?e:Reflect.get(p(i,n)&&n in e?i:e,n,r)}const he={get:ae(!1,!1)},le={get:ae(!1,!0)},ue={get:ae(!0,!1)};const ce=new WeakMap,pe=new WeakMap,fe=new WeakMap,de=new WeakMap;function ge(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ye(t){return t["__v_skip"]||!Object.isExtensible(t)?0:ge(S(t))}function me(t){return we(t)?t:xe(t,!1,Qt,he,ce)}function _e(t){return xe(t,!1,ee,le,pe)}function ve(t){return xe(t,!0,te,ue,fe)}function xe(t,e,i,n,r){if(!b(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=r.get(t);if(o)return o;const s=ye(t);if(0===s)return t;const a=new Proxy(t,2===s?n:i);return r.set(t,a),a}function be(t){return we(t)?be(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function we(t){return!(!t||!t["__v_isReadonly"])}function Me(t){return!(!t||!t["__v_isShallow"])}function Ee(t){return!!t&&!!t["__v_raw"]}function Se(t){const e=t&&t["__v_raw"];return e?Se(e):t}function Ce(t){return!p(t,"__v_skip")&&Object.isExtensible(t)&&z(t,"__v_skip",!0),t}const Ie=t=>b(t)?me(t):t,Pe=t=>b(t)?ve(t):t;function Le(t){return!!t&&!0===t["__v_isRef"]}function Oe(t){return Te(t,!1)}function Ne(t){return Te(t,!0)}function Te(t,e){return Le(t)?t:new Ae(t,e)}class Ae{constructor(t,e){this.dep=new Ot,this["__v_isRef"]=!0,this["__v_isShallow"]=!1,this._rawValue=e?t:Se(t),this._value=e?t:Ie(t),this["__v_isShallow"]=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,i=this["__v_isShallow"]||Me(t)||we(t);t=i?t:Se(t),F(t,e)&&(this._rawValue=t,this._value=i?t:Ie(t),this.dep.trigger())}}function Re(t){return Le(t)?t.value:t}const De={get:(t,e,i)=>"__v_raw"===e?t:Re(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Le(r)&&!Le(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function ke(t){return be(t)?t:new Proxy(t,De)}class Fe{constructor(t,e,i){this.fn=t,this.setter=e,this._value=void 0,this.dep=new Ot(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pt-1,this.next=void 0,this.effect=this,this["__v_isReadonly"]=!e,this.isSSR=i}notify(){if(this.flags|=16,!(8&this.flags||st===this))return dt(this,!0),!0}get value(){const t=this.dep.track();return xt(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Be(t,e,i=!1){let n,r;_(t)?n=t:(n=t.get,r=t.set);const o=new Fe(n,r,i);return o}const ze={},je=new WeakMap;let Ue;function Ge(t,e=!1,i=Ue){if(i){let e=je.get(i);e||je.set(i,e=[]),e.push(t)}else 0}function Ve(t,e,i=n){const{immediate:r,deep:s,once:a,scheduler:h,augmentJob:l,call:c}=i,p=t=>s?t:Me(t)||!1===s||0===s?qe(t,1):qe(t);let d,g,y,m,v=!1,x=!1;if(Le(t)?(g=()=>t.value,v=Me(t)):be(t)?(g=()=>p(t),v=!0):f(t)?(x=!0,v=t.some((t=>be(t)||Me(t))),g=()=>t.map((t=>Le(t)?t.value:be(t)?p(t):_(t)?c?c(t,2):t():void 0))):g=_(t)?e?c?()=>c(t,2):t:()=>{if(y){St();try{y()}finally{Ct()}}const e=Ue;Ue=d;try{return c?c(t,3,[m]):t(m)}finally{Ue=e}}:o,e&&s){const t=g,e=!0===s?1/0:s;g=()=>qe(t(),e)}const b=ht(),w=()=>{d.stop(),b&&u(b.effects,d)};if(a&&e){const t=e;e=(...e)=>{t(...e),w()}}let M=x?new Array(t.length).fill(ze):ze;const E=t=>{if(1&d.flags&&(d.dirty||t))if(e){const t=d.run();if(s||v||(x?t.some(((t,e)=>F(t,M[e]))):F(t,M))){y&&y();const i=Ue;Ue=d;try{const i=[t,M===ze?void 0:x&&M[0]===ze?[]:M,m];c?c(e,3,i):e(...i),M=t}finally{Ue=i}}}else d.run()};return l&&l(E),d=new ut(g),d.scheduler=h?()=>h(E,!1):E,m=t=>Ge(t,!1,d),y=d.onStop=()=>{const t=je.get(d);if(t){if(c)c(t,4);else for(const e of t)e();je.delete(d)}},e?r?E(!0):M=d.run():h?h(E.bind(null,!0),!0):d.run(),w.pause=d.pause.bind(d),w.resume=d.resume.bind(d),w.stop=w,w}function qe(t,e=1/0,i){if(e<=0||!b(t)||t["__v_skip"])return t;if(i=i||new Set,i.has(t))return t;if(i.add(t),e--,Le(t))qe(t.value,e,i);else if(f(t))for(let n=0;n<t.length;n++)qe(t[n],e,i);else if(g(t)||d(t))t.forEach((t=>{qe(t,e,i)}));else if(C(t)){for(const n in t)qe(t[n],e,i);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&qe(t[n],e,i)}return t}function We(t,e,i,n){try{return n?t(...n):t()}catch(r){He(r,e,i)}}function Ye(t,e,i,n){if(_(t)){const r=We(t,e,i,n);return r&&w(r)&&r.catch((t=>{He(t,e,i)})),r}if(f(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Ye(t[o],e,i,n));return r}}function He(t,e,i,r=!0){const o=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||n;if(e){let n=e.parent;const r=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${i}`;while(n){const e=n.ec;if(e)for(let i=0;i<e.length;i++)if(!1===e[i](t,r,o))return;n=n.parent}if(s)return St(),We(s,null,10,[t,r,o]),void Ct()}Xe(t,i,o,r,a)}function Xe(t,e,i,n=!0,r=!1){if(r)throw t;console.error(t)}const Ze=[];let $e=-1;const Je=[];let Ke=null,Qe=0;const ti=Promise.resolve();let ei=null;function ii(t){const e=ei||ti;return t?e.then(this?t.bind(this):t):e}function ni(t){let e=$e+1,i=Ze.length;while(e<i){const n=e+i>>>1,r=Ze[n],o=li(r);o<t||o===t&&2&r.flags?e=n+1:i=n}return e}function ri(t){if(!(1&t.flags)){const e=li(t),i=Ze[Ze.length-1];!i||!(2&t.flags)&&e>=li(i)?Ze.push(t):Ze.splice(ni(e),0,t),t.flags|=1,oi()}}function oi(){ei||(ei=ti.then(ui))}function si(t){f(t)?Je.push(...t):Ke&&-1===t.id?Ke.splice(Qe+1,0,t):1&t.flags||(Je.push(t),t.flags|=1),oi()}function ai(t,e,i=$e+1){for(0;i<Ze.length;i++){const e=Ze[i];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;0,Ze.splice(i,1),i--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function hi(t){if(Je.length){const t=[...new Set(Je)].sort(((t,e)=>li(t)-li(e)));if(Je.length=0,Ke)return void Ke.push(...t);for(Ke=t,Qe=0;Qe<Ke.length;Qe++){const t=Ke[Qe];0,4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}Ke=null,Qe=0}}const li=t=>null==t.id?2&t.flags?-1:1/0:t.id;function ui(t){try{for($e=0;$e<Ze.length;$e++){const t=Ze[$e];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),We(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;$e<Ze.length;$e++){const t=Ze[$e];t&&(t.flags&=-2)}$e=-1,Ze.length=0,hi(t),ei=null,(Ze.length||Je.length)&&ui(t)}}let ci=null,pi=null;function fi(t){const e=ci;return ci=t,pi=t&&t.type.__scopeId||null,e}function di(t,e=ci,i){if(!e)return t;if(t._n)return t;const n=(...i)=>{n._d&&Pr(-1);const r=fi(e);let o;try{o=t(...i)}finally{fi(r),n._d&&Pr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function gi(t,e){if(null===ci)return t;const i=fo(ci),r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,a,h=n]=e[o];t&&(_(t)&&(t={mounted:t,updated:t}),t.deep&&qe(s),r.push({dir:t,instance:i,value:s,oldValue:void 0,arg:a,modifiers:h}))}return t}function yi(t,e,i,n){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let h=a.dir[n];h&&(St(),Ye(h,i,8,[t.el,a,t,e]),Ct())}}const mi=Symbol("_vte"),_i=t=>t.__isTeleport;Symbol("_leaveCb"),Symbol("_enterCb");const vi=[Function,Array];Boolean,Boolean;function xi(t,e){6&t.shapeFlag&&t.component?(t.transition=e,xi(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wi(t,e,i,r,o=!1){if(f(t))return void t.forEach(((t,n)=>wi(t,e&&(f(e)?e[n]:e),i,r,o)));if(Mi(r)&&!o)return;const s=4&r.shapeFlag?fo(r.component):r.el,a=o?null:s,{i:h,r:l}=t;const c=e&&e.r,d=h.refs===n?h.refs={}:h.refs,g=h.setupState,y=Se(g),m=g===n?()=>!1:t=>p(y,t);if(null!=c&&c!==l&&(v(c)?(d[c]=null,m(c)&&(g[c]=null)):Le(c)&&(c.value=null)),_(l))We(l,h,12,[a,d]);else{const e=v(l),n=Le(l);if(e||n){const r=()=>{if(t.f){const i=e?m(l)?g[l]:d[l]:l.value;o?f(i)&&u(i,s):f(i)?i.includes(s)||i.push(s):e?(d[l]=[s],m(l)&&(g[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else e?(d[l]=a,m(l)&&(g[l]=a)):n&&(l.value=a,t.k&&(d[t.k]=a))};a?(r.id=-1,Wn(r,i)):r()}else 0}}G().requestIdleCallback,G().cancelIdleCallback;const Mi=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Ei=t=>t.type.__isKeepAlive;RegExp,RegExp;function Si(t,e){return f(t)?t.some((t=>Si(t,e))):v(t)?t.split(",").includes(e):!!m(t)&&(t.lastIndex=0,t.test(e))}function Ci(t,e){Pi(t,"a",e)}function Ii(t,e){Pi(t,"da",e)}function Pi(t,e,i=Jr){const n=t.__wdc||(t.__wdc=()=>{let e=i;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Ti(e,n,i),i){let t=i.parent;while(t&&t.parent)Ei(t.parent.vnode)&&Li(n,e,i,t),t=t.parent}}function Li(t,e,i,n){const r=Ti(e,t,n,!0);zi((()=>{u(n[e],r)}),i)}function Oi(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ni(t){return 128&t.shapeFlag?t.ssContent:t}function Ti(t,e,i=Jr,n=!1){if(i){const r=i[t]||(i[t]=[]),o=e.__weh||(e.__weh=(...n)=>{St();const r=eo(i),o=Ye(e,i,t,n);return r(),Ct(),o});return n?r.unshift(o):r.push(o),o}}const Ai=t=>(e,i=Jr)=>{so&&"sp"!==t||Ti(t,((...t)=>e(...t)),i)},Ri=Ai("bm"),Di=Ai("m"),ki=Ai("bu"),Fi=Ai("u"),Bi=Ai("bum"),zi=Ai("um"),ji=Ai("sp"),Ui=Ai("rtg"),Gi=Ai("rtc");function Vi(t,e=Jr){Ti("ec",t,e)}const qi="components";function Wi(t,e){return Xi(qi,t,!0,e)||t}const Yi=Symbol.for("v-ndc");function Hi(t){return v(t)?Xi(qi,t,!1)||t:t||Yi}function Xi(t,e,i=!0,n=!1){const r=ci||Jr;if(r){const i=r.type;if(t===qi){const t=go(i,!1);if(t&&(t===e||t===T(e)||t===D(T(e))))return i}const o=Zi(r[t]||i[t],e)||Zi(r.appContext[t],e);return!o&&n?i:o}}function Zi(t,e){return t&&(t[e]||t[T(e)]||t[D(T(e))])}function $i(t,e,i,n){let r;const o=i&&i[n],s=f(t);if(s||v(t)){const i=s&&be(t);let n=!1;i&&(n=!Me(t),t=zt(t)),r=new Array(t.length);for(let s=0,a=t.length;s<a;s++)r[s]=e(n?Ie(t[s]):t[s],s,void 0,o&&o[s])}else if("number"===typeof t){0,r=new Array(t);for(let i=0;i<t;i++)r[i]=e(i+1,i,void 0,o&&o[i])}else if(b(t))if(t[Symbol.iterator])r=Array.from(t,((t,i)=>e(t,i,void 0,o&&o[i])));else{const i=Object.keys(t);r=new Array(i.length);for(let n=0,s=i.length;n<s;n++){const s=i[n];r[n]=e(t[s],s,n,o&&o[n])}}else r=[];return i&&(i[n]=r),r}function Ji(t,e,i={},n,r){if(ci.ce||ci.parent&&Mi(ci.parent)&&ci.parent.ce)return"default"!==e&&(i.name=e),Sr(),Nr(vr,null,[Fr("slot",i,n&&n())],64);let o=t[e];o&&o._c&&(o._d=!1),Sr();const s=o&&Ki(o(i)),a=i.key||s&&s.key,h=Nr(vr,{key:(a&&!x(a)?a:`_${e}`)+(!s&&n?"_fb":"")},s||(n?n():[]),s&&1===t._?64:-2);return!r&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),o&&o._c&&(o._d=!0),h}function Ki(t){return t.some((t=>!Tr(t)||t.type!==br&&!(t.type===vr&&!Ki(t.children))))?t:null}const Qi=t=>t?no(t)?fo(t):Qi(t.parent):null,tn=l(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Qi(t.parent),$root:t=>Qi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>un(t),$forceUpdate:t=>t.f||(t.f=()=>{ri(t.update)}),$nextTick:t=>t.n||(t.n=ii.bind(t.proxy)),$watch:t=>or.bind(t)}),en=(t,e)=>t!==n&&!t.__isScriptSetup&&p(t,e),nn={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:i,setupState:r,data:o,props:s,accessCache:a,type:h,appContext:l}=t;let u;if("$"!==e[0]){const h=a[e];if(void 0!==h)switch(h){case 1:return r[e];case 2:return o[e];case 4:return i[e];case 3:return s[e]}else{if(en(r,e))return a[e]=1,r[e];if(o!==n&&p(o,e))return a[e]=2,o[e];if((u=t.propsOptions[0])&&p(u,e))return a[e]=3,s[e];if(i!==n&&p(i,e))return a[e]=4,i[e];on&&(a[e]=0)}}const c=tn[e];let f,d;return c?("$attrs"===e&&kt(t.attrs,"get",""),c(t)):(f=h.__cssModules)&&(f=f[e])?f:i!==n&&p(i,e)?(a[e]=4,i[e]):(d=l.config.globalProperties,p(d,e)?d[e]:void 0)},set({_:t},e,i){const{data:r,setupState:o,ctx:s}=t;return en(o,e)?(o[e]=i,!0):r!==n&&p(r,e)?(r[e]=i,!0):!p(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=i,!0))},has({_:{data:t,setupState:e,accessCache:i,ctx:r,appContext:o,propsOptions:s}},a){let h;return!!i[a]||t!==n&&p(t,a)||en(e,a)||(h=s[0])&&p(h,a)||p(r,a)||p(tn,a)||p(o.config.globalProperties,a)},defineProperty(t,e,i){return null!=i.get?t._.accessCache[e]=0:p(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function rn(t){return f(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let on=!0;function sn(t){const e=un(t),i=t.proxy,n=t.ctx;on=!1,e.beforeCreate&&hn(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:h,provide:l,inject:u,created:c,beforeMount:p,mounted:d,beforeUpdate:g,updated:y,activated:m,deactivated:v,beforeDestroy:x,beforeUnmount:w,destroyed:M,unmounted:E,render:S,renderTracked:C,renderTriggered:I,errorCaptured:P,serverPrefetch:L,expose:O,inheritAttrs:N,components:T,directives:A,filters:R}=e,D=null;if(u&&an(u,n,D),a)for(const o in a){const t=a[o];_(t)&&(n[o]=t.bind(i))}if(r){0;const e=r.call(i,i);0,b(e)&&(t.data=me(e))}if(on=!0,s)for(const f in s){const t=s[f],e=_(t)?t.bind(i,i):_(t.get)?t.get.bind(i,i):o;0;const r=!_(t)&&_(t.set)?t.set.bind(i):o,a=mo({get:e,set:r});Object.defineProperty(n,f,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t})}if(h)for(const o in h)ln(h[o],n,i,o);if(l){const t=_(l)?l.call(i):l;Reflect.ownKeys(t).forEach((e=>{En(e,t[e])}))}function k(t,e){f(e)?e.forEach((e=>t(e.bind(i)))):e&&t(e.bind(i))}if(c&&hn(c,t,"c"),k(Ri,p),k(Di,d),k(ki,g),k(Fi,y),k(Ci,m),k(Ii,v),k(Vi,P),k(Gi,C),k(Ui,I),k(Bi,w),k(zi,E),k(ji,L),f(O))if(O.length){const e=t.exposed||(t.exposed={});O.forEach((t=>{Object.defineProperty(e,t,{get:()=>i[t],set:e=>i[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===o&&(t.render=S),null!=N&&(t.inheritAttrs=N),T&&(t.components=T),A&&(t.directives=A),L&&bi(t)}function an(t,e,i=o){f(t)&&(t=gn(t));for(const n in t){const i=t[n];let r;r=b(i)?"default"in i?Sn(i.from||n,i.default,!0):Sn(i.from||n):Sn(i),Le(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:t=>r.value=t}):e[n]=r}}function hn(t,e,i){Ye(f(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,i)}function ln(t,e,i,n){let r=n.includes(".")?sr(i,n):()=>i[n];if(v(t)){const i=e[t];_(i)&&nr(r,i)}else if(_(t))nr(r,t.bind(i));else if(b(t))if(f(t))t.forEach((t=>ln(t,e,i,n)));else{const n=_(t.handler)?t.handler.bind(i):e[t.handler];_(n)&&nr(r,n,t)}else 0}function un(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let h;return a?h=a:r.length||i||n?(h={},r.length&&r.forEach((t=>cn(h,t,s,!0))),cn(h,e,s)):h=e,b(e)&&o.set(e,h),h}function cn(t,e,i,n=!1){const{mixins:r,extends:o}=e;o&&cn(t,o,i,!0),r&&r.forEach((e=>cn(t,e,i,!0)));for(const s in e)if(n&&"expose"===s);else{const n=pn[s]||i&&i[s];t[s]=n?n(t[s],e[s]):e[s]}return t}const pn={data:fn,props:_n,emits:_n,methods:mn,computed:mn,beforeCreate:yn,created:yn,beforeMount:yn,mounted:yn,beforeUpdate:yn,updated:yn,beforeDestroy:yn,beforeUnmount:yn,destroyed:yn,unmounted:yn,activated:yn,deactivated:yn,errorCaptured:yn,serverPrefetch:yn,components:mn,directives:mn,watch:vn,provide:fn,inject:dn};function fn(t,e){return e?t?function(){return l(_(t)?t.call(this,this):t,_(e)?e.call(this,this):e)}:e:t}function dn(t,e){return mn(gn(t),gn(e))}function gn(t){if(f(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function yn(t,e){return t?[...new Set([].concat(t,e))]:e}function mn(t,e){return t?l(Object.create(null),t,e):e}function _n(t,e){return t?f(t)&&f(e)?[...new Set([...t,...e])]:l(Object.create(null),rn(t),rn(null!=e?e:{})):e}function vn(t,e){if(!t)return e;if(!e)return t;const i=l(Object.create(null),t);for(const n in e)i[n]=yn(t[n],e[n]);return i}function xn(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bn=0;function wn(t,e){return function(i,n=null){_(i)||(i=l({},i)),null==n||b(n)||(n=null);const r=xn(),o=new WeakSet,s=[];let a=!1;const h=r.app={_uid:bn++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:_o,get config(){return r.config},set config(t){0},use(t,...e){return o.has(t)||(t&&_(t.install)?(o.add(t),t.install(h,...e)):_(t)&&(o.add(t),t(h,...e))),h},mixin(t){return r.mixins.includes(t)||r.mixins.push(t),h},component(t,e){return e?(r.components[t]=e,h):r.components[t]},directive(t,e){return e?(r.directives[t]=e,h):r.directives[t]},mount(o,s,l){if(!a){0;const u=h._ceVNode||Fr(i,n);return u.appContext=r,!0===l?l="svg":!1===l&&(l=void 0),s&&e?e(u,o):t(u,o,l),a=!0,h._container=o,o.__vue_app__=h,fo(u.component)}},onUnmount(t){s.push(t)},unmount(){a&&(Ye(s,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(t,e){return r.provides[t]=e,h},runWithContext(t){const e=Mn;Mn=h;try{return t()}finally{Mn=e}}};return h}}let Mn=null;function En(t,e){if(Jr){let i=Jr.provides;const n=Jr.parent&&Jr.parent.provides;n===i&&(i=Jr.provides=Object.create(n)),i[t]=e}else 0}function Sn(t,e,i=!1){const n=Jr||ci;if(n||Mn){const r=Mn?Mn._context.provides:n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return i&&_(e)?e.call(n&&n.proxy):e}else 0}const Cn={},In=()=>Object.create(Cn),Pn=t=>Object.getPrototypeOf(t)===Cn;function Ln(t,e,i,n=!1){const r={},o=In();t.propsDefaults=Object.create(null),Nn(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);i?t.props=n?r:_e(r):t.type.props?t.props=r:t.props=o,t.attrs=o}function On(t,e,i,n){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=Se(r),[h]=t.propsOptions;let l=!1;if(!(n||s>0)||16&s){let n;Nn(t,e,r,o)&&(l=!0);for(const o in a)e&&(p(e,o)||(n=R(o))!==o&&p(e,n))||(h?!i||void 0===i[o]&&void 0===i[n]||(r[o]=Tn(h,a,o,void 0,t,!0)):delete r[o]);if(o!==a)for(const t in o)e&&p(e,t)||(delete o[t],l=!0)}else if(8&s){const i=t.vnode.dynamicProps;for(let n=0;n<i.length;n++){let s=i[n];if(ur(t.emitsOptions,s))continue;const u=e[s];if(h)if(p(o,s))u!==o[s]&&(o[s]=u,l=!0);else{const e=T(s);r[e]=Tn(h,a,e,u,t,!1)}else u!==o[s]&&(o[s]=u,l=!0)}}l&&Ft(t.attrs,"set","")}function Nn(t,e,i,r){const[o,s]=t.propsOptions;let a,h=!1;if(e)for(let n in e){if(P(n))continue;const l=e[n];let u;o&&p(o,u=T(n))?s&&s.includes(u)?(a||(a={}))[u]=l:i[u]=l:ur(t.emitsOptions,n)||n in r&&l===r[n]||(r[n]=l,h=!0)}if(s){const e=Se(i),r=a||n;for(let n=0;n<s.length;n++){const a=s[n];i[a]=Tn(o,e,a,r[a],t,!p(r,a))}}return h}function Tn(t,e,i,n,r,o){const s=t[i];if(null!=s){const t=p(s,"default");if(t&&void 0===n){const t=s.default;if(s.type!==Function&&!s.skipFactory&&_(t)){const{propsDefaults:o}=r;if(i in o)n=o[i];else{const s=eo(r);n=o[i]=t.call(null,e),s()}}else n=t;r.ce&&r.ce._setProp(i,n)}s[0]&&(o&&!t?n=!1:!s[1]||""!==n&&n!==R(i)||(n=!0))}return n}const An=new WeakMap;function Rn(t,e,i=!1){const o=i?An:e.propsCache,s=o.get(t);if(s)return s;const a=t.props,h={},u=[];let c=!1;if(!_(t)){const n=t=>{c=!0;const[i,n]=Rn(t,e,!0);l(h,i),n&&u.push(...n)};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}if(!a&&!c)return b(t)&&o.set(t,r),r;if(f(a))for(let r=0;r<a.length;r++){0;const t=T(a[r]);Dn(t)&&(h[t]=n)}else if(a){0;for(const t in a){const e=T(t);if(Dn(e)){const i=a[t],n=h[e]=f(i)||_(i)?{type:i}:l({},i),r=n.type;let o=!1,s=!0;if(f(r))for(let t=0;t<r.length;++t){const e=r[t],i=_(e)&&e.name;if("Boolean"===i){o=!0;break}"String"===i&&(s=!1)}else o=_(r)&&"Boolean"===r.name;n[0]=o,n[1]=s,(o||p(n,"default"))&&u.push(e)}}}const d=[h,u];return b(t)&&o.set(t,d),d}function Dn(t){return"$"!==t[0]&&!P(t)}const kn=t=>"_"===t[0]||"$stable"===t,Fn=t=>f(t)?t.map(Vr):[Vr(t)],Bn=(t,e,i)=>{if(e._n)return e;const n=di(((...t)=>Fn(e(...t))),i);return n._c=!1,n},zn=(t,e,i)=>{const n=t._ctx;for(const r in t){if(kn(r))continue;const i=t[r];if(_(i))e[r]=Bn(r,i,n);else if(null!=i){0;const t=Fn(i);e[r]=()=>t}}},jn=(t,e)=>{const i=Fn(e);t.slots.default=()=>i},Un=(t,e,i)=>{for(const n in e)(i||"_"!==n)&&(t[n]=e[n])},Gn=(t,e,i)=>{const n=t.slots=In();if(32&t.vnode.shapeFlag){const t=e._;t?(Un(n,e,i),i&&z(n,"_",t,!0)):zn(e,n)}else e&&jn(t,e)},Vn=(t,e,i)=>{const{vnode:r,slots:o}=t;let s=!0,a=n;if(32&r.shapeFlag){const t=e._;t?i&&1===t?s=!1:Un(o,e,i):(s=!e.$stable,zn(e,o)),a=e}else e&&(jn(t,e),a={default:1});if(s)for(const n in o)kn(n)||null!=a[n]||delete o[n]};function qn(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(G().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Wn=_r;function Yn(t){return Hn(t)}function Hn(t,e){qn();const i=G();i.__VUE__=!0;const{insert:s,remove:a,patchProp:h,createElement:l,createText:u,createComment:c,setText:p,setElementText:f,parentNode:d,nextSibling:g,setScopeId:y=o,insertStaticContent:m}=t,_=(t,e,i,n=null,r=null,o=null,s=void 0,a=null,h=!!e.dynamicChildren)=>{if(t===e)return;t&&!Ar(t,e)&&(n=Z(t),q(t,r,o,!0),t=null),-2===e.patchFlag&&(h=!1,e.dynamicChildren=null);const{type:l,ref:u,shapeFlag:c}=e;switch(l){case xr:v(t,e,i,n);break;case br:x(t,e,i,n);break;case wr:null==t&&b(e,i,n,s);break;case vr:T(t,e,i,n,r,o,s,a,h);break;default:1&c?E(t,e,i,n,r,o,s,a,h):6&c?A(t,e,i,n,r,o,s,a,h):(64&c||128&c)&&l.process(t,e,i,n,r,o,s,a,h,K)}null!=u&&r&&wi(u,t&&t.ref,o,e||t,!e)},v=(t,e,i,n)=>{if(null==t)s(e.el=u(e.children),i,n);else{const i=e.el=t.el;e.children!==t.children&&p(i,e.children)}},x=(t,e,i,n)=>{null==t?s(e.el=c(e.children||""),i,n):e.el=t.el},b=(t,e,i,n)=>{[t.el,t.anchor]=m(t.children,e,i,n,t.el,t.anchor)},w=({el:t,anchor:e},i,n)=>{let r;while(t&&t!==e)r=g(t),s(t,i,n),t=r;s(e,i,n)},M=({el:t,anchor:e})=>{let i;while(t&&t!==e)i=g(t),a(t),t=i;a(e)},E=(t,e,i,n,r,o,s,a,h)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?S(e,i,n,r,o,s,a,h):L(t,e,r,o,s,a,h)},S=(t,e,i,n,r,o,a,u)=>{let c,p;const{props:d,shapeFlag:g,transition:y,dirs:m}=t;if(c=t.el=l(t.type,o,d&&d.is,d),8&g?f(c,t.children):16&g&&I(t.children,c,null,n,r,Xn(t,o),a,u),m&&yi(t,null,n,"created"),C(c,t,t.scopeId,a,n),d){for(const t in d)"value"===t||P(t)||h(c,t,null,d[t],o,n);"value"in d&&h(c,"value",null,d.value,o),(p=d.onVnodeBeforeMount)&&Hr(p,n,t)}m&&yi(t,null,n,"beforeMount");const _=$n(r,y);_&&y.beforeEnter(c),s(c,e,i),((p=d&&d.onVnodeMounted)||_||m)&&Wn((()=>{p&&Hr(p,n,t),_&&y.enter(c),m&&yi(t,null,n,"mounted")}),r)},C=(t,e,i,n,r)=>{if(i&&y(t,i),n)for(let o=0;o<n.length;o++)y(t,n[o]);if(r){let i=r.subTree;if(e===i||mr(i.type)&&(i.ssContent===e||i.ssFallback===e)){const e=r.vnode;C(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},I=(t,e,i,n,r,o,s,a,h=0)=>{for(let l=h;l<t.length;l++){const h=t[l]=a?qr(t[l]):Vr(t[l]);_(null,h,e,i,n,r,o,s,a)}},L=(t,e,i,r,o,s,a)=>{const l=e.el=t.el;let{patchFlag:u,dynamicChildren:c,dirs:p}=e;u|=16&t.patchFlag;const d=t.props||n,g=e.props||n;let y;if(i&&Zn(i,!1),(y=g.onVnodeBeforeUpdate)&&Hr(y,i,e,t),p&&yi(e,t,i,"beforeUpdate"),i&&Zn(i,!0),(d.innerHTML&&null==g.innerHTML||d.textContent&&null==g.textContent)&&f(l,""),c?O(t.dynamicChildren,c,l,i,r,Xn(e,o),s):a||z(t,e,l,null,i,r,Xn(e,o),s,!1),u>0){if(16&u)N(l,d,g,i,o);else if(2&u&&d.class!==g.class&&h(l,"class",null,g.class,o),4&u&&h(l,"style",d.style,g.style,o),8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e],r=d[n],s=g[n];s===r&&"value"!==n||h(l,n,r,s,o,i)}}1&u&&t.children!==e.children&&f(l,e.children)}else a||null!=c||N(l,d,g,i,o);((y=g.onVnodeUpdated)||p)&&Wn((()=>{y&&Hr(y,i,e,t),p&&yi(e,t,i,"updated")}),r)},O=(t,e,i,n,r,o,s)=>{for(let a=0;a<e.length;a++){const h=t[a],l=e[a],u=h.el&&(h.type===vr||!Ar(h,l)||70&h.shapeFlag)?d(h.el):i;_(h,l,u,null,n,r,o,s,!0)}},N=(t,e,i,r,o)=>{if(e!==i){if(e!==n)for(const n in e)P(n)||n in i||h(t,n,e[n],null,o,r);for(const n in i){if(P(n))continue;const s=i[n],a=e[n];s!==a&&"value"!==n&&h(t,n,a,s,o,r)}"value"in i&&h(t,"value",e.value,i.value,o)}},T=(t,e,i,n,r,o,a,h,l)=>{const c=e.el=t?t.el:u(""),p=e.anchor=t?t.anchor:u("");let{patchFlag:f,dynamicChildren:d,slotScopeIds:g}=e;g&&(h=h?h.concat(g):g),null==t?(s(c,i,n),s(p,i,n),I(e.children||[],i,p,r,o,a,h,l)):f>0&&64&f&&d&&t.dynamicChildren?(O(t.dynamicChildren,d,i,r,o,a,h),(null!=e.key||r&&e===r.subTree)&&Jn(t,e,!0)):z(t,e,i,p,r,o,a,h,l)},A=(t,e,i,n,r,o,s,a,h)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,i,n,s,h):R(e,i,n,r,o,s,h):D(t,e,h)},R=(t,e,i,n,r,o,s)=>{const a=t.component=$r(t,n,r);if(Ei(t)&&(a.ctx.renderer=K),ao(a,!1,s),a.asyncDep){if(r&&r.registerDep(a,k,s),!t.el){const t=a.subTree=Fr(br);x(null,t,e,i)}}else k(a,t,e,i,r,o,s)},D=(t,e,i)=>{const n=e.component=t.component;if(dr(t,e,i)){if(n.asyncDep&&!n.asyncResolved)return void F(n,e,i);n.next=e,n.update()}else e.el=t.el,n.vnode=e},k=(t,e,i,n,r,o,s)=>{const a=()=>{if(t.isMounted){let{next:e,bu:i,u:n,parent:h,vnode:l}=t;{const i=Qn(t);if(i)return e&&(e.el=l.el,F(t,e,s)),void i.asyncDep.then((()=>{t.isUnmounted||a()}))}let u,c=e;0,Zn(t,!1),e?(e.el=l.el,F(t,e,s)):e=l,i&&B(i),(u=e.props&&e.props.onVnodeBeforeUpdate)&&Hr(u,h,e,l),Zn(t,!0);const p=cr(t);0;const f=t.subTree;t.subTree=p,_(f,p,d(f.el),Z(f),t,r,o),e.el=p.el,null===c&&yr(t,p.el),n&&Wn(n,r),(u=e.props&&e.props.onVnodeUpdated)&&Wn((()=>Hr(u,h,e,l)),r)}else{let s;const{el:a,props:h}=e,{bm:l,m:u,parent:c,root:p,type:f}=t,d=Mi(e);if(Zn(t,!1),l&&B(l),!d&&(s=h&&h.onVnodeBeforeMount)&&Hr(s,c,e),Zn(t,!0),a&&tt){const e=()=>{t.subTree=cr(t),tt(a,t.subTree,t,r,null)};d&&f.__asyncHydrate?f.__asyncHydrate(a,t,e):e()}else{p.ce&&p.ce._injectChildStyle(f);const s=t.subTree=cr(t);0,_(null,s,i,n,t,r,o),e.el=s.el}if(u&&Wn(u,r),!d&&(s=h&&h.onVnodeMounted)){const t=e;Wn((()=>Hr(s,c,t)),r)}(256&e.shapeFlag||c&&Mi(c.vnode)&&256&c.vnode.shapeFlag)&&t.a&&Wn(t.a,r),t.isMounted=!0,e=i=n=null}};t.scope.on();const h=t.effect=new ut(a);t.scope.off();const l=t.update=h.run.bind(h),u=t.job=h.runIfDirty.bind(h);u.i=t,u.id=t.uid,h.scheduler=()=>ri(u),Zn(t,!0),l()},F=(t,e,i)=>{e.component=t;const n=t.vnode.props;t.vnode=e,t.next=null,On(t,e.props,n,i),Vn(t,e.children,i),St(),ai(t),Ct()},z=(t,e,i,n,r,o,s,a,h=!1)=>{const l=t&&t.children,u=t?t.shapeFlag:0,c=e.children,{patchFlag:p,shapeFlag:d}=e;if(p>0){if(128&p)return void U(l,c,i,n,r,o,s,a,h);if(256&p)return void j(l,c,i,n,r,o,s,a,h)}8&d?(16&u&&X(l,r,o),c!==l&&f(i,c)):16&u?16&d?U(l,c,i,n,r,o,s,a,h):X(l,r,o,!0):(8&u&&f(i,""),16&d&&I(c,i,n,r,o,s,a,h))},j=(t,e,i,n,o,s,a,h,l)=>{t=t||r,e=e||r;const u=t.length,c=e.length,p=Math.min(u,c);let f;for(f=0;f<p;f++){const n=e[f]=l?qr(e[f]):Vr(e[f]);_(t[f],n,i,null,o,s,a,h,l)}u>c?X(t,o,s,!0,!1,p):I(e,i,n,o,s,a,h,l,p)},U=(t,e,i,n,o,s,a,h,l)=>{let u=0;const c=e.length;let p=t.length-1,f=c-1;while(u<=p&&u<=f){const n=t[u],r=e[u]=l?qr(e[u]):Vr(e[u]);if(!Ar(n,r))break;_(n,r,i,null,o,s,a,h,l),u++}while(u<=p&&u<=f){const n=t[p],r=e[f]=l?qr(e[f]):Vr(e[f]);if(!Ar(n,r))break;_(n,r,i,null,o,s,a,h,l),p--,f--}if(u>p){if(u<=f){const t=f+1,r=t<c?e[t].el:n;while(u<=f)_(null,e[u]=l?qr(e[u]):Vr(e[u]),i,r,o,s,a,h,l),u++}}else if(u>f)while(u<=p)q(t[u],o,s,!0),u++;else{const d=u,g=u,y=new Map;for(u=g;u<=f;u++){const t=e[u]=l?qr(e[u]):Vr(e[u]);null!=t.key&&y.set(t.key,u)}let m,v=0;const x=f-g+1;let b=!1,w=0;const M=new Array(x);for(u=0;u<x;u++)M[u]=0;for(u=d;u<=p;u++){const n=t[u];if(v>=x){q(n,o,s,!0);continue}let r;if(null!=n.key)r=y.get(n.key);else for(m=g;m<=f;m++)if(0===M[m-g]&&Ar(n,e[m])){r=m;break}void 0===r?q(n,o,s,!0):(M[r-g]=u+1,r>=w?w=r:b=!0,_(n,e[r],i,null,o,s,a,h,l),v++)}const E=b?Kn(M):r;for(m=E.length-1,u=x-1;u>=0;u--){const t=g+u,r=e[t],p=t+1<c?e[t+1].el:n;0===M[u]?_(null,r,i,p,o,s,a,h,l):b&&(m<0||u!==E[m]?V(r,i,p,2):m--)}}},V=(t,e,i,n,r=null)=>{const{el:o,type:a,transition:h,children:l,shapeFlag:u}=t;if(6&u)return void V(t.component.subTree,e,i,n);if(128&u)return void t.suspense.move(e,i,n);if(64&u)return void a.move(t,e,i,K);if(a===vr){s(o,e,i);for(let t=0;t<l.length;t++)V(l[t],e,i,n);return void s(t.anchor,e,i)}if(a===wr)return void w(t,e,i);const c=2!==n&&1&u&&h;if(c)if(0===n)h.beforeEnter(o),s(o,e,i),Wn((()=>h.enter(o)),r);else{const{leave:t,delayLeave:n,afterLeave:r}=h,a=()=>s(o,e,i),l=()=>{t(o,(()=>{a(),r&&r()}))};n?n(o,a,l):l()}else s(o,e,i)},q=(t,e,i,n=!1,r=!1)=>{const{type:o,props:s,ref:a,children:h,dynamicChildren:l,shapeFlag:u,patchFlag:c,dirs:p,cacheIndex:f}=t;if(-2===c&&(r=!1),null!=a&&wi(a,null,i,t,!0),null!=f&&(e.renderCache[f]=void 0),256&u)return void e.ctx.deactivate(t);const d=1&u&&p,g=!Mi(t);let y;if(g&&(y=s&&s.onVnodeBeforeUnmount)&&Hr(y,e,t),6&u)H(t.component,i,n);else{if(128&u)return void t.suspense.unmount(i,n);d&&yi(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,i,K,n):l&&!l.hasOnce&&(o!==vr||c>0&&64&c)?X(l,e,i,!1,!0):(o===vr&&384&c||!r&&16&u)&&X(h,e,i),n&&W(t)}(g&&(y=s&&s.onVnodeUnmounted)||d)&&Wn((()=>{y&&Hr(y,e,t),d&&yi(t,null,e,"unmounted")}),i)},W=t=>{const{type:e,el:i,anchor:n,transition:r}=t;if(e===vr)return void Y(i,n);if(e===wr)return void M(t);const o=()=>{a(i),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:n}=r,s=()=>e(i,o);n?n(t.el,o,s):s()}else o()},Y=(t,e)=>{let i;while(t!==e)i=g(t),a(t),t=i;a(e)},H=(t,e,i)=>{const{bum:n,scope:r,job:o,subTree:s,um:a,m:h,a:l}=t;tr(h),tr(l),n&&B(n),r.stop(),o&&(o.flags|=8,q(s,t,e,i)),a&&Wn(a,e),Wn((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,i,n=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)q(t[s],e,i,n,r)},Z=t=>{if(6&t.shapeFlag)return Z(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=g(t.anchor||t.el),i=e&&e[mi];return i?g(i):e};let $=!1;const J=(t,e,i)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):_(e._vnode||null,t,e,null,null,null,i),e._vnode=t,$||($=!0,ai(),hi(),$=!1)},K={p:_,um:q,m:V,r:W,mt:R,mc:I,pc:z,pbc:O,n:Z,o:t};let Q,tt;return e&&([Q,tt]=e(K)),{render:J,hydrate:Q,createApp:wn(J,Q)}}function Xn({type:t,props:e},i){return"svg"===i&&"foreignObject"===t||"mathml"===i&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:i}function Zn({effect:t,job:e},i){i?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $n(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Jn(t,e,i=!1){const n=t.children,r=e.children;if(f(n)&&f(r))for(let o=0;o<n.length;o++){const t=n[o];let e=r[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[o]=qr(r[o]),e.el=t.el),i||-2===e.patchFlag||Jn(t,e)),e.type===xr&&(e.el=t.el)}}function Kn(t){const e=t.slice(),i=[0];let n,r,o,s,a;const h=t.length;for(n=0;n<h;n++){const h=t[n];if(0!==h){if(r=i[i.length-1],t[r]<h){e[n]=r,i.push(n);continue}o=0,s=i.length-1;while(o<s)a=o+s>>1,t[i[a]]<h?o=a+1:s=a;h<t[i[o]]&&(o>0&&(e[n]=i[o-1]),i[o]=n)}}o=i.length,s=i[o-1];while(o-- >0)i[o]=s,s=e[s];return i}function Qn(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Qn(e)}function tr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const er=Symbol.for("v-scx"),ir=()=>{{const t=Sn(er);return t}};function nr(t,e,i){return rr(t,e,i)}function rr(t,e,i=n){const{immediate:r,deep:s,flush:a,once:h}=i;const u=l({},i);const c=e&&r||!e&&"post"!==a;let p;if(so)if("sync"===a){const t=ir();p=t.__watcherHandles||(t.__watcherHandles=[])}else if(!c){const t=()=>{};return t.stop=o,t.resume=o,t.pause=o,t}const f=Jr;u.call=(t,e,i)=>Ye(t,f,e,i);let d=!1;"post"===a?u.scheduler=t=>{Wn(t,f&&f.suspense)}:"sync"!==a&&(d=!0,u.scheduler=(t,e)=>{e?t():ri(t)}),u.augmentJob=t=>{e&&(t.flags|=4),d&&(t.flags|=2,f&&(t.id=f.uid,t.i=f))};const g=Ve(t,e,u);return so&&(p?p.push(g):c&&g()),g}function or(t,e,i){const n=this.proxy,r=v(t)?t.includes(".")?sr(n,t):()=>n[t]:t.bind(n,n);let o;_(e)?o=e:(o=e.handler,i=e);const s=eo(this),a=rr(r,o.bind(n),i);return s(),a}function sr(t,e){const i=e.split(".");return()=>{let e=t;for(let t=0;t<i.length&&e;t++)e=e[i[t]];return e}}const ar=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${T(e)}Modifiers`]||t[`${R(e)}Modifiers`];function hr(t,e,...i){if(t.isUnmounted)return;const r=t.vnode.props||n;let o=i;const s=e.startsWith("update:"),a=s&&ar(r,e.slice(7));let h;a&&(a.trim&&(o=i.map((t=>v(t)?t.trim():t))),a.number&&(o=i.map(j)));let l=r[h=k(e)]||r[h=k(T(e))];!l&&s&&(l=r[h=k(R(e))]),l&&Ye(l,t,6,o);const u=r[h+"Once"];if(u){if(t.emitted){if(t.emitted[h])return}else t.emitted={};t.emitted[h]=!0,Ye(u,t,6,o)}}function lr(t,e,i=!1){const n=e.emitsCache,r=n.get(t);if(void 0!==r)return r;const o=t.emits;let s={},a=!1;if(!_(t)){const n=t=>{const i=lr(t,e,!0);i&&(a=!0,l(s,i))};!i&&e.mixins.length&&e.mixins.forEach(n),t.extends&&n(t.extends),t.mixins&&t.mixins.forEach(n)}return o||a?(f(o)?o.forEach((t=>s[t]=null)):l(s,o),b(t)&&n.set(t,s),s):(b(t)&&n.set(t,null),null)}function ur(t,e){return!(!t||!a(e))&&(e=e.slice(2).replace(/Once$/,""),p(t,e[0].toLowerCase()+e.slice(1))||p(t,R(e))||p(t,e))}function cr(t){const{type:e,vnode:i,proxy:n,withProxy:r,propsOptions:[o],slots:s,attrs:a,emit:l,render:u,renderCache:c,props:p,data:f,setupState:d,ctx:g,inheritAttrs:y}=t,m=fi(t);let _,v;try{if(4&i.shapeFlag){const t=r||n,e=t;_=Vr(u.call(e,t,c,p,d,f,g)),v=a}else{const t=e;0,_=Vr(t.length>1?t(p,{attrs:a,slots:s,emit:l}):t(p,null)),v=e.props?a:pr(a)}}catch(b){Mr.length=0,He(b,t,1),_=Fr(br)}let x=_;if(v&&!1!==y){const t=Object.keys(v),{shapeFlag:e}=x;t.length&&7&e&&(o&&t.some(h)&&(v=fr(v,o)),x=jr(x,v,!1,!0))}return i.dirs&&(x=jr(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(i.dirs):i.dirs),i.transition&&xi(x,i.transition),_=x,fi(m),_}const pr=t=>{let e;for(const i in t)("class"===i||"style"===i||a(i))&&((e||(e={}))[i]=t[i]);return e},fr=(t,e)=>{const i={};for(const n in t)h(n)&&n.slice(9)in e||(i[n]=t[n]);return i};function dr(t,e,i){const{props:n,children:r,component:o}=t,{props:s,children:a,patchFlag:h}=e,l=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(i&&h>=0))return!(!r&&!a||a&&a.$stable)||n!==s&&(n?!s||gr(n,s,l):!!s);if(1024&h)return!0;if(16&h)return n?gr(n,s,l):!!s;if(8&h){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const i=t[e];if(s[i]!==n[i]&&!ur(l,i))return!0}}return!1}function gr(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(e[o]!==t[o]&&!ur(i,o))return!0}return!1}function yr({vnode:t,parent:e},i){while(e){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n!==t)break;(t=e.vnode).el=i,e=e.parent}}const mr=t=>t.__isSuspense;function _r(t,e){e&&e.pendingBranch?f(t)?e.effects.push(...t):e.effects.push(t):si(t)}const vr=Symbol.for("v-fgt"),xr=Symbol.for("v-txt"),br=Symbol.for("v-cmt"),wr=Symbol.for("v-stc"),Mr=[];let Er=null;function Sr(t=!1){Mr.push(Er=t?null:[])}function Cr(){Mr.pop(),Er=Mr[Mr.length-1]||null}let Ir=1;function Pr(t){Ir+=t,t<0&&Er&&(Er.hasOnce=!0)}function Lr(t){return t.dynamicChildren=Ir>0?Er||r:null,Cr(),Ir>0&&Er&&Er.push(t),t}function Or(t,e,i,n,r,o){return Lr(kr(t,e,i,n,r,o,!0))}function Nr(t,e,i,n,r){return Lr(Fr(t,e,i,n,r,!0))}function Tr(t){return!!t&&!0===t.__v_isVNode}function Ar(t,e){return t.type===e.type&&t.key===e.key}const Rr=({key:t})=>null!=t?t:null,Dr=({ref:t,ref_key:e,ref_for:i})=>("number"===typeof t&&(t=""+t),null!=t?v(t)||Le(t)||_(t)?{i:ci,r:t,k:e,f:!!i}:t:null);function kr(t,e=null,i=null,n=0,r=null,o=(t===vr?0:1),s=!1,a=!1){const h={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Rr(e),ref:e&&Dr(e),scopeId:pi,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ci};return a?(Wr(h,i),128&o&&t.normalize(h)):i&&(h.shapeFlag|=v(i)?8:16),Ir>0&&!s&&Er&&(h.patchFlag>0||6&o)&&32!==h.patchFlag&&Er.push(h),h}const Fr=Br;function Br(t,e=null,i=null,n=0,r=null,o=!1){if(t&&t!==Yi||(t=br),Tr(t)){const n=jr(t,e,!0);return i&&Wr(n,i),Ir>0&&!o&&Er&&(6&n.shapeFlag?Er[Er.indexOf(t)]=n:Er.push(n)),n.patchFlag=-2,n}if(yo(t)&&(t=t.__vccOpts),e){e=zr(e);let{class:t,style:i}=e;t&&!v(t)&&(e.class=X(t)),b(i)&&(Ee(i)&&!f(i)&&(i=l({},i)),e.style=V(i))}const s=v(t)?1:mr(t)?128:_i(t)?64:b(t)?4:_(t)?2:0;return kr(t,e,i,n,r,s,o,!0)}function zr(t){return t?Ee(t)||Pn(t)?l({},t):t:null}function jr(t,e,i=!1,n=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:h}=t,l=e?Yr(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Rr(l),ref:e&&e.ref?i&&o?f(o)?o.concat(Dr(e)):[o,Dr(e)]:Dr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==vr?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:h,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jr(t.ssContent),ssFallback:t.ssFallback&&jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return h&&n&&xi(u,h.clone(u)),u}function Ur(t=" ",e=0){return Fr(xr,null,t,e)}function Gr(t="",e=!1){return e?(Sr(),Nr(br,null,t)):Fr(br,null,t)}function Vr(t){return null==t||"boolean"===typeof t?Fr(br):f(t)?Fr(vr,null,t.slice()):Tr(t)?qr(t):Fr(xr,null,String(t))}function qr(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:jr(t)}function Wr(t,e){let i=0;const{shapeFlag:n}=t;if(null==e)e=null;else if(f(e))i=16;else if("object"===typeof e){if(65&n){const i=e.default;return void(i&&(i._c&&(i._d=!1),Wr(t,i()),i._c&&(i._d=!0)))}{i=32;const n=e._;n||Pn(e)?3===n&&ci&&(1===ci.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=ci}}else _(e)?(e={default:e,_ctx:ci},i=32):(e=String(e),64&n?(i=16,e=[Ur(e)]):i=8);t.children=e,t.shapeFlag|=i}function Yr(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const t in n)if("class"===t)e.class!==n.class&&(e.class=X([e.class,n.class]));else if("style"===t)e.style=V([e.style,n.style]);else if(a(t)){const i=e[t],r=n[t];!r||i===r||f(i)&&i.includes(r)||(e[t]=i?[].concat(i,r):r)}else""!==t&&(e[t]=n[t])}return e}function Hr(t,e,i,n=null){Ye(t,e,7,[i,n])}const Xr=xn();let Zr=0;function $r(t,e,i){const r=t.type,o=(e?e.appContext:t.appContext)||Xr,s={uid:Zr++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new at(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rn(r,o),emitsOptions:lr(r,o),emit:null,emitted:null,propsDefaults:n,inheritAttrs:r.inheritAttrs,ctx:n,data:n,props:n,attrs:n,slots:n,refs:n,setupState:n,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=hr.bind(null,s),t.ce&&t.ce(s),s}let Jr=null;const Kr=()=>Jr||ci;let Qr,to;{const t=G(),e=(e,i)=>{let n;return(n=t[e])||(n=t[e]=[]),n.push(i),t=>{n.length>1?n.forEach((e=>e(t))):n[0](t)}};Qr=e("__VUE_INSTANCE_SETTERS__",(t=>Jr=t)),to=e("__VUE_SSR_SETTERS__",(t=>so=t))}const eo=t=>{const e=Jr;return Qr(t),t.scope.on(),()=>{t.scope.off(),Qr(e)}},io=()=>{Jr&&Jr.scope.off(),Qr(null)};function no(t){return 4&t.vnode.shapeFlag}let ro,oo,so=!1;function ao(t,e=!1,i=!1){e&&to(e);const{props:n,children:r}=t.vnode,o=no(t);Ln(t,n,o,e),Gn(t,r,i);const s=o?ho(t,e):void 0;return e&&to(!1),s}function ho(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,nn);const{setup:n}=i;if(n){St();const i=t.setupContext=n.length>1?po(t):null,r=eo(t),o=We(n,t,0,[t.props,i]),s=w(o);if(Ct(),r(),!s&&!t.sp||Mi(t)||bi(t),s){if(o.then(io,io),e)return o.then((i=>{lo(t,i,e)})).catch((e=>{He(e,t,0)}));t.asyncDep=o}else lo(t,o,e)}else uo(t,e)}function lo(t,e,i){_(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:b(e)&&(t.setupState=ke(e)),uo(t,i)}function uo(t,e,i){const n=t.type;if(!t.render){if(!e&&ro&&!n.render){const e=n.template||un(t).template;if(e){0;const{isCustomElement:i,compilerOptions:r}=t.appContext.config,{delimiters:o,compilerOptions:s}=n,a=l(l({isCustomElement:i,delimiters:o},r),s);n.render=ro(e,a)}}t.render=n.render||o,oo&&oo(t)}{const e=eo(t);St();try{sn(t)}finally{Ct(),e()}}}const co={get(t,e){return kt(t,"get",""),t[e]}};function po(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,co),slots:t.slots,emit:t.emit,expose:e}}function fo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ke(Ce(t.exposed)),{get(e,i){return i in e?e[i]:i in tn?tn[i](t):void 0},has(t,e){return e in t||e in tn}})):t.proxy}function go(t,e=!0){return _(t)?t.displayName||t.name:t.name||e&&t.__name}function yo(t){return _(t)&&"__vccOpts"in t}const mo=(t,e)=>{const i=Be(t,e,so);return i};const _o="3.5.12";
/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let vo;const xo="undefined"!==typeof window&&window.trustedTypes;if(xo)try{vo=xo.createPolicy("vue",{createHTML:t=>t})}catch(RP){}const bo=vo?t=>vo.createHTML(t):t=>t,wo="http://www.w3.org/2000/svg",Mo="http://www.w3.org/1998/Math/MathML",Eo="undefined"!==typeof document?document:null,So=Eo&&Eo.createElement("template"),Co={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r="svg"===e?Eo.createElementNS(wo,t):"mathml"===e?Eo.createElementNS(Mo,t):i?Eo.createElement(t,{is:i}):Eo.createElement(t);return"select"===t&&n&&null!=n.multiple&&r.setAttribute("multiple",n.multiple),r},createText:t=>Eo.createTextNode(t),createComment:t=>Eo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Eo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,r,o){const s=i?i.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),i),r===o||!(r=r.nextSibling))break}else{So.innerHTML=bo("svg"===n?`<svg>${t}</svg>`:"mathml"===n?`<math>${t}</math>`:t);const r=So.content;if("svg"===n||"mathml"===n){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,i)}return[s?s.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}},Io=Symbol("_vtc");Boolean;function Po(t,e,i){const n=t[Io];n&&(e=(e?[e,...n]:[...n]).join(" ")),null==e?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}const Lo=Symbol("_vod"),Oo=Symbol("_vsh");const No=Symbol("");const To=/(^|;)\s*display\s*:/;function Ao(t,e,i){const n=t.style,r=v(i);let o=!1;if(i&&!r){if(e)if(v(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==i[e]&&Do(n,e,"")}else for(const t in e)null==i[t]&&Do(n,t,"");for(const t in i)"display"===t&&(o=!0),Do(n,t,i[t])}else if(r){if(e!==i){const t=n[No];t&&(i+=";"+t),n.cssText=i,o=To.test(i)}}else e&&t.removeAttribute("style");Lo in t&&(t[Lo]=o?n.display:"",t[Oo]&&(n.display="none"))}const Ro=/\s*!important$/;function Do(t,e,i){if(f(i))i.forEach((i=>Do(t,e,i)));else if(null==i&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=Bo(t,e);Ro.test(i)?t.setProperty(R(n),i.replace(Ro,""),"important"):t[n]=i}}const ko=["Webkit","Moz","ms"],Fo={};function Bo(t,e){const i=Fo[e];if(i)return i;let n=T(e);if("filter"!==n&&n in t)return Fo[e]=n;n=D(n);for(let r=0;r<ko.length;r++){const i=ko[r]+n;if(i in t)return Fo[e]=i}return e}const zo="http://www.w3.org/1999/xlink";function jo(t,e,i,n,r,o=$(e)){n&&e.startsWith("xlink:")?null==i?t.removeAttributeNS(zo,e.slice(6,e.length)):t.setAttributeNS(zo,e,i):null==i||o&&!J(i)?t.removeAttribute(e):t.setAttribute(e,o?"":x(i)?String(i):i)}function Uo(t,e,i,n,r){if("innerHTML"===e||"textContent"===e)return void(null!=i&&(t[e]="innerHTML"===e?bo(i):i));const o=t.tagName;if("value"===e&&"PROGRESS"!==o&&!o.includes("-")){const n="OPTION"===o?t.getAttribute("value")||"":t.value,r=null==i?"checkbox"===t.type?"on":"":String(i);return n===r&&"_value"in t||(t.value=r),null==i&&t.removeAttribute(e),void(t._value=i)}let s=!1;if(""===i||null==i){const n=typeof t[e];"boolean"===n?i=J(i):null==i&&"string"===n?(i="",s=!0):"number"===n&&(i=0,s=!0)}try{t[e]=i}catch(RP){0}s&&t.removeAttribute(r||e)}function Go(t,e,i,n){t.addEventListener(e,i,n)}function Vo(t,e,i,n){t.removeEventListener(e,i,n)}const qo=Symbol("_vei");function Wo(t,e,i,n,r=null){const o=t[qo]||(t[qo]={}),s=o[e];if(n&&s)s.value=n;else{const[i,a]=Ho(e);if(n){const s=o[e]=Jo(n,r);Go(t,i,s,a)}else s&&(Vo(t,i,s,a),o[e]=void 0)}}const Yo=/(?:Once|Passive|Capture)$/;function Ho(t){let e;if(Yo.test(t)){let i;e={};while(i=t.match(Yo))t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}const i=":"===t[2]?t.slice(3):R(t.slice(2));return[i,e]}let Xo=0;const Zo=Promise.resolve(),$o=()=>Xo||(Zo.then((()=>Xo=0)),Xo=Date.now());function Jo(t,e){const i=t=>{if(t._vts){if(t._vts<=i.attached)return}else t._vts=Date.now();Ye(Ko(t,i.value),e,5,[t])};return i.value=t,i.attached=$o(),i}function Ko(t,e){if(f(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const Qo=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ts=(t,e,i,n,r,o)=>{const s="svg"===r;"class"===e?Po(t,n,s):"style"===e?Ao(t,i,n):a(e)?h(e)||Wo(t,e,i,n,o):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):es(t,e,n,s))?(Uo(t,e,n),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||jo(t,e,n,s,o,"value"!==e)):!t._isVueCE||!/[A-Z]/.test(e)&&v(n)?("true-value"===e?t._trueValue=n:"false-value"===e&&(t._falseValue=n),jo(t,e,n,s)):Uo(t,T(e),n,o,e)};function es(t,e,i,n){if(n)return"innerHTML"===e||"textContent"===e||!!(e in t&&Qo(e)&&_(i));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!Qo(e)||!v(i))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;Symbol("_moveCb"),Symbol("_enterCb");const is=t=>{const e=t.props["onUpdate:modelValue"]||!1;return f(e)?t=>B(e,t):e};const ns=Symbol("_assign");const rs={deep:!0,created(t,{value:e,modifiers:{number:i}},n){const r=g(e);Go(t,"change",(()=>{const e=Array.prototype.filter.call(t.options,(t=>t.selected)).map((t=>i?j(ss(t)):ss(t)));t[ns](t.multiple?r?new Set(e):e:e[0]),t._assigning=!0,ii((()=>{t._assigning=!1}))})),t[ns]=is(n)},mounted(t,{value:e}){os(t,e)},beforeUpdate(t,e,i){t[ns]=is(i)},updated(t,{value:e}){t._assigning||os(t,e)}};function os(t,e){const i=t.multiple,n=f(e);if(!i||n||g(e)){for(let r=0,o=t.options.length;r<o;r++){const o=t.options[r],s=ss(o);if(i)if(n){const t=typeof s;o.selected="string"===t||"number"===t?e.some((t=>String(t)===String(s))):tt(e,s)>-1}else o.selected=e.has(s);else if(Q(ss(o),e))return void(t.selectedIndex!==r&&(t.selectedIndex=r))}i||-1===t.selectedIndex||(t.selectedIndex=-1)}}function ss(t){return"_value"in t?t._value:t.value}const as=["ctrl","shift","alt","meta"],hs={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>as.some((i=>t[`${i}Key`]&&!e.includes(i)))},ls=(t,e)=>{const i=t._withMods||(t._withMods={}),n=e.join(".");return i[n]||(i[n]=(i,...n)=>{for(let t=0;t<e.length;t++){const n=hs[e[t]];if(n&&n(i,e))return}return t(i,...n)})},us=l({patchProp:ts},Co);let cs;function ps(){return cs||(cs=Yn(us))}const fs=(...t)=>{const e=ps().createApp(...t);const{mount:i}=e;return e.mount=t=>{const n=gs(t);if(!n)return;const r=e._component;_(r)||r.render||r.template||(r.template=n.innerHTML),1===n.nodeType&&(n.textContent="");const o=i(n,!1,ds(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function ds(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function gs(t){if(v(t)){const e=document.querySelector(t);return e}return t}const ys={id:"app"},ms={class:"header"},_s={class:"dropdowns"},vs={class:"dropdown"},xs=["value"],bs={class:"view-selection"},ws={key:0,class:"graph-type-selection"},Ms={key:0,class:"data-display"},Es={class:"year"},Ss={class:"population"},Cs={key:1,class:"map-container"},Is={key:2,class:"graph-container"};function Ps(t,e,i,n,r,o){const s=Wi("l-tile-layer"),a=Wi("l-popup"),h=Wi("l-marker"),l=Wi("l-map");return Sr(),Or("div",ys,[kr("header",ms,[e[12]||(e[12]=kr("h1",{class:"title"}," World Population Visualization",-1)),kr("div",_s,[kr("div",vs,[e[7]||(e[7]=kr("label",null,"Select Country:",-1)),gi(kr("select",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.selectedCountry=e),onChange:e[1]||(e[1]=(...e)=>t.handleCountryChange&&t.handleCountryChange(...e))},[e[6]||(e[6]=kr("option",{value:"",disabled:""},"Select a country",-1)),(Sr(!0),Or(vr,null,$i(t.countries,(t=>(Sr(),Or("option",{key:t.id,value:t.id},it(t.name),9,xs)))),128))],544),[[rs,t.selectedCountry]])]),kr("div",bs,[e[9]||(e[9]=kr("label",null,"Choose View:",-1)),gi(kr("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.selectedView=e),onChange:e[3]||(e[3]=(...e)=>t.handleViewChange&&t.handleViewChange(...e))},e[8]||(e[8]=[kr("option",{value:"text"},"Plain Text",-1),kr("option",{value:"map"},"Map",-1),kr("option",{value:"graph"},"Graph",-1)]),544),[[rs,t.selectedView]])]),"graph"===t.selectedView?(Sr(),Or("div",ws,[e[11]||(e[11]=kr("label",null,"Choose Graph Type:",-1)),gi(kr("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.selectedChartType=e),onChange:e[5]||(e[5]=(...e)=>t.renderChart&&t.renderChart(...e))},e[10]||(e[10]=[kr("option",{value:"line"},"Line",-1),kr("option",{value:"bar"},"Bar",-1),kr("option",{value:"radar"},"Radar",-1)]),544),[[rs,t.selectedChartType]])])):Gr("",!0)])]),"text"===t.selectedView?(Sr(),Or("div",Ms,[e[13]||(e[13]=kr("h3",null,"Population Data by Year",-1)),kr("ul",null,[(Sr(!0),Or(vr,null,$i(t.populationData,(t=>(Sr(),Or("li",{key:t.date,class:"data-item"},[kr("span",Es,"Year: "+it(t.date),1),kr("span",Ss,"Population: "+it(t.value.toLocaleString()),1)])))),128))])])):Gr("",!0),"map"===t.selectedView?(Sr(),Or("div",Cs,[Fr(l,{ref:"mapRef",zoom:2,center:t.mapCenter,style:{height:"600px",width:"100%"}},{default:di((()=>[Fr(s,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Fr(h,{"lat-lng":t.mapCenter},{default:di((()=>[Fr(a,null,{default:di((()=>[Ur(it(t.countryName),1)])),_:1})])),_:1},8,["lat-lng"])])),_:1},8,["center"])])):Gr("",!0),"graph"===t.selectedView?(Sr(),Or("div",Is,e[14]||(e[14]=[kr("canvas",{id:"populationChart",width:"400",height:"400"},null,-1)]))):Gr("",!0)])}i(2577),i(6573),i(8100),i(7936),i(7467),i(4732),i(9577),i(9848);function Ls(t,e){return function(){return t.apply(e,arguments)}}const{toString:Os}=Object.prototype,{getPrototypeOf:Ns}=Object,Ts=(t=>e=>{const i=Os.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),As=t=>(t=t.toLowerCase(),e=>Ts(e)===t),Rs=t=>e=>typeof e===t,{isArray:Ds}=Array,ks=Rs("undefined");function Fs(t){return null!==t&&!ks(t)&&null!==t.constructor&&!ks(t.constructor)&&Us(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Bs=As("ArrayBuffer");function zs(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Bs(t.buffer),e}const js=Rs("string"),Us=Rs("function"),Gs=Rs("number"),Vs=t=>null!==t&&"object"===typeof t,qs=t=>!0===t||!1===t,Ws=t=>{if("object"!==Ts(t))return!1;const e=Ns(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ys=As("Date"),Hs=As("File"),Xs=As("Blob"),Zs=As("FileList"),$s=t=>Vs(t)&&Us(t.pipe),Js=t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Us(t.append)&&("formdata"===(e=Ts(t))||"object"===e&&Us(t.toString)&&"[object FormData]"===t.toString()))},Ks=As("URLSearchParams"),[Qs,ta,ea,ia]=["ReadableStream","Request","Response","Headers"].map(As),na=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ra(t,e,{allOwnKeys:i=!1}={}){if(null===t||"undefined"===typeof t)return;let n,r;if("object"!==typeof t&&(t=[t]),Ds(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let s;for(n=0;n<o;n++)s=r[n],e.call(null,t[s],s,t)}}function oa(t,e){e=e.toLowerCase();const i=Object.keys(t);let n,r=i.length;while(r-- >0)if(n=i[r],e===n.toLowerCase())return n;return null}const sa=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),aa=t=>!ks(t)&&t!==sa;function ha(){const{caseless:t}=aa(this)&&this||{},e={},i=(i,n)=>{const r=t&&oa(e,n)||n;Ws(e[r])&&Ws(i)?e[r]=ha(e[r],i):Ws(i)?e[r]=ha({},i):Ds(i)?e[r]=i.slice():e[r]=i};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ra(arguments[n],i);return e}const la=(t,e,i,{allOwnKeys:n}={})=>(ra(e,((e,n)=>{i&&Us(e)?t[n]=Ls(e,i):t[n]=e}),{allOwnKeys:n}),t),ua=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),ca=(t,e,i,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},pa=(t,e,i,n)=>{let r,o,s;const a={};if(e=e||{},null==t)return e;do{r=Object.getOwnPropertyNames(t),o=r.length;while(o-- >0)s=r[o],n&&!n(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==i&&Ns(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},fa=(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;const n=t.indexOf(e,i);return-1!==n&&n===i},da=t=>{if(!t)return null;if(Ds(t))return t;let e=t.length;if(!Gs(e))return null;const i=new Array(e);while(e-- >0)i[e]=t[e];return i},ga=(t=>e=>t&&e instanceof t)("undefined"!==typeof Uint8Array&&Ns(Uint8Array)),ya=(t,e)=>{const i=t&&t[Symbol.iterator],n=i.call(t);let r;while((r=n.next())&&!r.done){const i=r.value;e.call(t,i[0],i[1])}},ma=(t,e)=>{let i;const n=[];while(null!==(i=t.exec(e)))n.push(i);return n},_a=As("HTMLFormElement"),va=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,i){return e.toUpperCase()+i})),xa=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),ba=As("RegExp"),wa=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),n={};ra(i,((i,r)=>{let o;!1!==(o=e(i,r,t))&&(n[r]=o||i)})),Object.defineProperties(t,n)},Ma=t=>{wa(t,((e,i)=>{if(Us(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=t[i];Us(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},Ea=(t,e)=>{const i={},n=t=>{t.forEach((t=>{i[t]=!0}))};return Ds(t)?n(t):n(String(t).split(e)),i},Sa=()=>{},Ca=(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,Ia="abcdefghijklmnopqrstuvwxyz",Pa="0123456789",La={DIGIT:Pa,ALPHA:Ia,ALPHA_DIGIT:Ia+Ia.toUpperCase()+Pa},Oa=(t=16,e=La.ALPHA_DIGIT)=>{let i="";const{length:n}=e;while(t--)i+=e[Math.random()*n|0];return i};function Na(t){return!!(t&&Us(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])}const Ta=t=>{const e=new Array(10),i=(t,n)=>{if(Vs(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const r=Ds(t)?[]:{};return ra(t,((t,e)=>{const o=i(t,n+1);!ks(o)&&(r[e]=o)})),e[n]=void 0,r}}return t};return i(t,0)},Aa=As("AsyncFunction"),Ra=t=>t&&(Vs(t)||Us(t))&&Us(t.then)&&Us(t.catch),Da=((t,e)=>t?setImmediate:e?((t,e)=>(sa.addEventListener("message",(({source:i,data:n})=>{i===sa&&n===t&&e.length&&e.shift()()}),!1),i=>{e.push(i),sa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))("function"===typeof setImmediate,Us(sa.postMessage)),ka="undefined"!==typeof queueMicrotask?queueMicrotask.bind(sa):"undefined"!==typeof process&&process.nextTick||Da;var Fa={isArray:Ds,isArrayBuffer:Bs,isBuffer:Fs,isFormData:Js,isArrayBufferView:zs,isString:js,isNumber:Gs,isBoolean:qs,isObject:Vs,isPlainObject:Ws,isReadableStream:Qs,isRequest:ta,isResponse:ea,isHeaders:ia,isUndefined:ks,isDate:Ys,isFile:Hs,isBlob:Xs,isRegExp:ba,isFunction:Us,isStream:$s,isURLSearchParams:Ks,isTypedArray:ga,isFileList:Zs,forEach:ra,merge:ha,extend:la,trim:na,stripBOM:ua,inherits:ca,toFlatObject:pa,kindOf:Ts,kindOfTest:As,endsWith:fa,toArray:da,forEachEntry:ya,matchAll:ma,isHTMLForm:_a,hasOwnProperty:xa,hasOwnProp:xa,reduceDescriptors:wa,freezeMethods:Ma,toObjectSet:Ea,toCamelCase:va,noop:Sa,toFiniteNumber:Ca,findKey:oa,global:sa,isContextDefined:aa,ALPHABET:La,generateString:Oa,isSpecCompliantForm:Na,toJSONObject:Ta,isAsyncFn:Aa,isThenable:Ra,setImmediate:Da,asap:ka};i(1795);function Ba(t,e,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Fa.inherits(Ba,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Fa.toJSONObject(this.config),code:this.code,status:this.status}}});const za=Ba.prototype,ja={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{ja[t]={value:t}})),Object.defineProperties(Ba,ja),Object.defineProperty(za,"isAxiosError",{value:!0}),Ba.from=(t,e,i,n,r,o)=>{const s=Object.create(za);return Fa.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),Ba.call(s,t.message,e,i,n,r),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};var Ua=Ba,Ga=null;function Va(t){return Fa.isPlainObject(t)||Fa.isArray(t)}function qa(t){return Fa.endsWith(t,"[]")?t.slice(0,-2):t}function Wa(t,e,i){return t?t.concat(e).map((function(t,e){return t=qa(t),!i&&e?"["+t+"]":t})).join(i?".":""):e}function Ya(t){return Fa.isArray(t)&&!t.some(Va)}const Ha=Fa.toFlatObject(Fa,{},null,(function(t){return/^is[A-Z]/.test(t)}));function Xa(t,e,i){if(!Fa.isObject(t))throw new TypeError("target must be an object");e=e||new(Ga||FormData),i=Fa.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Fa.isUndefined(e[t])}));const n=i.metaTokens,r=i.visitor||u,o=i.dots,s=i.indexes,a=i.Blob||"undefined"!==typeof Blob&&Blob,h=a&&Fa.isSpecCompliantForm(e);if(!Fa.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Fa.isDate(t))return t.toISOString();if(!h&&Fa.isBlob(t))throw new Ua("Blob is not supported. Use a Buffer instead.");return Fa.isArrayBuffer(t)||Fa.isTypedArray(t)?h&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,i,r){let a=t;if(t&&!r&&"object"===typeof t)if(Fa.endsWith(i,"{}"))i=n?i:i.slice(0,-2),t=JSON.stringify(t);else if(Fa.isArray(t)&&Ya(t)||(Fa.isFileList(t)||Fa.endsWith(i,"[]"))&&(a=Fa.toArray(t)))return i=qa(i),a.forEach((function(t,n){!Fa.isUndefined(t)&&null!==t&&e.append(!0===s?Wa([i],n,o):null===s?i:i+"[]",l(t))})),!1;return!!Va(t)||(e.append(Wa(r,i,o),l(t)),!1)}const c=[],p=Object.assign(Ha,{defaultVisitor:u,convertValue:l,isVisitable:Va});function f(t,i){if(!Fa.isUndefined(t)){if(-1!==c.indexOf(t))throw Error("Circular reference detected in "+i.join("."));c.push(t),Fa.forEach(t,(function(t,n){const o=!(Fa.isUndefined(t)||null===t)&&r.call(e,t,Fa.isString(n)?n.trim():n,i,p);!0===o&&f(t,i?i.concat(n):[n])})),c.pop()}}if(!Fa.isObject(t))throw new TypeError("data must be an object");return f(t),e}var Za=Xa;function $a(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Ja(t,e){this._pairs=[],t&&Za(t,this,e)}const Ka=Ja.prototype;Ka.append=function(t,e){this._pairs.push([t,e])},Ka.toString=function(t){const e=t?function(e){return t.call(this,e,$a)}:$a;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var Qa=Ja;function th(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eh(t,e,i){if(!e)return t;const n=i&&i.encode||th,r=i&&i.serialize;let o;if(o=r?r(e,i):Fa.isURLSearchParams(e)?e.toString():new Qa(e,i).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}class ih{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Fa.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}var nh=ih,rh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oh=(i(4603),i(7566),i(8721),"undefined"!==typeof URLSearchParams?URLSearchParams:Qa),sh="undefined"!==typeof FormData?FormData:null,ah="undefined"!==typeof Blob?Blob:null,hh={isBrowser:!0,classes:{URLSearchParams:oh,FormData:sh,Blob:ah},protocols:["http","https","file","blob","url","data"]};const lh="undefined"!==typeof window&&"undefined"!==typeof document,uh="object"===typeof navigator&&navigator||void 0,ch=lh&&(!uh||["ReactNative","NativeScript","NS"].indexOf(uh.product)<0),ph=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),fh=lh&&window.location.href||"http://localhost";var dh={...t,...hh};function gh(t,e){return Za(t,new dh.classes.URLSearchParams,Object.assign({visitor:function(t,e,i,n){return dh.isNode&&Fa.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function yh(t){return Fa.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}function mh(t){const e={},i=Object.keys(t);let n;const r=i.length;let o;for(n=0;n<r;n++)o=i[n],e[o]=t[o];return e}function _h(t){function e(t,i,n,r){let o=t[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=t.length;if(o=!o&&Fa.isArray(n)?n.length:o,a)return Fa.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!s;n[o]&&Fa.isObject(n[o])||(n[o]=[]);const h=e(t,i,n[o],r);return h&&Fa.isArray(n[o])&&(n[o]=mh(n[o])),!s}if(Fa.isFormData(t)&&Fa.isFunction(t.entries)){const i={};return Fa.forEachEntry(t,((t,n)=>{e(yh(t),n,i,0)})),i}return null}var vh=_h;function xh(t,e,i){if(Fa.isString(t))try{return(e||JSON.parse)(t),Fa.trim(t)}catch(RP){if("SyntaxError"!==RP.name)throw RP}return(i||JSON.stringify)(t)}const bh={transitional:rh,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",n=i.indexOf("application/json")>-1,r=Fa.isObject(t);r&&Fa.isHTMLForm(t)&&(t=new FormData(t));const o=Fa.isFormData(t);if(o)return n?JSON.stringify(vh(t)):t;if(Fa.isArrayBuffer(t)||Fa.isBuffer(t)||Fa.isStream(t)||Fa.isFile(t)||Fa.isBlob(t)||Fa.isReadableStream(t))return t;if(Fa.isArrayBufferView(t))return t.buffer;if(Fa.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return gh(t,this.formSerializer).toString();if((s=Fa.isFileList(t))||i.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Za(s?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||n?(e.setContentType("application/json",!1),xh(t)):t}],transformResponse:[function(t){const e=this.transitional||bh.transitional,i=e&&e.forcedJSONParsing,n="json"===this.responseType;if(Fa.isResponse(t)||Fa.isReadableStream(t))return t;if(t&&Fa.isString(t)&&(i&&!this.responseType||n)){const i=e&&e.silentJSONParsing,r=!i&&n;try{return JSON.parse(t)}catch(RP){if(r){if("SyntaxError"===RP.name)throw Ua.from(RP,Ua.ERR_BAD_RESPONSE,this,null,this.response);throw RP}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dh.classes.FormData,Blob:dh.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Fa.forEach(["delete","get","head","post","put","patch"],(t=>{bh.headers[t]={}}));var wh=bh;const Mh=Fa.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Eh=t=>{const e={};let i,n,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),i=t.substring(0,r).trim().toLowerCase(),n=t.substring(r+1).trim(),!i||e[i]&&Mh[i]||("set-cookie"===i?e[i]?e[i].push(n):e[i]=[n]:e[i]=e[i]?e[i]+", "+n:n)})),e};const Sh=Symbol("internals");function Ch(t){return t&&String(t).trim().toLowerCase()}function Ih(t){return!1===t||null==t?t:Fa.isArray(t)?t.map(Ih):String(t)}function Ph(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=i.exec(t))e[n[1]]=n[2];return e}const Lh=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Oh(t,e,i,n,r){return Fa.isFunction(n)?n.call(this,e,i):(r&&(e=i),Fa.isString(e)?Fa.isString(n)?-1!==e.indexOf(n):Fa.isRegExp(n)?n.test(e):void 0:void 0)}function Nh(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}function Th(t,e){const i=Fa.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+i,{value:function(t,i,r){return this[n].call(this,e,t,i,r)},configurable:!0})}))}class Ah{constructor(t){t&&this.set(t)}set(t,e,i){const n=this;function r(t,e,i){const r=Ch(e);if(!r)throw new Error("header name must be a non-empty string");const o=Fa.findKey(n,r);(!o||void 0===n[o]||!0===i||void 0===i&&!1!==n[o])&&(n[o||e]=Ih(t))}const o=(t,e)=>Fa.forEach(t,((t,i)=>r(t,i,e)));if(Fa.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Fa.isString(t)&&(t=t.trim())&&!Lh(t))o(Eh(t),e);else if(Fa.isHeaders(t))for(const[s,a]of t.entries())r(a,s,i);else null!=t&&r(e,t,i);return this}get(t,e){if(t=Ch(t),t){const i=Fa.findKey(this,t);if(i){const t=this[i];if(!e)return t;if(!0===e)return Ph(t);if(Fa.isFunction(e))return e.call(this,t,i);if(Fa.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ch(t),t){const i=Fa.findKey(this,t);return!(!i||void 0===this[i]||e&&!Oh(this,this[i],i,e))}return!1}delete(t,e){const i=this;let n=!1;function r(t){if(t=Ch(t),t){const r=Fa.findKey(i,t);!r||e&&!Oh(i,i[r],r,e)||(delete i[r],n=!0)}}return Fa.isArray(t)?t.forEach(r):r(t),n}clear(t){const e=Object.keys(this);let i=e.length,n=!1;while(i--){const r=e[i];t&&!Oh(this,this[r],r,t,!0)||(delete this[r],n=!0)}return n}normalize(t){const e=this,i={};return Fa.forEach(this,((n,r)=>{const o=Fa.findKey(i,r);if(o)return e[o]=Ih(n),void delete e[r];const s=t?Nh(r):String(r).trim();s!==r&&delete e[r],e[s]=Ih(n),i[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Fa.forEach(this,((i,n)=>{null!=i&&!1!==i&&(e[n]=t&&Fa.isArray(i)?i.join(", "):i)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(t){const e=this[Sh]=this[Sh]={accessors:{}},i=e.accessors,n=this.prototype;function r(t){const e=Ch(t);i[e]||(Th(n,t),i[e]=!0)}return Fa.isArray(t)?t.forEach(r):r(t),this}}Ah.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Fa.reduceDescriptors(Ah.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),Fa.freezeMethods(Ah);var Rh=Ah;function Dh(t,e){const i=this||wh,n=e||i,r=Rh.from(n.headers);let o=n.data;return Fa.forEach(t,(function(t){o=t.call(i,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function kh(t){return!(!t||!t.__CANCEL__)}function Fh(t,e,i){Ua.call(this,null==t?"canceled":t,Ua.ERR_CANCELED,e,i),this.name="CanceledError"}Fa.inherits(Fh,Ua,{__CANCEL__:!0});var Bh=Fh;function zh(t,e,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(new Ua("Request failed with status code "+i.status,[Ua.ERR_BAD_REQUEST,Ua.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}function jh(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Uh(t,e){t=t||10;const i=new Array(t),n=new Array(t);let r,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const h=Date.now(),l=n[s];r||(r=h),i[o]=a,n[o]=h;let u=s,c=0;while(u!==o)c+=i[u++],u%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),h-r<e)return;const p=l&&h-l;return p?Math.round(1e3*c/p):void 0}}var Gh=Uh;function Vh(t,e){let i,n,r=0,o=1e3/e;const s=(e,o=Date.now())=>{r=o,i=null,n&&(clearTimeout(n),n=null),t.apply(null,e)},a=(...t)=>{const e=Date.now(),a=e-r;a>=o?s(t,e):(i=t,n||(n=setTimeout((()=>{n=null,s(i)}),o-a)))},h=()=>i&&s(i);return[a,h]}var qh=Vh;const Wh=(t,e,i=3)=>{let n=0;const r=Gh(50,250);return qh((i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,h=r(a),l=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:h||void 0,estimated:h&&s&&l?(s-o)/h:void 0,event:i,lengthComputable:null!=s,[e?"download":"upload"]:!0};t(u)}),i)},Yh=(t,e)=>{const i=null!=t;return[n=>e[0]({lengthComputable:i,total:t,loaded:n}),e[1]]},Hh=t=>(...e)=>Fa.asap((()=>t(...e)));i(4979);var Xh=dh.hasStandardBrowserEnv?function(){const t=dh.navigator&&/(msie|trident)/i.test(dh.navigator.userAgent),e=document.createElement("a");let i;function n(i){let n=i;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return i=n(window.location.href),function(t){const e=Fa.isString(t)?n(t):t;return e.protocol===i.protocol&&e.host===i.host}}():function(){return function(){return!0}}(),Zh=dh.hasStandardBrowserEnv?{write(t,e,i,n,r,o){const s=[t+"="+encodeURIComponent(e)];Fa.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),Fa.isString(n)&&s.push("path="+n),Fa.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $h(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jh(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Kh(t,e){return t&&!$h(e)?Jh(t,e):e}const Qh=t=>t instanceof Rh?{...t}:t;function tl(t,e){e=e||{};const i={};function n(t,e,i){return Fa.isPlainObject(t)&&Fa.isPlainObject(e)?Fa.merge.call({caseless:i},t,e):Fa.isPlainObject(e)?Fa.merge({},e):Fa.isArray(e)?e.slice():e}function r(t,e,i){return Fa.isUndefined(e)?Fa.isUndefined(t)?void 0:n(void 0,t,i):n(t,e,i)}function o(t,e){if(!Fa.isUndefined(e))return n(void 0,e)}function s(t,e){return Fa.isUndefined(e)?Fa.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(i,r,o){return o in e?n(i,r):o in t?n(void 0,i):void 0}const h={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>r(Qh(t),Qh(e),!0)};return Fa.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=h[n]||r,s=o(t[n],e[n],n);Fa.isUndefined(s)&&o!==a||(i[n]=s)})),i}var el=t=>{const e=tl({},t);let i,{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:h}=e;if(e.headers=a=Rh.from(a),e.url=eh(Kh(e.baseURL,e.url),t.params,t.paramsSerializer),h&&a.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Fa.isFormData(n))if(dh.hasStandardBrowserEnv||dh.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(i=a.getContentType())){const[t,...e]=i?i.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(dh.hasStandardBrowserEnv&&(r&&Fa.isFunction(r)&&(r=r(e)),r||!1!==r&&Xh(e.url))){const t=o&&s&&Zh.read(s);t&&a.set(o,t)}return e};const il="undefined"!==typeof XMLHttpRequest;var nl=il&&function(t){return new Promise((function(e,i){const n=el(t);let r=n.data;const o=Rh.from(n.headers).normalize();let s,a,h,l,u,{responseType:c,onUploadProgress:p,onDownloadProgress:f}=n;function d(){l&&l(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function y(){if(!g)return;const n=Rh.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),r=c&&"text"!==c&&"json"!==c?g.response:g.responseText,o={data:r,status:g.status,statusText:g.statusText,headers:n,config:t,request:g};zh((function(t){e(t),d()}),(function(t){i(t),d()}),o),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(i(new Ua("Request aborted",Ua.ECONNABORTED,t,g)),g=null)},g.onerror=function(){i(new Ua("Network Error",Ua.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||rh;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),i(new Ua(e,r.clarifyTimeoutError?Ua.ETIMEDOUT:Ua.ECONNABORTED,t,g)),g=null},void 0===r&&o.setContentType(null),"setRequestHeader"in g&&Fa.forEach(o.toJSON(),(function(t,e){g.setRequestHeader(e,t)})),Fa.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),c&&"json"!==c&&(g.responseType=n.responseType),f&&([h,u]=Wh(f,!0),g.addEventListener("progress",h)),p&&g.upload&&([a,l]=Wh(p),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",l)),(n.cancelToken||n.signal)&&(s=e=>{g&&(i(!e||e.type?new Bh(null,t,g):e),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=jh(n.url);m&&-1===dh.protocols.indexOf(m)?i(new Ua("Unsupported protocol "+m+":",Ua.ERR_BAD_REQUEST,t)):g.send(r||null)}))};const rl=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let i,n=new AbortController;const r=function(t){if(!i){i=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof Ua?e:new Bh(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{o=null,r(new Ua(`timeout ${e} of ms exceeded`,Ua.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(r):t.removeEventListener("abort",r)})),t=null)};t.forEach((t=>t.addEventListener("abort",r)));const{signal:a}=n;return a.unsubscribe=()=>Fa.asap(s),a}};var ol=rl;const sl=function*(t,e){let i=t.byteLength;if(!e||i<e)return void(yield t);let n,r=0;while(r<i)n=r+e,yield t.slice(r,n),r=n},al=async function*(t,e){for await(const i of hl(t))yield*sl(i,e)},hl=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},ll=(t,e,i,n)=>{const r=al(t,e);let o,s=0,a=t=>{o||(o=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await r.next();if(e)return a(),void t.close();let o=n.byteLength;if(i){let t=s+=o;i(t)}t.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel(t){return a(t),r.return()}},{highWaterMark:2})},ul="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,cl=ul&&"function"===typeof ReadableStream,pl=ul&&("function"===typeof TextEncoder?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),fl=(t,...e)=>{try{return!!t(...e)}catch(RP){return!1}},dl=cl&&fl((()=>{let t=!1;const e=new Request(dh.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),gl=65536,yl=cl&&fl((()=>Fa.isReadableStream(new Response("").body))),ml={stream:yl&&(t=>t.body)};ul&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ml[e]&&(ml[e]=Fa.isFunction(t[e])?t=>t[e]():(t,i)=>{throw new Ua(`Response type '${e}' is not supported`,Ua.ERR_NOT_SUPPORT,i)})}))})(new Response);const _l=async t=>{if(null==t)return 0;if(Fa.isBlob(t))return t.size;if(Fa.isSpecCompliantForm(t)){const e=new Request(dh.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return Fa.isArrayBufferView(t)||Fa.isArrayBuffer(t)?t.byteLength:(Fa.isURLSearchParams(t)&&(t+=""),Fa.isString(t)?(await pl(t)).byteLength:void 0)},vl=async(t,e)=>{const i=Fa.toFiniteNumber(t.getContentLength());return null==i?_l(e):i};var xl=ul&&(async t=>{let{url:e,method:i,data:n,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:h,responseType:l,headers:u,withCredentials:c="same-origin",fetchOptions:p}=el(t);l=l?(l+"").toLowerCase():"text";let f,d=ol([r,o&&o.toAbortSignal()],s);const g=d&&d.unsubscribe&&(()=>{d.unsubscribe()});let y;try{if(h&&dl&&"get"!==i&&"head"!==i&&0!==(y=await vl(u,n))){let t,i=new Request(e,{method:"POST",body:n,duplex:"half"});if(Fa.isFormData(n)&&(t=i.headers.get("content-type"))&&u.setContentType(t),i.body){const[t,e]=Yh(y,Wh(Hh(h)));n=ll(i.body,gl,t,e)}}Fa.isString(c)||(c=c?"include":"omit");const r="credentials"in Request.prototype;f=new Request(e,{...p,signal:d,method:i.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:r?c:void 0});let o=await fetch(f);const s=yl&&("stream"===l||"response"===l);if(yl&&(a||s&&g)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=o[e]}));const e=Fa.toFiniteNumber(o.headers.get("content-length")),[i,n]=a&&Yh(e,Wh(Hh(a),!0))||[];o=new Response(ll(o.body,gl,i,(()=>{n&&n(),g&&g()})),t)}l=l||"text";let m=await ml[Fa.findKey(ml,l)||"text"](o,t);return!s&&g&&g(),await new Promise(((e,i)=>{zh(e,i,{data:m,headers:Rh.from(o.headers),status:o.status,statusText:o.statusText,config:t,request:f})}))}catch(m){if(g&&g(),m&&"TypeError"===m.name&&/fetch/i.test(m.message))throw Object.assign(new Ua("Network Error",Ua.ERR_NETWORK,t,f),{cause:m.cause||m});throw Ua.from(m,m&&m.code,t,f)}});const bl={http:Ga,xhr:nl,fetch:xl};Fa.forEach(bl,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(RP){}Object.defineProperty(t,"adapterName",{value:e})}}));const wl=t=>`- ${t}`,Ml=t=>Fa.isFunction(t)||null===t||!1===t;var El={getAdapter:t=>{t=Fa.isArray(t)?t:[t];const{length:e}=t;let i,n;const r={};for(let o=0;o<e;o++){let e;if(i=t[o],n=i,!Ml(i)&&(n=bl[(e=String(i)).toLowerCase()],void 0===n))throw new Ua(`Unknown adapter '${e}'`);if(n)break;r[e||"#"+o]=n}if(!n){const t=Object.entries(r).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let i=e?t.length>1?"since :\n"+t.map(wl).join("\n"):" "+wl(t[0]):"as no adapter specified";throw new Ua("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:bl};function Sl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bh(null,t)}function Cl(t){Sl(t),t.headers=Rh.from(t.headers),t.data=Dh.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const e=El.getAdapter(t.adapter||wh.adapter);return e(t).then((function(e){return Sl(t),e.data=Dh.call(t,t.transformResponse,e),e.headers=Rh.from(e.headers),e}),(function(e){return kh(e)||(Sl(t),e&&e.response&&(e.response.data=Dh.call(t,t.transformResponse,e.response),e.response.headers=Rh.from(e.response.headers))),Promise.reject(e)}))}const Il="1.7.7",Pl={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Pl[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));const Ll={};function Ol(t,e,i){if("object"!==typeof t)throw new Ua("options must be an object",Ua.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;while(r-- >0){const o=n[r],s=e[o];if(s){const e=t[o],i=void 0===e||s(e,o,t);if(!0!==i)throw new Ua("option "+o+" must be "+i,Ua.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new Ua("Unknown option "+o,Ua.ERR_BAD_OPTION)}}Pl.transitional=function(t,e,i){function n(t,e){return"[Axios v"+Il+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,r,o)=>{if(!1===t)throw new Ua(n(r," has been removed"+(e?" in "+e:"")),Ua.ERR_DEPRECATED);return e&&!Ll[r]&&(Ll[r]=!0,console.warn(n(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,r,o)}};var Nl={assertOptions:Ol,validators:Pl};const Tl=Nl.validators;class Al{constructor(t){this.defaults=t,this.interceptors={request:new nh,response:new nh}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{i.stack?e&&!String(i.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+e):i.stack=e}catch(RP){}}throw i}}_request(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=tl(this.defaults,e);const{transitional:i,paramsSerializer:n,headers:r}=e;void 0!==i&&Nl.assertOptions(i,{silentJSONParsing:Tl.transitional(Tl.boolean),forcedJSONParsing:Tl.transitional(Tl.boolean),clarifyTimeoutError:Tl.transitional(Tl.boolean)},!1),null!=n&&(Fa.isFunction(n)?e.paramsSerializer={serialize:n}:Nl.assertOptions(n,{encode:Tl.function,serialize:Tl.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&Fa.merge(r.common,r[e.method]);r&&Fa.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=Rh.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const h=[];let l;this.interceptors.response.forEach((function(t){h.push(t.fulfilled,t.rejected)}));let u,c=0;if(!a){const t=[Cl.bind(this),void 0];t.unshift.apply(t,s),t.push.apply(t,h),u=t.length,l=Promise.resolve(e);while(c<u)l=l.then(t[c++],t[c++]);return l}u=s.length;let p=e;c=0;while(c<u){const t=s[c++],e=s[c++];try{p=t(p)}catch(f){e.call(this,f);break}}try{l=Cl.call(this,p)}catch(f){return Promise.reject(f)}c=0,u=h.length;while(c<u)l=l.then(h[c++],h[c++]);return l}getUri(t){t=tl(this.defaults,t);const e=Kh(t.baseURL,t.url);return eh(e,t.params,t.paramsSerializer)}}Fa.forEach(["delete","get","head","options"],(function(t){Al.prototype[t]=function(e,i){return this.request(tl(i||{},{method:t,url:e,data:(i||{}).data}))}})),Fa.forEach(["post","put","patch"],(function(t){function e(e){return function(i,n,r){return this.request(tl(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}Al.prototype[t]=e(),Al.prototype[t+"Form"]=e(!0)}));var Rl=Al;class Dl{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const i=this;this.promise.then((t=>{if(!i._listeners)return;let e=i._listeners.length;while(e-- >0)i._listeners[e](t);i._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},t((function(t,n,r){i.reason||(i.reason=new Bh(t,n,r),e(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;const e=new Dl((function(e){t=e}));return{token:e,cancel:t}}}var kl=Dl;function Fl(t){return function(e){return t.apply(null,e)}}function Bl(t){return Fa.isObject(t)&&!0===t.isAxiosError}const zl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zl).forEach((([t,e])=>{zl[e]=t}));var jl=zl;function Ul(t){const e=new Rl(t),i=Ls(Rl.prototype.request,e);return Fa.extend(i,Rl.prototype,e,{allOwnKeys:!0}),Fa.extend(i,e,null,{allOwnKeys:!0}),i.create=function(e){return Ul(tl(t,e))},i}const Gl=Ul(wh);Gl.Axios=Rl,Gl.CanceledError=Bh,Gl.CancelToken=kl,Gl.isCancel=kh,Gl.VERSION=Il,Gl.toFormData=Za,Gl.AxiosError=Ua,Gl.Cancel=Gl.CanceledError,Gl.all=function(t){return Promise.all(t)},Gl.spread=Fl,Gl.isAxiosError=Bl,Gl.mergeConfig=tl,Gl.AxiosHeaders=Rh,Gl.formToJSON=t=>vh(Fa.isHTMLForm(t)?new FormData(t):t),Gl.getAdapter=El.getAdapter,Gl.HttpStatusCode=jl,Gl.default=Gl;var Vl=Gl;const ql=["id"];function Wl(t,e,i,n,r,o){return Sr(),Or("div",{id:i.id,class:X(["leaflet-map-container",i.customClass]),style:V(i.customStyle)},[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)],14,ql)}var Yl=i(6886),Hl=i.n(Yl);const Xl=Hl().setOptions,Zl=t=>t&&"function"===typeof t.charAt?t.charAt(0).toUpperCase()+t.slice(1):t,$l=(t,e,i,n)=>{const r=Object.assign({},i,n);for(const o in r){const i="set"+Zl(o),s=r[o].type===Object||r[o].type===Array||Array.isArray(r[o].type);let a=n?"options."+o:o;r[o].custom&&t[i]?t.$watch(a,((e,n)=>{t[i](e,n)}),{deep:s}):"setOptions"===i?t.$watch(a,((t,i)=>{Xl(e,t)}),{deep:s}):e[i]&&t.$watch(a,((t,n)=>{e[i](t)}),{deep:s})}},Jl=t=>{let e=!1;while(t&&!e)void 0===t.self?t=t.$parent:e=!0;return t},Kl=(t,e)=>{let i={};for(let n in e)!e[n]||n&&n.startsWith("_")||"function"!=typeof e[n]||(i[n]=e[n],t[n]=function(...t){return e[n](...t)});return i},Ql=(t,e)=>{if(t.addToMap)t.self.addTo(e.self);else{let i=t.$parent;i&&i.addLayer||(i=e),i.self&&i.self.addLayer(t.self)}},tu=(Hl()||Yl).DomEvent;var eu={props:{options:{type:Object,default:()=>({})},addToMap:{type:Boolean,default:!0},useSelfMethods:{type:Boolean,default:!0}},data(){return{ready:!1,selfOptions:{},self:null}},methods:{getOptions(){return this.selfOptions},getSelf(){return this.self},initFunction(){if(!this.self)return!1;Ql(this,this.lMap);let t={},e={},i=this.$attrs;Object.keys(i).forEach((n=>{if(n&&n.startsWith("on")){let t=n.substring(2);t=t&&t.toLowerCase(),e[t]=i[n]}else t[n]=i[n]})),tu.on(this.self,e),$l(this,this.self,this.$options.props),$l(this,this.self,{},this.options),this.$nextTick((()=>{this.ready=!0,this.useSelfMethods&&Kl(this,this.self),this.$emit("ready",this.self,this.selfOptions)}))}},beforeUnmount(){this.self&&this.self.remove&&this.self.remove()}},iu=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},nu=[1,9],ru=[1,10],ou=[1,11],su=[1,12],au=[1,13],hu=[1,14],lu=[1,15],uu=[1,60],cu=[5,15,19],pu=[1,67],fu=[1,73],du=[1,87],gu=[1,104],yu=[15,19],mu=[1,110],_u=[1,116],vu=[1,130],xu=[1,136],bu={trace:function(){},yy:{},symbols_:{error:2,expressions:3,point:4,EOF:5,linestring:6,polygon:7,multipoint:8,multilinestring:9,multipolygon:10,geometrycollection:11,coordinate:12,DOUBLE_TOK:13,ptarray:14,COMMA:15,ring_list:16,ring:17,"(":18,")":19,POINT:20,Z:21,ZM:22,M:23,EMPTY:24,point_untagged:25,polygon_list:26,polygon_untagged:27,point_list:28,LINESTRING:29,POLYGON:30,MULTIPOINT:31,MULTILINESTRING:32,MULTIPOLYGON:33,geometry:34,geometry_collection:35,GEOMETRYCOLLECTION:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"DOUBLE_TOK",15:"COMMA",18:"(",19:")",20:"POINT",21:"Z",22:"ZM",23:"M",24:"EMPTY",29:"LINESTRING",30:"POLYGON",31:"MULTIPOINT",32:"MULTILINESTRING",33:"MULTIPOLYGON",36:"GEOMETRYCOLLECTION"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[3,2],[12,2],[12,3],[12,4],[14,3],[14,1],[16,3],[16,1],[17,3],[4,4],[4,5],[4,5],[4,5],[4,2],[25,1],[25,3],[26,3],[26,1],[27,3],[28,3],[28,1],[6,4],[6,5],[6,5],[6,5],[6,2],[7,4],[7,5],[7,5],[7,5],[7,2],[8,4],[8,5],[8,5],[8,5],[8,2],[9,4],[9,5],[9,5],[9,5],[9,2],[10,4],[10,5],[10,5],[10,5],[10,2],[34,1],[34,1],[34,1],[34,1],[34,1],[34,1],[34,1],[35,3],[35,1],[11,4],[11,5],[11,5],[11,5],[11,2]],performAction:function(t,e,i,n,r,o,s){var a=o.length-1;switch(r){case 1:case 2:case 3:case 4:case 5:case 6:case 7:return o[a-1];case 8:this.$=new Eu([Number(o[a-1]),Number(o[a])]);break;case 9:this.$=new Eu([Number(o[a-2]),Number(o[a-1]),Number(o[a])]);break;case 10:this.$=new Eu([Number(o[a-3]),Number(o[a-2]),Number(o[a-1]),Number(o[a])]);break;case 11:case 26:this.$=o[a-2].addPoint(o[a]);break;case 12:case 21:case 27:case 53:case 54:case 55:case 56:case 57:case 58:case 59:this.$=o[a];break;case 13:this.$=o[a-2].addRing(o[a]);break;case 14:this.$=new Cu(o[a]);break;case 15:this.$=new Su(o[a-1]);break;case 16:this.$={type:"Point",coordinates:o[a-1].data[0]};break;case 17:this.$={type:"Point",coordinates:o[a-1].data[0],properties:{z:!0}};break;case 18:this.$={type:"Point",coordinates:o[a-1].data[0],properties:{z:!0,m:!0}};break;case 19:this.$={type:"Point",coordinates:o[a-1].data[0],properties:{m:!0}};break;case 20:this.$={type:"Point",coordinates:[]};break;case 22:case 25:this.$=o[a-1];break;case 23:this.$=o[a-2].addPolygon(o[a]);break;case 24:this.$=new Pu(o[a]);break;case 28:this.$={type:"LineString",coordinates:o[a-1].data};break;case 29:this.$={type:"LineString",coordinates:o[a-1].data,properties:{z:!0}};break;case 30:this.$={type:"LineString",coordinates:o[a-1].data,properties:{m:!0}};break;case 31:this.$={type:"LineString",coordinates:o[a-1].data,properties:{z:!0,m:!0}};break;case 32:this.$={type:"LineString",coordinates:[]};break;case 33:this.$={type:"Polygon",coordinates:o[a-1].toJSON()};break;case 34:this.$={type:"Polygon",coordinates:o[a-1].toJSON(),properties:{z:!0}};break;case 35:this.$={type:"Polygon",coordinates:o[a-1].toJSON(),properties:{m:!0}};break;case 36:this.$={type:"Polygon",coordinates:o[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 37:this.$={type:"Polygon",coordinates:[]};break;case 38:this.$={type:"MultiPoint",coordinates:o[a-1].data};break;case 39:this.$={type:"MultiPoint",coordinates:o[a-1].data,properties:{z:!0}};break;case 40:this.$={type:"MultiPoint",coordinates:o[a-1].data,properties:{m:!0}};break;case 41:this.$={type:"MultiPoint",coordinates:o[a-1].data,properties:{z:!0,m:!0}};break;case 42:this.$={type:"MultiPoint",coordinates:[]};break;case 43:this.$={type:"MultiLineString",coordinates:o[a-1].toJSON()};break;case 44:this.$={type:"MultiLineString",coordinates:o[a-1].toJSON(),properties:{z:!0}};break;case 45:this.$={type:"MultiLineString",coordinates:o[a-1].toJSON(),properties:{m:!0}};break;case 46:this.$={type:"MultiLineString",coordinates:o[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 47:this.$={type:"MultiLineString",coordinates:[]};break;case 48:this.$={type:"MultiPolygon",coordinates:o[a-1].toJSON()};break;case 49:this.$={type:"MultiPolygon",coordinates:o[a-1].toJSON(),properties:{z:!0}};break;case 50:this.$={type:"MultiPolygon",coordinates:o[a-1].toJSON(),properties:{m:!0}};break;case 51:this.$={type:"MultiPolygon",coordinates:o[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 52:this.$={type:"MultiPolygon",coordinates:[]};break;case 60:this.$=o[a-2].addGeometry(o[a]);break;case 61:this.$=new Iu(o[a]);break;case 62:this.$={type:"GeometryCollection",geometries:o[a-1].toJSON()};break;case 63:this.$={type:"GeometryCollection",geometries:o[a-1].toJSON(),properties:{z:!0}};break;case 64:this.$={type:"GeometryCollection",geometries:o[a-1].toJSON(),properties:{m:!0}};break;case 65:this.$={type:"GeometryCollection",geometries:o[a-1].toJSON(),properties:{z:!0,m:!0}};break;case 66:this.$={type:"GeometryCollection",geometries:[]};break}},table:[{3:1,4:2,6:3,7:4,8:5,9:6,10:7,11:8,20:nu,29:ru,30:ou,31:su,32:au,33:hu,36:lu},{1:[3]},{5:[1,16]},{5:[1,17]},{5:[1,18]},{5:[1,19]},{5:[1,20]},{5:[1,21]},{5:[1,22]},{18:[1,23],21:[1,24],22:[1,25],23:[1,26],24:[1,27]},{18:[1,28],21:[1,29],22:[1,31],23:[1,30],24:[1,32]},{18:[1,33],21:[1,34],22:[1,36],23:[1,35],24:[1,37]},{18:[1,38],21:[1,39],22:[1,41],23:[1,40],24:[1,42]},{18:[1,43],21:[1,44],22:[1,46],23:[1,45],24:[1,47]},{18:[1,48],21:[1,49],22:[1,51],23:[1,50],24:[1,52]},{18:[1,53],21:[1,54],22:[1,56],23:[1,55],24:[1,57]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{12:59,13:uu,14:58},{18:[1,61]},{18:[1,62]},{18:[1,63]},iu(cu,[2,20]),{12:66,13:uu,18:pu,25:65,28:64},{18:[1,68]},{18:[1,69]},{18:[1,70]},iu(cu,[2,32]),{16:71,17:72,18:fu},{18:[1,74]},{18:[1,75]},{18:[1,76]},iu(cu,[2,37]),{12:66,13:uu,18:pu,25:65,28:77},{18:[1,78]},{18:[1,79]},{18:[1,80]},iu(cu,[2,42]),{16:81,17:72,18:fu},{18:[1,82]},{18:[1,83]},{18:[1,84]},iu(cu,[2,47]),{18:du,26:85,27:86},{18:[1,88]},{18:[1,89]},{18:[1,90]},iu(cu,[2,52]),{4:93,6:94,7:95,8:96,9:97,10:98,11:99,20:nu,29:ru,30:ou,31:su,32:au,33:hu,34:92,35:91,36:lu},{18:[1,100]},{18:[1,101]},{18:[1,102]},iu(cu,[2,66]),{15:gu,19:[1,103]},iu(yu,[2,12]),{13:[1,105]},{12:59,13:uu,14:106},{12:59,13:uu,14:107},{12:59,13:uu,14:108},{15:mu,19:[1,109]},iu(yu,[2,27]),iu(yu,[2,21]),{12:111,13:uu},{12:66,13:uu,18:pu,25:65,28:112},{12:66,13:uu,18:pu,25:65,28:113},{12:66,13:uu,18:pu,25:65,28:114},{15:_u,19:[1,115]},iu(yu,[2,14]),{12:59,13:uu,14:117},{16:118,17:72,18:fu},{16:119,17:72,18:fu},{16:120,17:72,18:fu},{15:mu,19:[1,121]},{12:66,13:uu,18:pu,25:65,28:122},{12:66,13:uu,18:pu,25:65,28:123},{12:66,13:uu,18:pu,25:65,28:124},{15:_u,19:[1,125]},{16:126,17:72,18:fu},{16:127,17:72,18:fu},{16:128,17:72,18:fu},{15:vu,19:[1,129]},iu(yu,[2,24]),{16:131,17:72,18:fu},{18:du,26:132,27:86},{18:du,26:133,27:86},{18:du,26:134,27:86},{15:xu,19:[1,135]},iu(yu,[2,61]),iu(yu,[2,53]),iu(yu,[2,54]),iu(yu,[2,55]),iu(yu,[2,56]),iu(yu,[2,57]),iu(yu,[2,58]),iu(yu,[2,59]),{4:93,6:94,7:95,8:96,9:97,10:98,11:99,20:nu,29:ru,30:ou,31:su,32:au,33:hu,34:92,35:137,36:lu},{4:93,6:94,7:95,8:96,9:97,10:98,11:99,20:nu,29:ru,30:ou,31:su,32:au,33:hu,34:92,35:138,36:lu},{4:93,6:94,7:95,8:96,9:97,10:98,11:99,20:nu,29:ru,30:ou,31:su,32:au,33:hu,34:92,35:139,36:lu},iu(cu,[2,16]),{12:140,13:uu},iu(yu,[2,8],{13:[1,141]}),{15:gu,19:[1,142]},{15:gu,19:[1,143]},{15:gu,19:[1,144]},iu(cu,[2,28]),{12:66,13:uu,18:pu,25:145},{19:[1,146]},{15:mu,19:[1,147]},{15:mu,19:[1,148]},{15:mu,19:[1,149]},iu(cu,[2,33]),{17:150,18:fu},{15:gu,19:[1,151]},{15:_u,19:[1,152]},{15:_u,19:[1,153]},{15:_u,19:[1,154]},iu(cu,[2,38]),{15:mu,19:[1,155]},{15:mu,19:[1,156]},{15:mu,19:[1,157]},iu(cu,[2,43]),{15:_u,19:[1,158]},{15:_u,19:[1,159]},{15:_u,19:[1,160]},iu(cu,[2,48]),{18:du,27:161},{15:_u,19:[1,162]},{15:vu,19:[1,163]},{15:vu,19:[1,164]},{15:vu,19:[1,165]},iu(cu,[2,62]),{4:93,6:94,7:95,8:96,9:97,10:98,11:99,20:nu,29:ru,30:ou,31:su,32:au,33:hu,34:166,36:lu},{15:xu,19:[1,167]},{15:xu,19:[1,168]},{15:xu,19:[1,169]},iu(yu,[2,11]),iu(yu,[2,9],{13:[1,170]}),iu(cu,[2,17]),iu(cu,[2,18]),iu(cu,[2,19]),iu(yu,[2,26]),iu(yu,[2,22]),iu(cu,[2,29]),iu(cu,[2,30]),iu(cu,[2,31]),iu(yu,[2,13]),iu(yu,[2,15]),iu(cu,[2,34]),iu(cu,[2,35]),iu(cu,[2,36]),iu(cu,[2,39]),iu(cu,[2,40]),iu(cu,[2,41]),iu(cu,[2,44]),iu(cu,[2,45]),iu(cu,[2,46]),iu(yu,[2,23]),iu(yu,[2,25]),iu(cu,[2,49]),iu(cu,[2,50]),iu(cu,[2,51]),iu(yu,[2,60]),iu(cu,[2,63]),iu(cu,[2,64]),iu(cu,[2,65]),iu(yu,[2,10])],defaultActions:{16:[2,1],17:[2,2],18:[2,3],19:[2,4],20:[2,5],21:[2,6],22:[2,7]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],n=[null],r=[],o=this.table,s="",a=0,h=0,l=2,u=1,c=r.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);p.setInput(t,f.yy),f.yy.lexer=p,f.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var g=p.yylloc;r.push(g);var y=p.options&&p.options.ranges;"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var m,_,v,x,b,w,M,E,S=function(){var t;return t=p.lex()||u,"number"!==typeof t&&(t=e.symbols_[t]||t),t},C={};while(1){if(_=i[i.length-1],this.defaultActions[_]?v=this.defaultActions[_]:(null!==m&&"undefined"!=typeof m||(m=S()),v=o[_]&&o[_][m]),"undefined"===typeof v||!v.length||!v[0]){var I="";for(b in E=[],o[_])this.terminals_[b]&&b>l&&E.push("'"+this.terminals_[b]+"'");I=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(m==u?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(I,{text:p.match,token:this.terminals_[m]||m,line:p.yylineno,loc:g,expected:E})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+m);switch(v[0]){case 1:i.push(m),n.push(p.yytext),r.push(p.yylloc),i.push(v[1]),m=null,h=p.yyleng,s=p.yytext,a=p.yylineno,g=p.yylloc;break;case 2:if(w=this.productions_[v[1]][1],C.$=n[n.length-w],C._$={first_line:r[r.length-(w||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(w||1)].first_column,last_column:r[r.length-1].last_column},y&&(C._$.range=[r[r.length-(w||1)].range[0],r[r.length-1].range[1]]),x=this.performAction.apply(C,[s,h,a,f.yy,v[1],n,r].concat(c)),"undefined"!==typeof x)return x;w&&(i=i.slice(0,-1*w*2),n=n.slice(0,-1*w),r=r.slice(0,-1*w)),i.push(this.productions_[v[1]][0]),n.push(C.$),r.push(C._$),M=o[i[i.length-2]][i[i.length-1]],i.push(M);break;case 3:return!0}}return!0}},wu=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),n=t[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in r)this[o]=r[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;o<r.length;o++)if(i=this._input.match(this.rules[r[o]]),i&&(!e||i[0].length>e[0].length)){if(e=i,n=o,this.options.backtrack_lexer){if(t=this.test_match(i,r[o]),!1!==t)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,r[n]),!1!==t&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,n){switch(i){case 0:break;case 1:return 18;case 2:return 19;case 3:return 13;case 4:return 20;case 5:return 29;case 6:return 30;case 7:return 31;case 8:return 32;case 9:return 33;case 10:return 36;case 11:return 15;case 12:return 24;case 13:return 23;case 14:return 21;case 15:return 22;case 16:return 5;case 17:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:\()/,/^(?:\))/,/^(?:-?[0-9]+(\.[0-9]+)?([eE][\-\+]?[0-9]+)?)/,/^(?:POINT\b)/,/^(?:LINESTRING\b)/,/^(?:POLYGON\b)/,/^(?:MULTIPOINT\b)/,/^(?:MULTILINESTRING\b)/,/^(?:MULTIPOLYGON\b)/,/^(?:GEOMETRYCOLLECTION\b)/,/^(?:,)/,/^(?:EMPTY\b)/,/^(?:M\b)/,/^(?:Z\b)/,/^(?:ZM\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};return t}();function Mu(){this.yy={}}function Eu(t){this.data=[t],this.type="PointArray"}function Su(t){this.data=t,this.type="Ring"}function Cu(t){this.data=[t],this.type="RingList"}function Iu(t){this.data=[t],this.type="GeometryList"}function Pu(t){this.data=[t],this.type="PolygonList"}bu.lexer=wu,Mu.prototype=bu,bu.Parser=Mu,bu.yy.parseError=function(t){throw t},Eu.prototype.addPoint=function(t){return"PointArray"===t.type?this.data=this.data.concat(t.data):this.data.push(t),this},Eu.prototype.toJSON=function(){return this.data},Su.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.data.length;e++)t.push(this.data.data[e]);return t},Cu.prototype.addRing=function(t){return this.data.push(t),this},Cu.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.length;e++)t.push(this.data[e].toJSON());return t.length,t},Iu.prototype.addGeometry=function(t){return this.data.push(t),this},Iu.prototype.toJSON=function(){return this.data},Pu.prototype.addPolygon=function(t){return this.data.push(t),this},Pu.prototype.toJSON=function(){for(var t=[],e=0;e<this.data.length;e++)t=t.concat([this.data[e].toJSON()]);return t};var Lu=function(t){var e;try{e=bu.parse(t)}catch(i){throw Error("Unable to parse: "+i)}return e},Ou=function(t){for(var e=[],i="",n=0;n<t.length;n++)e.push(t[n].join(" "));return i+="("+e.join(", ")+")",i},Nu=function(t){var e="POINT ";return void 0===t.coordinates||0===t.coordinates.length?(e+="EMPTY",e):(3===t.coordinates.length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates.length&&(e+="ZM "),e+="("+t.coordinates.join(" ")+")",e)},Tu=function(t){var e="LINESTRING ";return void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length?(e+="EMPTY",e):(3===t.coordinates[0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0].length&&(e+="ZM "),e+=Ou(t.coordinates),e)},Au=function(t){var e="POLYGON ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length)return e+="EMPTY",e;3===t.coordinates[0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0].length&&(e+="ZM "),e+="(";for(var i=[],n=0;n<t.coordinates.length;n++)i.push(Ou(t.coordinates[n]));return e+=i.join(", "),e+=")",e},Ru=function(t){var e="MULTIPOINT ";return void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length?(e+="EMPTY",e):(3===t.coordinates[0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0].length&&(e+="ZM "),e+=Ou(t.coordinates),e)},Du=function(t){var e="MULTILINESTRING ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length)return e+="EMPTY",e;3===t.coordinates[0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0].length&&(e+="ZM "),e+="(";for(var i=[],n=0;n<t.coordinates.length;n++)i.push(Ou(t.coordinates[n]));return e+=i.join(", "),e+=")",e},ku=function(t){var e="MULTIPOLYGON ";if(void 0===t.coordinates||0===t.coordinates.length||0===t.coordinates[0].length)return e+="EMPTY",e;3===t.coordinates[0][0][0].length?t.properties&&!0===t.properties.m?e+="M ":e+="Z ":4===t.coordinates[0][0][0].length&&(e+="ZM "),e+="(";for(var i=[],n=0;n<t.coordinates.length;n++){for(var r="(",o=[],s=0;s<t.coordinates[n].length;s++)o.push(Ou(t.coordinates[n][s]));r+=o.join(", "),r+=")",i.push(r)}return e+=i.join(", "),e+=")",e},Fu=function t(e){switch(e.type){case"Point":return Nu(e);case"LineString":return Tu(e);case"Polygon":return Au(e);case"MultiPoint":return Ru(e);case"MultiLineString":return Du(e);case"MultiPolygon":return ku(e);case"GeometryCollection":for(var i="GEOMETRYCOLLECTION",n=[],r=0;r<e.geometries.length;r++)n.push(t(e.geometries[r]));return i+"("+n.join(", ")+")";default:throw Error("Unknown Type: "+e.type)}},Bu=i(8675),zu=i.n(Bu);const ju=zu()||ju,Uu={EPSG4490(){return new ju.CRS("EPSG:4490","+proj=longlat + ellps=GRS80 + no_defs",{resolutions:[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209064925356e-21,13411045324626732e-22],origin:[-180,90]})}},Gu=Hl().CRS,Vu=Hl().DomEvent,qu=Hl().map,Wu=Hl().extend;Hl().latLngBounds,Hl().latLng;var Yu={name:"LMap",mixins:[eu],inheritAttrs:!1,provide:function(){return{lMap:this}},props:{id:{type:String,default:"map",require:!0},customStyle:{type:Object,default(){return{height:"100%",width:"100%","min-height":"100px",border:"1 px solid# ccc"}}},customClass:{type:[String,Object,Array]},crs:{type:[Object,String],validator:function(t){if("string"!=typeof t)return t;{let e=Gu[t];if(e)return e;if(e=Uu[t],"function"==typeof e)return e();console.error("crscrs")}}}},data(){return{originOptions:{zoomControl:!1,attributionControl:!1,center:[29.726219990152643,114.43604336967388],zoom:4,minZoom:1,maxZoom:14},map:null,timer:null,timerNum:0}},methods:{geojsonToWKT(t){return Fu(t)},wktToGeoJSON(t){return Lu(t)},getMap(){return this.map},ensureMapDom(){let t=document.getElementById(this.id);t?this.initMap():this.$nextTick((()=>{try{if(this.timerNum>=10)throw Error("mapidid");this.timer=setTimeout((()=>{this.ensureMapDom(),this.timerNum++}),100)}catch(t){throw Error(t)}}))},initMap(){let t=this.crs,e=t?{crs:"string"==typeof t?Gu[t]||Uu[t]():t}:{},i={},n={},r=this.$attrs;Object.keys(r).forEach((t=>{if(t&&t.startsWith("on")){let e=t.substring(2);e=e&&e.toLowerCase(),n[e]=r[t]}else i[t]=r[t]})),console.log("_listeners-----",n),this.selfOptions=Wu(this.originOptions,this.options,i,e),this.map=qu(this.$el,this.selfOptions),this.self=this.map,Vu.on(this.self,n),$l(this,this.map,this.$options.props),$l(this,this.map,{},this.options),this.$nextTick((()=>{this.ready=!0,this.useSelfMethods&&Kl(this,this.self),this.$emit("ready",this.map,this.selfOptions)}))}},mounted(){this.ensureMapDom()}},Hu=i(1241);const Xu=(0,Hu.A)(Yu,[["render",Wl]]);var Zu=Xu;Zu.install=function(t){t.component(Zu.name,Zu)};var $u=Zu;function Ju(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Ku=Hl().tileLayer,Qu=Hl().extend;var tc={name:"LTileLayer",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Qu(this.originOptions,this.options,this.$attrs),this.self=Ku(this.url,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const ec=(0,Hu.A)(tc,[["render",Ju]]);var ic=ec;ic.install=function(t){t.component(ic.name,ic)};var nc=ic;function rc(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const oc=Hl().tileLayer,sc=Hl().extend;var ac={name:"LWmsTileLayer",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null},params:{type:Object,default(){return{format:"image/png",transparent:!0}}}},data(){return{originOptions:{}}},methods:{setOptions(t,e){},initLeafletObject(){this.selfOptions=sc(this.originOptions,this.options,this.params,this.$attrs),this.self=oc.wms(this.url,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const hc=(0,Hu.A)(ac,[["render",rc]]);var lc=hc;lc.install=function(t){t.component(lc.name,lc)};function uc(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const cc=Hl()&&Hl().TileLayer?Hl().TileLayer:window.L.TileLayer;function pc(t,e){return new cc.WMTS(t,e)}cc.WMTS=cc.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.0.0",layer:"",style:"",tilematrixset:"",format:"image/jpeg"},initialize:function(t,e){this._url=t;var i={},n=Object.keys(e);n.forEach((t=>{i[t.toLowerCase()]=e[t]}));var r=Hl().extend({},this.defaultWmtsParams),o=i.tileSize||this.options.tileSize;for(var s in i.detectRetina&&Hl().Browser.retina?r.width=r.height=2*o:r.width=r.height=o,e.tilematrix&&(r.tilematrix=e.tilematrix),i)r.hasOwnProperty(s)&&"matrixIds"!=s&&(r[s]=i[s]);r.offset=e.zoomOffset||0,this.wmtsParams=r,this.matrixIds=e.matrixIds||this.getDefaultMatrix(),Hl().setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,Hl().TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this.options.tileSize,i=t.multiplyBy(e);i.x+=1,i.y-=1;var n=i.add(new(Hl().Point)(e,e)),r=this.wmtsParams.offset||0,o=this._tileZoom+r,s=this._crs.project(this._map.unproject(i,o)),a=this._crs.project(this._map.unproject(n,o)),h=a.x-s.x,l=this.matrixIds[o].identifier,u=l,c=this.matrixIds[o].topLeftCorner.lng,p=this.matrixIds[o].topLeftCorner.lat,f=Math.floor((s.x-c)/h),d=-Math.floor((s.y-p)/h),g=Hl().Util.template(this._url,{s:this._getSubdomain(t)});let y=Object.assign({},this.wmtsParams);return this.wmtsParams.tilematrix&&(u=this.wmtsParams.tilematrix+(u-1),delete y.tilematrix,console.log("--------",u)),g+Hl().Util.getParamString(y,g)+"&tilematrix="+u+"&tilerow="+d+"&tilecol="+f},setParams:function(t,e){return Hl().extend(this.wmtsParams,t),e||this.redraw(),this},getDefaultMatrix:function(){for(var t=new Array(22),e=0;e<22;e++)t[e]={identifier:1+e,topLeftCorner:new(Hl().LatLng)(90,-180)};return t}});Hl().DomEvent;const fc=Hl().extend;var dc={name:"LWmtsTileLayer",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null}},data(){return{originOptions:{}}},methods:{initLeafletObject(){let t=this.lMap.crs,e={};if("EPSG3857"==t){for(var i=new Array(22),n=0;n<22;n++)i[n]={identifier:n,topLeftCorner:new(Hl().LatLng)(20037508.39,-20037508.39)};e={matrixIds:i}}this.selfOptions=fc(this.originOptions,e,this.options,this.$attrs),this.self=pc(this.url,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const gc=(0,Hu.A)(dc,[["render",uc]]);var yc=gc;yc.install=function(t){t.component(yc.name,yc)};function mc(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const _c=Hl().imageOverlay,vc=Hl().extend;var xc={name:"LImageOverlay",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null},bounds:{type:[Object,Array]}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=vc(this.originOptions,this.options,this.$attrs),this.self=_c(this.url,this.bounds,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const bc=(0,Hu.A)(xc,[["render",mc]]);var wc=bc;wc.install=function(t){t.component(wc.name,wc)};function Mc(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Ec=Hl()&&Hl().ImageOverlay?Hl().ImageOverlay:window.L.ImageOverlay;function Sc(t,e,i,n,r){return new Ec.Rotated(t,e,i,n,r)}Ec.Rotated=Ec.extend({initialize:function(t,e,i,n,r){"string"===typeof t?this._url=t:this._rawImage=t,this._topLeft=Hl().latLng(e),this._topRight=Hl().latLng(i),this._bottomLeft=Hl().latLng(n),Hl().setOptions(this,r)},onAdd:function(t){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Hl().DomUtil.addClass(this._rawImage,"leaflet-interactive"),this.addInteractiveTarget(this._rawImage)),t.on("zoomend resetview",this._reset,this),this.getPane().appendChild(this._image),this._reset()},onRemove:function(t){t.off("zoomend resetview",this._reset,this),Hl().ImageOverlay.prototype.onRemove.call(this,t)},_initImage:function(){var t=this._rawImage;this._url&&(t=Hl().DomUtil.create("img"),t.style.display="none",this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,this._rawImage=t),Hl().DomUtil.addClass(t,"leaflet-image-layer");var e=this._image=Hl().DomUtil.create("div","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));e.appendChild(t),e.onselectstart=Hl().Util.falseFn,e.onmousemove=Hl().Util.falseFn,t.onload=function(){this._reset(),t.style.display="block",this.fire("load")}.bind(this),t.alt=this.options.alt},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._topLeft),i=this._map.latLngToLayerPoint(this._topRight),n=this._map.latLngToLayerPoint(this._bottomLeft),r=i.subtract(e).add(n),o=Hl().bounds([e,i,n,r]),s=o.getSize(),a=e.subtract(o.min),h=i.subtract(e),l=n.subtract(e),u=Math.atan2(h.y,h.x),c=Math.atan2(l.x,l.y);this._bounds=Hl().latLngBounds(this._map.layerPointToLatLng(o.min),this._map.layerPointToLatLng(o.max)),Hl().DomUtil.setPosition(t,o.min),t.style.width=s.x+"px",t.style.height=s.y+"px";var p=this._rawImage.width,f=this._rawImage.height;if(p&&f){var d=e.distanceTo(i)/p*Math.cos(u),g=e.distanceTo(n)/f*Math.cos(c);this._rawImage.style.transformOrigin="0 0",this._rawImage.style.transform="translate("+a.x+"px, "+a.y+"px)skew("+c+"rad, "+u+"rad) scale("+d+", "+g+") "}},reposition:function(t,e,i){this._topLeft=Hl().latLng(t),this._topRight=Hl().latLng(e),this._bottomLeft=Hl().latLng(i),this._reset()},setUrl:function(t){return this._url=t,this._rawImage&&(this._rawImage.src=t),this}});const Cc=Hl().latLng,Ic=Hl().extend;var Pc={name:"LImageOverlayRotated",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null},bounds:{type:[Object,Array]},defaultZIndex:{type:Number},topLayer:{custom:!0,type:Boolean}},data(){return{originOptions:{}}},methods:{setTopLayer(){this.$nextTick((()=>{let t=this.defaultZIndex||9999;this.topLayer&&this.self.setZIndex(t)}))},initLeafletObject(){this.selfOptions=Ic(this.originOptions,this.options,this.$attrs);let t,e,i,n=this.bounds;Array.isArray(n)?(t=Cc(n[0]),e=Cc(n[1]),i=Cc(n[2])):(t=Cc(n.topleft),e=Cc(n.topright),i=Cc(n.bottomleft)),this.self=Sc(this.url,t,e,i,this.selfOptions),this.initFunction(),this.setTopLayer()}},mounted(){this.initLeafletObject()}};const Lc=(0,Hu.A)(Pc,[["render",Mc]]);var Oc=Lc;Oc.install=function(t){t.component(Oc.name,Oc)};function Nc(t,e,i,n,r,o){return Sr(),Or("div",null,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Tc=Hl().videoOverlay,Ac=Hl().extend;var Rc={name:"LVideoOverlay",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{url:{type:String,default:null},bounds:{type:[Object,Array]}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Ac(this.originOptions,this.options,this.$attrs),this.self=Tc(this.url,this.bounds,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const Dc=(0,Hu.A)(Rc,[["render",Nc]]);var kc=Dc;kc.install=function(t){t.component(kc.name,kc)};const Fc={class:"l-base-layer"},Bc=["onClick"],zc={key:3};function jc(t,e,i,n,r,o){return Sr(),Or("div",Fc,[Array.isArray(r.currentLayerOptions)?(Sr(!0),Or(vr,{key:0},$i(r.currentLayerOptions,((t,e)=>(Sr(),Nr(Hi(r.layerComp),Yr({key:r.randomNum+"-"+e,ref_for:!0},t,{ref_for:!0,ref:"layerCompRef"}),null,16)))),128)):"object"==typeof r.currentLayerOptions?(Sr(),Nr(Hi(r.layerComp),Yr({key:1},r.currentLayerOptions,{key:r.randomNum,ref:"layerCompRef"}),null,16)):Gr("",!0),i.showType&&r.mapTypeList?(Sr(),Or("div",{key:2,class:"map-type-wrap",style:V(o.positionClass)},[kr("div",{class:"map-type",onClick:e[0]||(e[0]=ls((()=>{}),["stop"]))},[(Sr(!0),Or(vr,null,$i(r.mapTypeList,((t,e)=>(Sr(),Or("div",{class:X(["map-type-item",[t.nameClass,{active:e==r.visibleIndex},t.customClass]]),key:"map-type-"+e,onClick:i=>o.handleChangeType(t,e)},[kr("span",null,it(t.name),1)],10,Bc)))),128))])],4)):Gr("",!0),t.$slots.default?(Sr(),Or("span",zc,[Ji(t.$slots,"default",{},void 0,!0)])):Gr("",!0)])}const Uc={tileLayer:ic,wmsTileLayer:lc,wmtsTileLayer:yc,videoOverlay:kc,imageOverlay:wc};var Gc={name:"LBaseLayer",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{dToB:{type:[String,Array],default:"20px"},position:{type:String,default:"topright",validator:function(t){return-1!==["topleft","topright","bottomleft","bottomright"].indexOf(t)}},showType:{type:Boolean,default:!0},layersOptions:{type:[Array,Object],default(){return[]}}},setup(){const t=Oe();return{layerCompRef:t}},data(){return{randomNum:Math.random(),layerComp:null,serviceType:"tileLayer",serviceTypeList:["tileLayer","wmsTileLayer","wmtsTileLayer","videoOverlay","imageOverlay"],typeNameObj:{vector:"",terrain:"",image:"",earth:""},visibleIndex:0,currentLayerOptions:null,mapTypeList:null}},computed:{positionClass(){let t=this.dToB,e=this.position;t=Array.isArray(t)?t:t.split(" ");let i=t[0],n=1==t.length?i:t[1],r=e.includes("left")?"left":"right",o=e.includes("top")?"top":"bottom";return{[r]:i,[o]:n}}},watch:{layersOptions:{deep:!0,immediate:!0,handler(t,e){this.dealOptions(!0),this.getMapTypeList()}}},methods:{changeBaseLayer(t,e){if(void 0!=e&&e===this.visibleIndex)return!1;this.serviceType;this.visibleIndex=e,t.type!=this.serviceType&&this.getLayerComp(),this.dealOptions(),this.$nextTick((()=>{this.randomNum=Math.random(),this.$forceUpdate()}))},handleChangeType(t,e){if(e===this.visibleIndex)return!1;let i=this.serviceType;this.visibleIndex=e,t.type!=this.serviceType&&this.getLayerComp(),this.dealOptions(),this.$nextTick((()=>{this.randomNum=Math.random(),this.$forceUpdate()})),this.$emit("changeType",t,i)},dealOptions(t=!1){let e=this.layersOptions;if(Array.isArray(e)){if(t){let t=e.findIndex((t=>t.visible));t=t>-1?t:0,this.visibleIndex=t}e=e[this.visibleIndex]}this.currentLayerOptions=e.config||e,this.getLayerComp()},getMapTypeList(){this.mapTypeList=null;let t=this.layersOptions;if(Array.isArray(t)){let e=this.typeNameObj;this.mapTypeList=t.map(((t,i)=>{let{nameClass:n,name:r}=t;return n&&!r&&e[n]?r=e[n]:console.warn(`l-base-layerlayersOptions${i}"nameClass""name",`),{nameClass:n,name:r,...t}}))}},getLayerComp(){if(!this.currentLayerOptions)return!1;let t=this.layersOptions,e=(Array.isArray(t)?t[this.visibleIndex].type:t.type)||"tileLayer";this.serviceType=e;let i=this.serviceTypeList;i.includes(e)?this.layerComp=Ne(Uc[e]):console.error(`"${e}",\n:${i}`)}},mounted(){this.self=this.layerCompRef}};const Vc=(0,Hu.A)(Gc,[["render",jc],["__scopeId","data-v-81350644"]]);var qc=Vc;qc.install=function(t){t.component(qc.name,qc)};const Wc={class:"l-draw-layer"},Yc=["onClick","title"];function Hc(t,e,i,n,r,o){return Sr(),Or("div",Wc,[kr("div",{class:X(["map-draw-wrap",[i.mode,i.customClass]]),style:V(o.positionClass)},[kr("div",{class:"map-draw",onClick:e[0]||(e[0]=ls((()=>{}),["stop"])),onMousemove:e[1]||(e[1]=ls((()=>{}),["stop"]))},[(Sr(!0),Or(vr,null,$i(r.drawList,((t,e)=>(Sr(),Or("div",{class:X(["map-draw-item",[t.type,{active:t.type==r.editType}]]),onClick:e=>o.handleDrawShape(t),key:"draw-type-"+e,title:t.title},null,10,Yc)))),128))],32)],6)])}var Xc=6371008.8,Zc={centimeters:100*Xc,centimetres:100*Xc,degrees:Xc/111325,feet:3.28084*Xc,inches:39.37*Xc,kilometers:Xc/1e3,kilometres:Xc/1e3,meters:Xc,metres:Xc,miles:Xc/1609.344,millimeters:1e3*Xc,millimetres:1e3*Xc,nauticalmiles:Xc/1852,radians:1,yards:1.0936*Xc};function $c(t,e,i){void 0===i&&(i={});var n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=e||{},n.geometry=t,n}function Jc(t,e,i){if(void 0===i&&(i={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!np(t[0])||!np(t[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:t};return $c(n,e,i)}function Kc(t,e,i){void 0===i&&(i={});for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:t};return $c(a,e,i)}function Qc(t,e,i){if(void 0===i&&(i={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:t};return $c(n,e,i)}function tp(t,e,i){void 0===i&&(i={});var n={type:"MultiPoint",coordinates:t};return $c(n,e,i)}function ep(t,e){void 0===e&&(e="kilometers");var i=Zc[e];if(!i)throw new Error(e+" units is invalid");return t*i}function ip(t){var e=t%360;return e*Math.PI/180}function np(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function rp(t,e,i){if(null!==t)for(var n,r,o,s,a,h,l,u,c=0,p=0,f=t.type,d="FeatureCollection"===f,g="Feature"===f,y=d?t.features.length:1,m=0;m<y;m++){l=d?t.features[m].geometry:g?t.geometry:t,u=!!l&&"GeometryCollection"===l.type,a=u?l.geometries.length:1;for(var _=0;_<a;_++){var v=0,x=0;if(s=u?l.geometries[_]:l,null!==s){h=s.coordinates;var b=s.type;switch(c=!i||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":if(!1===e(h,p,m,v,x))return!1;p++,v++;break;case"LineString":case"MultiPoint":for(n=0;n<h.length;n++){if(!1===e(h[n],p,m,v,x))return!1;p++,"MultiPoint"===b&&v++}"LineString"===b&&v++;break;case"Polygon":case"MultiLineString":for(n=0;n<h.length;n++){for(r=0;r<h[n].length-c;r++){if(!1===e(h[n][r],p,m,v,x))return!1;p++}"MultiLineString"===b&&v++,"Polygon"===b&&x++}"Polygon"===b&&v++;break;case"MultiPolygon":for(n=0;n<h.length;n++){for(x=0,r=0;r<h[n].length;r++){for(o=0;o<h[n][r].length-c;o++){if(!1===e(h[n][r][o],p,m,v,x))return!1;p++}x++}v++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===rp(s.geometries[n],e,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function op(t,e,i,n){var r=i;return rp(t,(function(t,n,o,s,a){r=0===n&&void 0===i?t:e(r,t,n,o,s,a)}),n),r}function sp(t,e){var i,n,r,o,s,a,h,l,u,c,p=0,f="FeatureCollection"===t.type,d="Feature"===t.type,g=f?t.features.length:1;for(i=0;i<g;i++){for(a=f?t.features[i].geometry:d?t.geometry:t,l=f?t.features[i].properties:d?t.properties:{},u=f?t.features[i].bbox:d?t.bbox:void 0,c=f?t.features[i].id:d?t.id:void 0,h=!!a&&"GeometryCollection"===a.type,s=h?a.geometries.length:1,r=0;r<s;r++)if(o=h?a.geometries[r]:a,null!==o)switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,p,l,u,c))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],p,l,u,c))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,p,l,u,c))return!1;p++}}function ap(t,e,i){var n=i;return sp(t,(function(t,r,o,s,a){n=0===r&&void 0===i?t:e(n,t,r,o,s,a)})),n}function hp(t,e){sp(t,(function(t,i,n,r,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e($c(t,n,{bbox:r,id:o}),i,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon";break}for(var h=0;h<t.coordinates.length;h++){var l=t.coordinates[h],u={type:s,coordinates:l};if(!1===e($c(u,n),i,h))return!1}}))}function lp(t,e){hp(t,(function(t,i,n){var r=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,h=0,l=0;return!1!==rp(t,(function(o,u,c,p,f){if(void 0===s||i>a||p>h||f>l)return s=o,a=i,h=p,l=f,void(r=0);var d=Qc([s,o],t.properties);if(!1===e(d,i,n,f,r))return!1;r++,s=o}))&&void 0}}}))}function up(t,e,i){var n=i,r=!1;return lp(t,(function(t,o,s,a,h){n=!1===r&&void 0===i?t:e(n,t,o,s,a,h),r=!0})),n}function cp(t){var e=[1/0,1/0,-1/0,-1/0];return rp(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}cp["default"]=cp;var pp=cp;function fp(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function dp(t,e,i){if(!t)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+t.geometry.type)}function gp(t){return"Feature"===t.type?t.geometry:t}i(6057);i(4801);function yp(t,e,i){if(void 0===i&&(i={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=fp(t),r=gp(e),o=r.type,s=e.bbox,a=r.coordinates;if(s&&!1===_p(n,s))return!1;"Polygon"===o&&(a=[a]);for(var h=!1,l=0;l<a.length&&!h;l++)if(mp(n,a[l][0],i.ignoreBoundary)){var u=!1,c=1;while(c<a[l].length&&!u)mp(n,a[l][c],!i.ignoreBoundary)&&(u=!0),c++;u||(h=!0)}return h}function mp(t,e,i){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],h=e[o][0],l=e[o][1],u=t[1]*(s-h)+a*(h-t[0])+l*(t[0]-s)===0&&(s-t[0])*(h-t[0])<=0&&(a-t[1])*(l-t[1])<=0;if(u)return!i;var c=a>t[1]!==l>t[1]&&t[0]<(h-s)*(t[1]-a)/(l-a)+s;c&&(n=!n)}return n}function _p(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}function vp(t,e,i){void 0===i&&(i={});var n=fp(t),r=fp(e),o=ip(r[1]-n[1]),s=ip(r[0]-n[0]),a=ip(n[1]),h=ip(r[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(h);return ep(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),i.units)}var xp=vp;(function(){function t(t,e,i){this.a=t,this.b=e,this.c=i;var n,r,o=e.x-t.x,s=e.y-t.y,a=i.x-t.x,h=i.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),u=a*(t.x+i.x)+h*(t.y+i.y),c=2*(o*(i.y-e.y)-s*(i.x-e.x));this.x=(h*l-s*u)/c,this.y=(o*u-a*l)/c,this.x-t.x,this.y-t.y,this.r=n*n+r*r}})();Object.prototype.hasOwnProperty;var bp=new ArrayBuffer(16);new Float64Array(bp),new Uint32Array(bp);i(1802);(function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var i=this.points[e],n=this.points[e+1];this.centers.push({x:(i.x+n.x)/2,y:(i.y+n.y)/2,z:(i.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}t.prototype.cacheSteps=function(t){var e=[],i=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var r=this.pos(n),o=Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)+(r.z-i.z)*(r.z-i.z));o>t&&(e.push(n),i=r)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),i=this.pos(t-10);return{angle:180*Math.atan2(e.y-i.y,e.x-i.x)/3.14,speed:Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)+(i.z-e.z)*(i.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var i=e/this.duration;if(i>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*i),r=(this.length-1)*i-n;return wp(r,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])}})();function wp(t,e,i,n,r){var o=Mp(t),s={x:r.x*o[0]+n.x*o[1]+i.x*o[2]+e.x*o[3],y:r.y*o[0]+n.y*o[1]+i.y*o[2]+e.y*o[3],z:r.z*o[0]+n.z*o[1]+i.z*o[2]+e.z*o[3]};return s}function Mp(t){var e=t*t,i=e*t;return[i,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}function Ep(t,e){void 0===e&&(e={});var i=Number(t[0]),n=Number(t[1]),r=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[i,n],a=[i,o],h=[r,o],l=[r,n];return Kc([[s,l,h,a,s]],e.properties,{bbox:t,id:e.id})}function Sp(t){return Ep(pp(t))}var Cp=Sp;i(6583);i(6928);var Ip=6378137;function Pp(t){return ap(t,(function(t,e){return t+Lp(e)}),0)}function Lp(t){var e,i=0;switch(t.type){case"Polygon":return Op(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)i+=Op(t.coordinates[e]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function Op(t){var e=0;if(t&&t.length>0){e+=Math.abs(Np(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(Np(t[i]))}return e}function Np(t){var e,i,n,r,o,s,a,h=0,l=t.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,o=l-1,s=0):a===l-1?(r=l-1,o=0,s=1):(r=a,o=a+1,s=a+2),e=t[r],i=t[o],n=t[s],h+=(Tp(n[0])-Tp(e[0]))*Math.sin(Tp(i[1]));h=h*Ip*Ip/2}return h}function Tp(t){return t*Math.PI/180}function Ap(t,e){return void 0===e&&(e={}),up(t,(function(t,i){var n=i.geometry.coordinates;return t+xp(n[0],n[1],e)}),0)}var Rp=Math.PI/180,Dp=180/Math.PI,kp=function(t,e){this.lon=t,this.lat=e,this.x=Rp*t,this.y=Rp*e};kp.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},kp.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new kp(e,t)};var Fp=function(){this.coords=[],this.length=0};Fp.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Bp=function(t){this.properties=t||{},this.geometries=[]};Bp.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Bp.prototype.wkt=function(){for(var t="",e="LINESTRING(",i=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";var r=this.geometries[n].coords;r.forEach(i),t+=e.substring(0,e.length-1)+")"}return t};var zp=function(t,e,i){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new kp(t.x,t.y),this.end=new kp(e.x,e.y),this.properties=i||{};var n=this.start.x-this.end.x,r=this.start.y-this.end.y,o=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};zp.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),i=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+i*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+i*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+i*Math.sin(this.end.y),s=Dp*Math.atan2(o,Math.sqrt(Math.pow(n,2)+Math.pow(r,2))),a=Dp*Math.atan2(r,n);return[a,s]},zp.prototype.Arc=function(t,e){var i=[];if(!t||t<=2)i.push([this.start.lon,this.start.lat]),i.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),r=0;r<t;++r){var o=n*r,s=this.interpolate(o);i.push(s)}for(var a=!1,h=0,l=e&&e.offset?e.offset:10,u=180-l,c=-180+l,p=360-l,f=1;f<i.length;++f){var d=i[f-1][0],g=i[f][0],y=Math.abs(g-d);y>p&&(g>u&&d<c||d>u&&g<c)?a=!0:y>h&&(h=y)}var m=[];if(a&&h<l){var _=[];m.push(_);for(var v=0;v<i.length;++v){var x=parseFloat(i[v][0]);if(v>0&&Math.abs(x-i[v-1][0])>p){var b=parseFloat(i[v-1][0]),w=parseFloat(i[v-1][1]),M=parseFloat(i[v][0]),E=parseFloat(i[v][1]);if(b>-180&&b<c&&180===M&&v+1<i.length&&i[v-1][0]>-180&&i[v-1][0]<c){_.push([-180,i[v][1]]),v++,_.push([i[v][0],i[v][1]]);continue}if(b>u&&b<180&&-180===M&&v+1<i.length&&i[v-1][0]>u&&i[v-1][0]<180){_.push([180,i[v][1]]),v++,_.push([i[v][0],i[v][1]]);continue}if(b<c&&M>u){var S=b;b=M,M=S;var C=w;w=E,E=C}if(b>u&&M<c&&(M+=360),b<=180&&M>=180&&b<M){var I=(180-b)/(M-b),P=I*E+(1-I)*w;_.push([i[v-1][0]>u?180:-180,P]),_=[],_.push([i[v-1][0]>u?-180:180,P]),m.push(_)}else _=[],m.push(_);_.push([x,i[v][1]])}else _.push([i[v][0],i[v][1]])}}else{var L=[];m.push(L);for(var O=0;O<i.length;++O)L.push([i[O][0],i[O][1]])}for(var N=new Bp(this.properties),T=0;T<m.length;++T){var A=new Fp;N.geometries.push(A);for(var R=m[T],D=0;D<R.length;++D)A.move_to(R[D])}return N};i(3433);var jp=[],Up=[],Gp=[],Vp=[],qp=[],Wp=[],Yp=[],Hp=[],Xp=[],Zp=[],$p=[],Jp=[],Kp=[],Qp=[],tf=[],ef=[],nf=[],rf=[],of=[],sf=[],af=[],hf=[],lf=[],uf=[];Yp[85]=Zp[85]=-1,Hp[85]=$p[85]=0,Xp[85]=Jp[85]=1,of[85]=hf[85]=1,sf[85]=lf[85]=0,af[85]=uf[85]=1,jp[85]=Vp[85]=0,Up[85]=qp[85]=-1,Gp[85]=tf[85]=0,ef[85]=Kp[85]=0,nf[85]=Qp[85]=1,Wp[85]=rf[85]=1,hf[1]=hf[169]=0,lf[1]=lf[169]=-1,uf[1]=uf[169]=0,Kp[1]=Kp[169]=-1,Qp[1]=Qp[169]=0,tf[1]=tf[169]=0,Zp[4]=Zp[166]=0,$p[4]=$p[166]=-1,Jp[4]=Jp[166]=1,ef[4]=ef[166]=1,nf[4]=nf[166]=0,rf[4]=rf[166]=0,Yp[16]=Yp[154]=0,Hp[16]=Hp[154]=1,Xp[16]=Xp[154]=1,Vp[16]=Vp[154]=1,qp[16]=qp[154]=0,Wp[16]=Wp[154]=1,of[64]=of[106]=0,sf[64]=sf[106]=1,af[64]=af[106]=0,jp[64]=jp[106]=-1,Up[64]=Up[106]=0,Gp[64]=Gp[106]=1,of[2]=of[168]=0,sf[2]=sf[168]=-1,af[2]=af[168]=1,hf[2]=hf[168]=0,lf[2]=lf[168]=-1,uf[2]=uf[168]=0,Kp[2]=Kp[168]=-1,Qp[2]=Qp[168]=0,tf[2]=tf[168]=0,ef[2]=ef[168]=-1,nf[2]=nf[168]=0,rf[2]=rf[168]=1,Yp[8]=Yp[162]=0,Hp[8]=Hp[162]=-1,Xp[8]=Xp[162]=0,Zp[8]=Zp[162]=0,$p[8]=$p[162]=-1,Jp[8]=Jp[162]=1,Kp[8]=Kp[162]=1,Qp[8]=Qp[162]=0,tf[8]=tf[162]=1,ef[8]=ef[162]=1,nf[8]=nf[162]=0,rf[8]=rf[162]=0,Yp[32]=Yp[138]=0,Hp[32]=Hp[138]=1,Xp[32]=Xp[138]=1,Zp[32]=Zp[138]=0,$p[32]=$p[138]=1,Jp[32]=Jp[138]=0,jp[32]=jp[138]=1,Up[32]=Up[138]=0,Gp[32]=Gp[138]=0,Vp[32]=Vp[138]=1,qp[32]=qp[138]=0,Wp[32]=Wp[138]=1,hf[128]=hf[42]=0,lf[128]=lf[42]=1,uf[128]=uf[42]=1,of[128]=of[42]=0,sf[128]=sf[42]=1,af[128]=af[42]=0,jp[128]=jp[42]=-1,Up[128]=Up[42]=0,Gp[128]=Gp[42]=1,Vp[128]=Vp[42]=-1,qp[128]=qp[42]=0,Wp[128]=Wp[42]=0,Zp[5]=Zp[165]=-1,$p[5]=$p[165]=0,Jp[5]=Jp[165]=0,hf[5]=hf[165]=1,lf[5]=lf[165]=0,uf[5]=uf[165]=0,ef[20]=ef[150]=0,nf[20]=nf[150]=1,rf[20]=rf[150]=1,Vp[20]=Vp[150]=0,qp[20]=qp[150]=-1,Wp[20]=Wp[150]=1,Yp[80]=Yp[90]=-1,Hp[80]=Hp[90]=0,Xp[80]=Xp[90]=1,of[80]=of[90]=1,sf[80]=sf[90]=0,af[80]=af[90]=1,Kp[65]=Kp[105]=0,Qp[65]=Qp[105]=1,tf[65]=tf[105]=0,jp[65]=jp[105]=0,Up[65]=Up[105]=-1,Gp[65]=Gp[105]=0,Yp[160]=Yp[10]=-1,Hp[160]=Hp[10]=0,Xp[160]=Xp[10]=1,Zp[160]=Zp[10]=-1,$p[160]=$p[10]=0,Jp[160]=Jp[10]=0,hf[160]=hf[10]=1,lf[160]=lf[10]=0,uf[160]=uf[10]=0,of[160]=of[10]=1,sf[160]=sf[10]=0,af[160]=af[10]=1,ef[130]=ef[40]=0,nf[130]=nf[40]=1,rf[130]=rf[40]=1,Kp[130]=Kp[40]=0,Qp[130]=Qp[40]=1,tf[130]=tf[40]=0,jp[130]=jp[40]=0,Up[130]=Up[40]=-1,Gp[130]=Gp[40]=0,Vp[130]=Vp[40]=0,qp[130]=qp[40]=-1,Wp[130]=Wp[40]=1,Zp[37]=Zp[133]=0,$p[37]=$p[133]=1,Jp[37]=Jp[133]=1,hf[37]=hf[133]=0,lf[37]=lf[133]=1,uf[37]=uf[133]=0,jp[37]=jp[133]=-1,Up[37]=Up[133]=0,Gp[37]=Gp[133]=0,Vp[37]=Vp[133]=1,qp[37]=qp[133]=0,Wp[37]=Wp[133]=0,ef[148]=ef[22]=-1,nf[148]=nf[22]=0,rf[148]=rf[22]=0,hf[148]=hf[22]=0,lf[148]=lf[22]=-1,uf[148]=uf[22]=1,of[148]=of[22]=0,sf[148]=sf[22]=1,af[148]=af[22]=1,Vp[148]=Vp[22]=-1,qp[148]=qp[22]=0,Wp[148]=Wp[22]=1,Yp[82]=Yp[88]=0,Hp[82]=Hp[88]=-1,Xp[82]=Xp[88]=1,ef[82]=ef[88]=1,nf[82]=nf[88]=0,rf[82]=rf[88]=1,Kp[82]=Kp[88]=-1,Qp[82]=Qp[88]=0,tf[82]=tf[88]=1,of[82]=of[88]=0,sf[82]=sf[88]=-1,af[82]=af[88]=0,Yp[73]=Yp[97]=0,Hp[73]=Hp[97]=1,Xp[73]=Xp[97]=0,Zp[73]=Zp[97]=0,$p[73]=$p[97]=-1,Jp[73]=Jp[97]=0,Kp[73]=Kp[97]=1,Qp[73]=Qp[97]=0,tf[73]=tf[97]=0,jp[73]=jp[97]=1,Up[73]=Up[97]=0,Gp[73]=Gp[97]=1,Yp[145]=Yp[25]=0,Hp[145]=Hp[25]=-1,Xp[145]=Xp[25]=0,Kp[145]=Kp[25]=1,Qp[145]=Qp[25]=0,tf[145]=tf[25]=1,hf[145]=hf[25]=0,lf[145]=lf[25]=1,uf[145]=uf[25]=1,Vp[145]=Vp[25]=-1,qp[145]=qp[25]=0,Wp[145]=Wp[25]=0,Zp[70]=Zp[100]=0,$p[70]=$p[100]=1,Jp[70]=Jp[100]=0,ef[70]=ef[100]=-1,nf[70]=nf[100]=0,rf[70]=rf[100]=1,of[70]=of[100]=0,sf[70]=sf[100]=-1,af[70]=af[100]=1,jp[70]=jp[100]=1,Up[70]=Up[100]=0,Gp[70]=Gp[100]=0,Zp[101]=Zp[69]=0,$p[101]=$p[69]=1,Jp[101]=Jp[69]=0,jp[101]=jp[69]=1,Up[101]=Up[69]=0,Gp[101]=Gp[69]=0,hf[149]=hf[21]=0,lf[149]=lf[21]=1,uf[149]=uf[21]=1,Vp[149]=Vp[21]=-1,qp[149]=qp[21]=0,Wp[149]=Wp[21]=0,ef[86]=ef[84]=-1,nf[86]=nf[84]=0,rf[86]=rf[84]=1,of[86]=of[84]=0,sf[86]=sf[84]=-1,af[86]=af[84]=1,Yp[89]=Yp[81]=0,Hp[89]=Hp[81]=-1,Xp[89]=Xp[81]=0,Kp[89]=Kp[81]=1,Qp[89]=Qp[81]=0,tf[89]=tf[81]=1,Yp[96]=Yp[74]=0,Hp[96]=Hp[74]=1,Xp[96]=Xp[74]=0,Zp[96]=Zp[74]=-1,$p[96]=$p[74]=0,Jp[96]=Jp[74]=1,of[96]=of[74]=1,sf[96]=sf[74]=0,af[96]=af[74]=0,jp[96]=jp[74]=1,Up[96]=Up[74]=0,Gp[96]=Gp[74]=1,Yp[24]=Yp[146]=0,Hp[24]=Hp[146]=-1,Xp[24]=Xp[146]=1,ef[24]=ef[146]=1,nf[24]=nf[146]=0,rf[24]=rf[146]=1,Kp[24]=Kp[146]=0,Qp[24]=Qp[146]=1,tf[24]=tf[146]=1,Vp[24]=Vp[146]=0,qp[24]=qp[146]=-1,Wp[24]=Wp[146]=0,Zp[6]=Zp[164]=-1,$p[6]=$p[164]=0,Jp[6]=Jp[164]=1,ef[6]=ef[164]=-1,nf[6]=nf[164]=0,rf[6]=rf[164]=0,hf[6]=hf[164]=0,lf[6]=lf[164]=-1,uf[6]=uf[164]=1,of[6]=of[164]=1,sf[6]=sf[164]=0,af[6]=af[164]=0,Kp[129]=Kp[41]=0,Qp[129]=Qp[41]=1,tf[129]=tf[41]=1,hf[129]=hf[41]=0,lf[129]=lf[41]=1,uf[129]=uf[41]=0,jp[129]=jp[41]=-1,Up[129]=Up[41]=0,Gp[129]=Gp[41]=0,Vp[129]=Vp[41]=0,qp[129]=qp[41]=-1,Wp[129]=Wp[41]=0,ef[66]=ef[104]=0,nf[66]=nf[104]=1,rf[66]=rf[104]=0,Kp[66]=Kp[104]=-1,Qp[66]=Qp[104]=0,tf[66]=tf[104]=1,of[66]=of[104]=0,sf[66]=sf[104]=-1,af[66]=af[104]=0,jp[66]=jp[104]=0,Up[66]=Up[104]=-1,Gp[66]=Gp[104]=1,Yp[144]=Yp[26]=-1,Hp[144]=Hp[26]=0,Xp[144]=Xp[26]=0,hf[144]=hf[26]=1,lf[144]=lf[26]=0,uf[144]=uf[26]=1,of[144]=of[26]=0,sf[144]=sf[26]=1,af[144]=af[26]=1,Vp[144]=Vp[26]=-1,qp[144]=qp[26]=0,Wp[144]=Wp[26]=1,Zp[36]=Zp[134]=0,$p[36]=$p[134]=1,Jp[36]=Jp[134]=1,ef[36]=ef[134]=0,nf[36]=nf[134]=1,rf[36]=rf[134]=0,jp[36]=jp[134]=0,Up[36]=Up[134]=-1,Gp[36]=Gp[134]=1,Vp[36]=Vp[134]=1,qp[36]=qp[134]=0,Wp[36]=Wp[134]=0,Yp[9]=Yp[161]=-1,Hp[9]=Hp[161]=0,Xp[9]=Xp[161]=0,Zp[9]=Zp[161]=0,$p[9]=$p[161]=-1,Jp[9]=Jp[161]=0,Kp[9]=Kp[161]=1,Qp[9]=Qp[161]=0,tf[9]=tf[161]=0,hf[9]=hf[161]=1,lf[9]=lf[161]=0,uf[9]=uf[161]=1,Yp[136]=0,Hp[136]=1,Xp[136]=1,Zp[136]=0,$p[136]=1,Jp[136]=0,ef[136]=-1,nf[136]=0,rf[136]=1,Kp[136]=-1,Qp[136]=0,tf[136]=0,hf[136]=0,lf[136]=-1,uf[136]=0,of[136]=0,sf[136]=-1,af[136]=1,jp[136]=1,Up[136]=0,Gp[136]=0,Vp[136]=1,qp[136]=0,Wp[136]=1,Yp[34]=0,Hp[34]=-1,Xp[34]=0,Zp[34]=0,$p[34]=-1,Jp[34]=1,ef[34]=1,nf[34]=0,rf[34]=0,Kp[34]=1,Qp[34]=0,tf[34]=1,hf[34]=0,lf[34]=1,uf[34]=1,of[34]=0,sf[34]=1,af[34]=0,jp[34]=-1,Up[34]=0,Gp[34]=1,Vp[34]=-1,qp[34]=0,Wp[34]=0,Yp[35]=0,Hp[35]=1,Xp[35]=1,Zp[35]=0,$p[35]=-1,Jp[35]=1,ef[35]=1,nf[35]=0,rf[35]=0,Kp[35]=-1,Qp[35]=0,tf[35]=0,hf[35]=0,lf[35]=-1,uf[35]=0,of[35]=0,sf[35]=1,af[35]=0,jp[35]=-1,Up[35]=0,Gp[35]=1,Vp[35]=1,qp[35]=0,Wp[35]=1,Yp[153]=0,Hp[153]=1,Xp[153]=1,Kp[153]=-1,Qp[153]=0,tf[153]=0,hf[153]=0,lf[153]=-1,uf[153]=0,Vp[153]=1,qp[153]=0,Wp[153]=1,Zp[102]=0,$p[102]=-1,Jp[102]=1,ef[102]=1,nf[102]=0,rf[102]=0,of[102]=0,sf[102]=1,af[102]=0,jp[102]=-1,Up[102]=0,Gp[102]=1,Yp[155]=0,Hp[155]=-1,Xp[155]=0,Kp[155]=1,Qp[155]=0,tf[155]=1,hf[155]=0,lf[155]=1,uf[155]=1,Vp[155]=-1,qp[155]=0,Wp[155]=0,Zp[103]=0,$p[103]=1,Jp[103]=0,ef[103]=-1,nf[103]=0,rf[103]=1,of[103]=0,sf[103]=-1,af[103]=1,jp[103]=1,Up[103]=0,Gp[103]=0,Yp[152]=0,Hp[152]=1,Xp[152]=1,ef[152]=-1,nf[152]=0,rf[152]=1,Kp[152]=-1,Qp[152]=0,tf[152]=0,hf[152]=0,lf[152]=-1,uf[152]=0,of[152]=0,sf[152]=-1,af[152]=1,Vp[152]=1,qp[152]=0,Wp[152]=1,Yp[156]=0,Hp[156]=-1,Xp[156]=1,ef[156]=1,nf[156]=0,rf[156]=1,Kp[156]=-1,Qp[156]=0,tf[156]=0,hf[156]=0,lf[156]=-1,uf[156]=0,of[156]=0,sf[156]=1,af[156]=1,Vp[156]=-1,qp[156]=0,Wp[156]=1,Yp[137]=0,Hp[137]=1,Xp[137]=1,Zp[137]=0,$p[137]=1,Jp[137]=0,Kp[137]=-1,Qp[137]=0,tf[137]=0,hf[137]=0,lf[137]=-1,uf[137]=0,jp[137]=1,Up[137]=0,Gp[137]=0,Vp[137]=1,qp[137]=0,Wp[137]=1,Yp[139]=0,Hp[139]=1,Xp[139]=1,Zp[139]=0,$p[139]=-1,Jp[139]=0,Kp[139]=1,Qp[139]=0,tf[139]=0,hf[139]=0,lf[139]=1,uf[139]=0,jp[139]=-1,Up[139]=0,Gp[139]=0,Vp[139]=1,qp[139]=0,Wp[139]=1,Yp[98]=0,Hp[98]=-1,Xp[98]=0,Zp[98]=0,$p[98]=-1,Jp[98]=1,ef[98]=1,nf[98]=0,rf[98]=0,Kp[98]=1,Qp[98]=0,tf[98]=1,of[98]=0,sf[98]=1,af[98]=0,jp[98]=-1,Up[98]=0,Gp[98]=1,Yp[99]=0,Hp[99]=1,Xp[99]=0,Zp[99]=0,$p[99]=-1,Jp[99]=1,ef[99]=1,nf[99]=0,rf[99]=0,Kp[99]=-1,Qp[99]=0,tf[99]=1,of[99]=0,sf[99]=-1,af[99]=0,jp[99]=1,Up[99]=0,Gp[99]=1,Zp[38]=0,$p[38]=-1,Jp[38]=1,ef[38]=1,nf[38]=0,rf[38]=0,hf[38]=0,lf[38]=1,uf[38]=1,of[38]=0,sf[38]=1,af[38]=0,jp[38]=-1,Up[38]=0,Gp[38]=1,Vp[38]=-1,qp[38]=0,Wp[38]=0,Zp[39]=0,$p[39]=1,Jp[39]=1,ef[39]=-1,nf[39]=0,rf[39]=0,hf[39]=0,lf[39]=-1,uf[39]=1,of[39]=0,sf[39]=1,af[39]=0,jp[39]=-1,Up[39]=0,Gp[39]=1,Vp[39]=1,qp[39]=0,Wp[39]=0;var cf=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},pf=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ff=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},df=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},gf=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},yf=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},mf=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},_f=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},vf=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},xf=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},bf=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},wf=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Mf=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Ef=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Sf=function(){return[[0,0],[0,1],[1,1],[1,0]]},Cf=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},If=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Pf=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Lf=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Of=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Nf=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Tf=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Af=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Rf=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Df=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},kf=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Ff=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Bf=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},zf=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},jf=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Uf=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Gf=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Vf=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},qf=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Wf=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Yf=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Hf=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Xf=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Zf=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},$f=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Jf=[],Kf=[],Qf=[],td=[],ed=[],id=[],nd=[],rd=[];td[1]=ed[1]=18,td[169]=ed[169]=18,Qf[4]=Kf[4]=12,Qf[166]=Kf[166]=12,Jf[16]=rd[16]=4,Jf[154]=rd[154]=4,id[64]=nd[64]=22,id[106]=nd[106]=22,Qf[2]=id[2]=17,td[2]=ed[2]=18,Qf[168]=id[168]=17,td[168]=ed[168]=18,Jf[8]=td[8]=9,Kf[8]=Qf[8]=12,Jf[162]=td[162]=9,Kf[162]=Qf[162]=12,Jf[32]=rd[32]=4,Kf[32]=nd[32]=1,Jf[138]=rd[138]=4,Kf[138]=nd[138]=1,ed[128]=rd[128]=21,id[128]=nd[128]=22,ed[42]=rd[42]=21,id[42]=nd[42]=22,Kf[5]=ed[5]=14,Kf[165]=ed[165]=14,Qf[20]=rd[20]=6,Qf[150]=rd[150]=6,Jf[80]=id[80]=11,Jf[90]=id[90]=11,td[65]=nd[65]=3,td[105]=nd[105]=3,Jf[160]=id[160]=11,Kf[160]=ed[160]=14,Jf[10]=id[10]=11,Kf[10]=ed[10]=14,Qf[130]=rd[130]=6,td[130]=nd[130]=3,Qf[40]=rd[40]=6,td[40]=nd[40]=3,Kf[101]=nd[101]=1,Kf[69]=nd[69]=1,ed[149]=rd[149]=21,ed[21]=rd[21]=21,Qf[86]=id[86]=17,Qf[84]=id[84]=17,Jf[89]=td[89]=9,Jf[81]=td[81]=9,Jf[96]=nd[96]=0,Kf[96]=id[96]=15,Jf[74]=nd[74]=0,Kf[74]=id[74]=15,Jf[24]=Qf[24]=8,td[24]=rd[24]=7,Jf[146]=Qf[146]=8,td[146]=rd[146]=7,Kf[6]=id[6]=15,Qf[6]=ed[6]=16,Kf[164]=id[164]=15,Qf[164]=ed[164]=16,td[129]=rd[129]=7,ed[129]=nd[129]=20,td[41]=rd[41]=7,ed[41]=nd[41]=20,Qf[66]=nd[66]=2,td[66]=id[66]=19,Qf[104]=nd[104]=2,td[104]=id[104]=19,Jf[144]=ed[144]=10,id[144]=rd[144]=23,Jf[26]=ed[26]=10,id[26]=rd[26]=23,Kf[36]=rd[36]=5,Qf[36]=nd[36]=2,Kf[134]=rd[134]=5,Qf[134]=nd[134]=2,Jf[9]=ed[9]=10,Kf[9]=td[9]=13,Jf[161]=ed[161]=10,Kf[161]=td[161]=13,Kf[37]=rd[37]=5,ed[37]=nd[37]=20,Kf[133]=rd[133]=5,ed[133]=nd[133]=20,Qf[148]=ed[148]=16,id[148]=rd[148]=23,Qf[22]=ed[22]=16,id[22]=rd[22]=23,Jf[82]=Qf[82]=8,td[82]=id[82]=19,Jf[88]=Qf[88]=8,td[88]=id[88]=19,Jf[73]=nd[73]=0,Kf[73]=td[73]=13,Jf[97]=nd[97]=0,Kf[97]=td[97]=13,Jf[145]=td[145]=9,ed[145]=rd[145]=21,Jf[25]=td[25]=9,ed[25]=rd[25]=21,Kf[70]=nd[70]=1,Qf[70]=id[70]=17,Kf[100]=nd[100]=1,Qf[100]=id[100]=17,Jf[34]=td[34]=9,Kf[34]=Qf[34]=12,ed[34]=rd[34]=21,id[34]=nd[34]=22,Jf[136]=rd[136]=4,Kf[136]=nd[136]=1,Qf[136]=id[136]=17,td[136]=ed[136]=18,Jf[35]=rd[35]=4,Kf[35]=Qf[35]=12,td[35]=ed[35]=18,id[35]=nd[35]=22,Jf[153]=rd[153]=4,td[153]=ed[153]=18,Kf[102]=Qf[102]=12,id[102]=nd[102]=22,Jf[155]=td[155]=9,ed[155]=rd[155]=23,Kf[103]=nd[103]=1,Qf[103]=id[103]=17,Jf[152]=rd[152]=4,Qf[152]=id[152]=17,td[152]=ed[152]=18,Jf[156]=Qf[156]=8,td[156]=ed[156]=18,id[156]=rd[156]=23,Jf[137]=rd[137]=4,Kf[137]=nd[137]=1,td[137]=ed[137]=18,Jf[139]=rd[139]=4,Kf[139]=td[139]=13,ed[139]=nd[139]=20,Jf[98]=td[98]=9,Kf[98]=Qf[98]=12,id[98]=nd[98]=22,Jf[99]=nd[99]=0,Kf[99]=Qf[99]=12,td[99]=id[99]=19,Kf[38]=Qf[38]=12,ed[38]=rd[38]=21,id[38]=nd[38]=22,Kf[39]=rd[39]=5,Qf[39]=ed[39]=16,id[39]=nd[39]=22;var od=[];od[1]=od[169]=cf,od[4]=od[166]=pf,od[16]=od[154]=ff,od[64]=od[106]=df,od[168]=od[2]=gf,od[162]=od[8]=yf,od[138]=od[32]=mf,od[42]=od[128]=_f,od[5]=od[165]=vf,od[20]=od[150]=xf,od[80]=od[90]=bf,od[65]=od[105]=wf,od[160]=od[10]=Mf,od[130]=od[40]=Ef,od[85]=Sf,od[101]=od[69]=Cf,od[149]=od[21]=If,od[86]=od[84]=Pf,od[89]=od[81]=Lf,od[96]=od[74]=Of,od[24]=od[146]=Nf,od[6]=od[164]=Tf,od[129]=od[41]=Af,od[66]=od[104]=Rf,od[144]=od[26]=Df,od[36]=od[134]=kf,od[9]=od[161]=Ff,od[37]=od[133]=Bf,od[148]=od[22]=zf,od[82]=od[88]=jf,od[73]=od[97]=Uf,od[145]=od[25]=Gf,od[70]=od[100]=Vf,od[34]=function(t){return[_f(t),yf(t)]},od[35]=qf,od[136]=function(t){return[mf(t),gf(t)]},od[153]=function(t){return[ff(t),cf(t)]},od[102]=function(t){return[pf(t),df(t)]},od[155]=Wf,od[103]=Yf,od[152]=function(t){return[ff(t),gf(t)]},od[156]=Hf,od[137]=function(t){return[mf(t),cf(t)]},od[139]=Xf,od[98]=function(t){return[yf(t),df(t)]},od[99]=Zf,od[38]=function(t){return[pf(t),_f(t)]},od[39]=$f;function sd(t){return(t>0)-(t<0)||+t}function ad(t,e,i){var n=e[0]-t[0],r=e[1]-t[1],o=i[0]-e[0],s=i[1]-e[1];return sd(n*s-o*r)}function hd(t,e){var i=t.geometry.coordinates[0].map((function(t){return t[0]})),n=t.geometry.coordinates[0].map((function(t){return t[1]})),r=e.geometry.coordinates[0].map((function(t){return t[0]})),o=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,i)===Math.max.apply(null,r)&&Math.max.apply(null,n)===Math.max.apply(null,o)&&Math.min.apply(null,i)===Math.min.apply(null,r)&&Math.min.apply(null,n)===Math.min.apply(null,o)}function ld(t,e){return e.geometry.coordinates[0].every((function(e){return yp(Jc(e),t)}))}function ud(t,e){return t[0]===e[0]&&t[1]===e[1]}var cd=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,i){var n=e.to,r=i.to;if(n.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(n.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(n.coordinates[0]-t.coordinates[0]===0&&r.coordinates[0]-t.coordinates[0]===0)return n.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?n.coordinates[1]-r.coordinates[1]:r.coordinates[1]-n.coordinates[1];var o=ad(t.coordinates,n.coordinates,r.coordinates);if(o<0)return 1;if(o>0)return-1;var s=Math.pow(n.coordinates[0]-t.coordinates[0],2)+Math.pow(n.coordinates[1]-t.coordinates[1],2),a=Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2);return s-a})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),pd=cd,fd=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return Qc([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return ad(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),dd=fd,gd=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,i,n){return i.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e}),0),i=(0===e?this.length:e)-1,n=(e+1)%this.length,r=ad(this.edges[i].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===r?this.edges[i].from.coordinates[0]>this.edges[n].from.coordinates[0]:r>0},t.prototype.toMultiPoint=function(){return tp(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=Kc([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Cp(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var i,n,r=t.getEnvelope();return e.forEach((function(e){var o=e.getEnvelope();if(n&&(i=n.getEnvelope()),!hd(o,r)&&ld(o,r)){for(var s=t.map((function(t){return t.from.coordinates})),a=void 0,h=function(t){e.some((function(e){return ud(t,e.from.coordinates)}))||(a=t)},l=0,u=s;l<u.length;l++){var c=u[l];h(c)}a&&e.inside(Jc(a))&&(n&&!ld(i,o)||(n=e))}})),n},t.prototype.inside=function(t){return yp(t,this.toPolygon())},t}(),yd=gd;function md(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(function(){function t(){this.edges=[],this.nodes={}}t.fromGeoJson=function(e){md(e);var i=new t;return hp(e,(function(t){dp(t,"LineString","Graph::fromGeoJson"),op(t,(function(t,e){if(t){var n=i.getNode(t),r=i.getNode(e);i.addEdge(n,r)}return e}))})),i},t.prototype.getNode=function(t){var e=pd.buildId(t),i=this.nodes[e];return i||(i=this.nodes[e]=new pd(t)),i},t.prototype.addEdge=function(t,e){var i=new dd(t,e),n=i.getSymetric();this.edges.push(i),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var i=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),i.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;"undefined"===typeof t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,i){t.getOuterEdge((0===i?t.getOuterEdges().length:i)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var i,n,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var s=r[o],a=s.symetric,h=void 0,l=void 0;s.label===e&&(h=s),a.label===e&&(l=a),h&&l&&(l&&(n=l),h&&(n&&(n.next=h,n=void 0),i||(i=h)))}n&&(n.next=i)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(i){if(!(i.label>=0)){t.push(i);var n=i;do{n.label=e,n=n.next}while(!i.isEqual(n));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(i){t._computeNextCCWEdges(i,e.label)}))}));var e=[];return this.edges.forEach((function(i){i.ring||e.push(t._findEdgeRing(i))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],i=t,n=function(){var n=0;i.from.getOuterEdges().forEach((function(e){e.label===t.label&&++n})),n>1&&e.push(i.from),i=i.next};do{n()}while(!t.isEqual(i));return e},t.prototype._findEdgeRing=function(t){var e=t,i=new yd;do{i.push(e),e.ring=i,e=e.next}while(!t.isEqual(e));return i},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()}})();i(9756);i(5439);i(6907);function _d(t){var e=t,i=[];while(e.parent)i.unshift(e),e=e.parent;return i}function vd(){return new Md((function(t){return t.f}))}var xd={search:function(t,e,i,n){t.cleanDirty(),n=n||{};var r=n.heuristic||xd.heuristics.manhattan,o=n.closest||!1,s=vd(),a=e;e.h=r(e,i),s.push(e);while(s.size()>0){var h=s.pop();if(h===i)return _d(h);h.closed=!0;for(var l=t.neighbors(h),u=0,c=l.length;u<c;++u){var p=l[u];if(!p.closed&&!p.isWall()){var f=h.g+p.getCost(h),d=p.visited;(!d||f<p.g)&&(p.visited=!0,p.parent=h,p.h=p.h||r(p,i),p.g=f,p.f=p.g+p.h,t.markDirty(p),o&&(p.h<a.h||p.h===a.h&&p.g<a.g)&&(a=p),d?s.rescoreElement(p):s.push(p))}}}return o?_d(a):[]},heuristics:{manhattan:function(t,e){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return i+n},diagonal:function(t,e){var i=1,n=Math.sqrt(2),r=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return i*(r+o)+(n-2*i)*Math.min(r,o)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function bd(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var i=0;i<t.length;i++){this.grid[i]=[];for(var n=0,r=t[i];n<r.length;n++){var o=new wd(i,n,r[n]);this.grid[i][n]=o,this.nodes.push(o)}}this.init()}function wd(t,e,i){this.x=t,this.y=e,this.weight=i}function Md(t){this.content=[],this.scoreFunction=t}bd.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)xd.cleanNode(this.nodes[t])},bd.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)xd.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},bd.prototype.markDirty=function(t){this.dirtyNodes.push(t)},bd.prototype.neighbors=function(t){var e=[],i=t.x,n=t.y,r=this.grid;return r[i-1]&&r[i-1][n]&&e.push(r[i-1][n]),r[i+1]&&r[i+1][n]&&e.push(r[i+1][n]),r[i]&&r[i][n-1]&&e.push(r[i][n-1]),r[i]&&r[i][n+1]&&e.push(r[i][n+1]),this.diagonal&&(r[i-1]&&r[i-1][n-1]&&e.push(r[i-1][n-1]),r[i+1]&&r[i+1][n-1]&&e.push(r[i+1][n-1]),r[i-1]&&r[i-1][n+1]&&e.push(r[i-1][n+1]),r[i+1]&&r[i+1][n+1]&&e.push(r[i+1][n+1])),e},bd.prototype.toString=function(){for(var t,e,i,n,r=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],e=o[s],i=0,n=e.length;i<n;i++)t.push(e[i].weight);r.push(t.join(" "))}return r.join("\n")},wd.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},wd.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},wd.prototype.isWall=function(){return 0===this.weight},Md.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),i=this.content.pop();e!==this.content.length-1&&(this.content[e]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){var e=this.content[t];while(t>0){var i=(t+1>>1)-1,n=this.content[i];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[i]=e,this.content[t]=n,t=i}},bubbleUp:function(t){var e=this.content.length,i=this.content[t],n=this.scoreFunction(i);while(1){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var h=this.content[s];r=this.scoreFunction(h),r<n&&(a=s)}if(o<e){var l=this.content[o],u=this.scoreFunction(l);u<(null===a?n:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=i,t=a}}};function Ed(){this._=null}function Sd(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Cd(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function Id(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function Pd(t){while(t.L)t=t.L;return t}Ed.prototype={constructor:Ed,insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){t=t.R;while(t.L)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=Pd(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);e.L=e.R=null,e.U=i,e.C=!0,t=e;while(i&&i.C)n=i.U,i===n.L?(r=n.R,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(Cd(this,i),t=i,i=t.U),i.C=!1,n.C=!0,Id(this,n))):(r=n.L,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(Id(this,i),t=i,i=t.U),i.C=!1,n.C=!0,Cd(this,n))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,o=t.L,s=t.R;if(i=o?s?Pd(s):o:s,r?r.L===t?r.L=i:r.R=i:this._=i,o&&s?(n=i.C,i.C=t.C,i.L=o,o.U=i,i!==s?(r=i.U,i.U=t.U,t=i.R,r.L=t,i.R=s,s.U=i):(i.U=r,r=i,t=i.R)):(n=t.C,t=i),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Cd(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Id(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Cd(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Id(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Cd(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Id(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Ld=Ed;function Od(t,e,i,n){var r=[null,null],o=rg.push(r)-1;return r.left=t,r.right=e,i&&Td(r,t,e,i),n&&Td(r,e,t,n),ig[t.index].halfedges.push(o),ig[e.index].halfedges.push(o),r}function Nd(t,e,i){var n=[e,i];return n.left=t,n}function Td(t,e,i,n){t[0]||t[1]?t.left===i?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=i)}function Ad(t,e,i,n,r){var o,s=t[0],a=t[1],h=s[0],l=s[1],u=a[0],c=a[1],p=0,f=1,d=u-h,g=c-l;if(o=e-h,d||!(o>0)){if(o/=d,d<0){if(o<p)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>p&&(p=o)}if(o=n-h,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>p&&(p=o)}else if(d>0){if(o<p)return;o<f&&(f=o)}if(o=i-l,g||!(o>0)){if(o/=g,g<0){if(o<p)return;o<f&&(f=o)}else if(g>0){if(o>f)return;o>p&&(p=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>f)return;o>p&&(p=o)}else if(g>0){if(o<p)return;o<f&&(f=o)}return!(p>0||f<1)||(p>0&&(t[0]=[h+p*d,l+p*g]),f<1&&(t[1]=[h+f*d,l+f*g]),!0)}}}}}function Rd(t,e,i,n,r){var o=t[1];if(o)return!0;var s,a,h=t[0],l=t.left,u=t.right,c=l[0],p=l[1],f=u[0],d=u[1],g=(c+f)/2,y=(p+d)/2;if(d===p){if(g<e||g>=n)return;if(c>f){if(h){if(h[1]>=r)return}else h=[g,i];o=[g,r]}else{if(h){if(h[1]<i)return}else h=[g,r];o=[g,i]}}else if(s=(c-f)/(d-p),a=y-s*g,s<-1||s>1)if(c>f){if(h){if(h[1]>=r)return}else h=[(i-a)/s,i];o=[(r-a)/s,r]}else{if(h){if(h[1]<i)return}else h=[(r-a)/s,r];o=[(i-a)/s,i]}else if(p<d){if(h){if(h[0]>=n)return}else h=[e,s*e+a];o=[n,s*n+a]}else{if(h){if(h[0]<e)return}else h=[n,s*n+a];o=[e,s*e+a]}return t[0]=h,t[1]=o,!0}function Dd(t,e,i,n){var r,o=rg.length;while(o--)Rd(r=rg[o],t,e,i,n)&&Ad(r,t,e,i,n)&&(Math.abs(r[0][0]-r[1][0])>og||Math.abs(r[0][1]-r[1][1])>og)||delete rg[o]}function kd(t){return ig[t.index]={site:t,halfedges:[]}}function Fd(t,e){var i=t.site,n=e.left,r=e.right;return i===r&&(r=n,n=i),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(i===n?(n=e[1],r=e[0]):(n=e[0],r=e[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function Bd(t,e){return e[+(e.left!==t.site)]}function zd(t,e){return e[+(e.left===t.site)]}function jd(){for(var t,e,i,n,r=0,o=ig.length;r<o;++r)if((t=ig[r])&&(n=(e=t.halfedges).length)){var s=new Array(n),a=new Array(n);for(i=0;i<n;++i)s[i]=i,a[i]=Fd(t,rg[e[i]]);for(s.sort((function(t,e){return a[e]-a[t]})),i=0;i<n;++i)a[i]=e[s[i]];for(i=0;i<n;++i)e[i]=a[i]}}function Ud(t,e,i,n){var r,o,s,a,h,l,u,c,p,f,d,g,y=ig.length,m=!0;for(r=0;r<y;++r)if(o=ig[r]){s=o.site,h=o.halfedges,a=h.length;while(a--)rg[h[a]]||h.splice(a,1);a=0,l=h.length;while(a<l)f=zd(o,rg[h[a]]),d=f[0],g=f[1],u=Bd(o,rg[h[++a%l]]),c=u[0],p=u[1],(Math.abs(d-c)>og||Math.abs(g-p)>og)&&(h.splice(a,0,rg.push(Nd(s,f,Math.abs(d-t)<og&&n-g>og?[t,Math.abs(c-t)<og?p:n]:Math.abs(g-n)<og&&i-d>og?[Math.abs(p-n)<og?c:i,n]:Math.abs(d-i)<og&&g-e>og?[i,Math.abs(c-i)<og?p:e]:Math.abs(g-e)<og&&d-t>og?[Math.abs(p-e)<og?c:t,e]:null))-1),++l);l&&(m=!1)}if(m){var _,v,x,b=1/0;for(r=0,m=null;r<y;++r)(o=ig[r])&&(s=o.site,_=s[0]-t,v=s[1]-e,x=_*_+v*v,x<b&&(b=x,m=o));if(m){var w=[t,e],M=[t,n],E=[i,n],S=[i,e];m.halfedges.push(rg.push(Nd(s=m.site,w,M))-1,rg.push(Nd(s,M,E))-1,rg.push(Nd(s,E,S))-1,rg.push(Nd(s,S,w))-1)}}for(r=0;r<y;++r)(o=ig[r])&&(o.halfedges.length||delete ig[r])}var Gd,Vd=[];function qd(){Sd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Wd(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,o=i.site;if(n!==o){var s=r[0],a=r[1],h=n[0]-s,l=n[1]-a,u=o[0]-s,c=o[1]-a,p=2*(h*c-l*u);if(!(p>=-sg)){var f=h*h+l*l,d=u*u+c*c,g=(c*f-l*d)/p,y=(h*d-u*f)/p,m=Vd.pop()||new qd;m.arc=t,m.site=r,m.x=g+s,m.y=(m.cy=y+a)+Math.sqrt(g*g+y*y),t.circle=m;var _=null,v=ng._;while(v)if(m.y<v.y||m.y===v.y&&m.x<=v.x){if(!v.L){_=v.P;break}v=v.L}else{if(!v.R){_=v;break}v=v.R}ng.insert(_,m),_||(Gd=m)}}}}function Yd(t){var e=t.circle;e&&(e.P||(Gd=e.N),ng.remove(e),Vd.push(e),Sd(e),t.circle=null)}var Hd=[];function Xd(){Sd(this),this.edge=this.site=this.circle=null}function Zd(t){var e=Hd.pop()||new Xd;return e.site=t,e}function $d(t){Yd(t),eg.remove(t),Hd.push(t),Sd(t)}function Jd(t){var e=t.circle,i=e.x,n=e.cy,r=[i,n],o=t.P,s=t.N,a=[t];$d(t);var h=o;while(h.circle&&Math.abs(i-h.circle.x)<og&&Math.abs(n-h.circle.cy)<og)o=h.P,a.unshift(h),$d(h),h=o;a.unshift(h),Yd(h);var l=s;while(l.circle&&Math.abs(i-l.circle.x)<og&&Math.abs(n-l.circle.cy)<og)s=l.N,a.push(l),$d(l),l=s;a.push(l),Yd(l);var u,c=a.length;for(u=1;u<c;++u)l=a[u],h=a[u-1],Td(l.edge,h.site,l.site,r);h=a[0],l=a[c-1],l.edge=Od(h.site,l.site,null,r),Wd(h),Wd(l)}function Kd(t){var e,i,n,r,o=t[0],s=t[1],a=eg._;while(a)if(n=Qd(a,s)-o,n>og)a=a.L;else{if(r=o-tg(a,s),!(r>og)){n>-og?(e=a.P,i=a):r>-og?(e=a,i=a.N):e=i=a;break}if(!a.R){e=a;break}a=a.R}kd(t);var h=Zd(t);if(eg.insert(e,h),e||i){if(e===i)return Yd(e),i=Zd(e.site),eg.insert(h,i),h.edge=i.edge=Od(e.site,h.site),Wd(e),void Wd(i);if(i){Yd(e),Yd(i);var l=e.site,u=l[0],c=l[1],p=t[0]-u,f=t[1]-c,d=i.site,g=d[0]-u,y=d[1]-c,m=2*(p*y-f*g),_=p*p+f*f,v=g*g+y*y,x=[(y*_-f*v)/m+u,(p*v-g*_)/m+c];Td(i.edge,l,d,x),h.edge=Od(l,t,null,x),i.edge=Od(t,d,null,x),Wd(e),Wd(i)}else h.edge=Od(e.site,h.site)}}function Qd(t,e){var i=t.site,n=i[0],r=i[1],o=r-e;if(!o)return n;var s=t.P;if(!s)return-1/0;i=s.site;var a=i[0],h=i[1],l=h-e;if(!l)return a;var u=a-n,c=1/o-1/l,p=u/l;return c?(-p+Math.sqrt(p*p-2*c*(u*u/(-2*l)-h+l/2+r-o/2)))/c+n:(n+a)/2}function tg(t,e){var i=t.N;if(i)return Qd(i,e);var n=t.site;return n[1]===e?n[0]:1/0}var eg,ig,ng,rg,og=1e-6,sg=1e-12;function ag(t,e,i){return(t[0]-i[0])*(e[1]-t[1])-(t[0]-e[0])*(i[1]-t[1])}function hg(t,e){return e[1]-t[1]||e[0]-t[0]}function lg(t,e){var i,n,r,o=t.sort(hg).pop();rg=[],ig=new Array(t.length),eg=new Ld,ng=new Ld;while(1)if(r=Gd,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===i&&o[1]===n||(Kd(o),i=o[0],n=o[1]),o=t.pop();else{if(!r)break;Jd(r.arc)}if(jd(),e){var s=+e[0][0],a=+e[0][1],h=+e[1][0],l=+e[1][1];Dd(s,a,h,l),Ud(s,a,h,l)}this.edges=rg,this.cells=ig,eg=ng=rg=ig=null}lg.prototype={constructor:lg,polygons:function(){var t=this.edges;return this.cells.map((function(e){var i=e.halfedges.map((function(i){return Bd(e,t[i])}));return i.data=e.site.data,i}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(i,n){if(o=(r=i.halfedges).length){var r,o,s,a=i.site,h=-1,l=e[r[o-1]],u=l.left===a?l.right:l.left;while(++h<o)s=u,l=e[r[h]],u=l.left===a?l.right:l.left,s&&u&&n<s.index&&n<u.index&&ag(a,s,u)<0&&t.push([a.data,s.data,u.data])}})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,i){var n,r,o=this,s=o._found||0,a=o.cells.length;while(!(r=o.cells[s]))if(++s>=a)return null;var h=t-r.site[0],l=e-r.site[1],u=h*h+l*l;do{r=o.cells[n=s],s=null,r.halfedges.forEach((function(i){var n=o.edges[i],a=n.left;if(a!==r.site&&a||(a=n.right)){var h=t-a[0],l=e-a[1],c=h*h+l*l;c<u&&(u=c,s=a.index)}}))}while(null!==s);return o._found=n,null==i||u<=i*i?r.site:null}};i(4859);i(6648);function ug(){return new cg}function cg(){this.reset()}cg.prototype={constructor:cg,reset:function(){this.s=this.t=0},add:function(t){fg(pg,t,this.t),fg(this,pg.s,this.s),this.s?this.t+=pg.t:this.s=pg.t},valueOf:function(){return this.s}};var pg=new cg;function fg(t,e,i){var n=t.s=e+i,r=n-e,o=n-r;t.t=e-o+(i-r)}var dg=1e-6,gg=Math.PI,yg=gg/2,mg=gg/4,_g=2*gg,vg=gg/180,xg=Math.abs,bg=Math.atan,wg=Math.atan2,Mg=Math.cos,Eg=(Math.ceil,Math.exp),Sg=(Math.floor,Math.log),Cg=(Math.pow,Math.sin),Ig=(Math.sign,Math.sqrt),Pg=Math.tan;function Lg(t){return t>1?0:t<-1?gg:Math.acos(t)}function Og(t){return t>1?yg:t<-1?-yg:Math.asin(t)}function Ng(){}ug(),ug();function Tg(t){var e=t[0],i=t[1],n=Mg(i);return[n*Mg(e),n*Cg(e),Cg(i)]}function Ag(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Rg(t){var e=Ig(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}ug();function Dg(t,e){return[t>gg?t-_g:t<-gg?t+_g:t,e]}function kg(){var t,e=[];return{point:function(e,i){t.push([e,i])},lineStart:function(){e.push(t=[])},lineEnd:Ng,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function Fg(t,e){return xg(t[0]-e[0])<dg&&xg(t[1]-e[1])<dg}function Bg(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function zg(t,e,i,n,r){var o,s,a=[],h=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,i,n=t[0],s=t[e];if(Fg(n,s)){for(r.lineStart(),o=0;o<e;++o)r.point((n=t[o])[0],n[1]);r.lineEnd()}else a.push(i=new Bg(n,t,null,!0)),h.push(i.o=new Bg(n,null,i,!1)),a.push(i=new Bg(s,t,null,!1)),h.push(i.o=new Bg(s,null,i,!0))}})),a.length){for(h.sort(e),jg(a),jg(h),o=0,s=h.length;o<s;++o)h[o].e=i=!i;var l,u,c=a[0];while(1){var p=c,f=!0;while(p.v)if((p=p.n)===c)return;l=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(o=0,s=l.length;o<s;++o)r.point((u=l[o])[0],u[1]);else n(p.x,p.n.x,1,r);p=p.n}else{if(f)for(l=p.p.z,o=l.length-1;o>=0;--o)r.point((u=l[o])[0],u[1]);else n(p.x,p.p.x,-1,r);p=p.p}p=p.o,l=p.z,f=!f}while(!p.v);r.lineEnd()}}}function jg(t){if(e=t.length){var e,i,n=0,r=t[0];while(++n<e)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ug(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gg(t){return 1===t.length&&(t=Vg(t)),{left:function(e,i,n,r){null==n&&(n=0),null==r&&(r=e.length);while(n<r){var o=n+r>>>1;t(e[o],i)<0?n=o+1:r=o}return n},right:function(e,i,n,r){null==n&&(n=0),null==r&&(r=e.length);while(n<r){var o=n+r>>>1;t(e[o],i)>0?r=o:n=o+1}return n}}}function Vg(t){return function(e,i){return Ug(t(e),i)}}Dg.invert=Dg;var qg=Gg(Ug),Wg=(qg.right,qg.left,Array.prototype);Wg.slice,Wg.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function Yg(t){var e,i,n,r=t.length,o=-1,s=0;while(++o<r)s+=t[o].length;i=new Array(s);while(--r>=0){n=t[r],e=n.length;while(--e>=0)i[--s]=n[e]}return i}var Hg=ug();function Xg(t,e){var i=e[0],n=e[1],r=[Cg(i),-Mg(i),0],o=0,s=0;Hg.reset();for(var a=0,h=t.length;a<h;++a)if(u=(l=t[a]).length)for(var l,u,c=l[u-1],p=c[0],f=c[1]/2+mg,d=Cg(f),g=Mg(f),y=0;y<u;++y,p=_,d=x,g=b,c=m){var m=l[y],_=m[0],v=m[1]/2+mg,x=Cg(v),b=Mg(v),w=_-p,M=w>=0?1:-1,E=M*w,S=E>gg,C=d*x;if(Hg.add(wg(C*M*Cg(E),g*b+C*Mg(E))),o+=S?w+M*_g:w,S^p>=i^_>=i){var I=Ag(Tg(c),Tg(m));Rg(I);var P=Ag(r,I);Rg(P);var L=(S^w>=0?-1:1)*Og(P[2]);(n>L||n===L&&(I[0]||I[1]))&&(s+=S^w>=0?1:-1)}}return(o<-dg||o<dg&&Hg<-dg)^1&s}ug();ug(),ug();function Zg(t){this._context=t}Zg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,_g);break}},result:Ng};ug();function $g(){this._string=[]}function Jg(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Kg(t,e,i,n){return function(r,o){var s,a,h,l=e(o),u=r.invert(n[0],n[1]),c=kg(),p=e(c),f=!1,d={point:g,lineStart:m,lineEnd:_,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=b,a=[],s=[]},polygonEnd:function(){d.point=g,d.lineStart=m,d.lineEnd=_,a=Yg(a);var t=Xg(s,u);a.length?(f||(o.polygonStart(),f=!0),zg(a,ty,t,i,o)):t&&(f||(o.polygonStart(),f=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),f&&(o.polygonEnd(),f=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(e,i){var n=r(e,i);t(e=n[0],i=n[1])&&o.point(e,i)}function y(t,e){var i=r(t,e);l.point(i[0],i[1])}function m(){d.point=y,l.lineStart()}function _(){d.point=g,l.lineEnd()}function v(t,e){h.push([t,e]);var i=r(t,e);p.point(i[0],i[1])}function x(){p.lineStart(),h=[]}function b(){v(h[0][0],h[0][1]),p.lineEnd();var t,e,i,n,r=p.clean(),l=c.result(),u=l.length;if(h.pop(),s.push(h),h=null,u)if(1&r){if(i=l[0],(e=i.length-1)>0){for(f||(o.polygonStart(),f=!0),o.lineStart(),t=0;t<e;++t)o.point((n=i[t])[0],n[1]);o.lineEnd()}}else u>1&&2&r&&l.push(l.pop().concat(l.shift())),a.push(l.filter(Qg))}return d}}function Qg(t){return t.length>1}function ty(t,e){return((t=t.x)[0]<0?t[1]-yg-dg:yg-t[1])-((e=e.x)[0]<0?e[1]-yg-dg:yg-e[1])}$g.prototype={_radius:4.5,_circle:Jg(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Jg(this._radius)),this._string.push("M",t,",",e,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};Kg((function(){return!0}),ey,ny,[-gg,-yg]);function ey(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?gg:-gg,h=xg(o-i);xg(h-gg)<dg?(t.point(i,n=(n+s)/2>0?yg:-yg),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),e=0):r!==a&&h>=gg&&(xg(i-r)<dg&&(i-=r*dg),xg(o-a)<dg&&(o-=a*dg),n=iy(i,n,o,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),e=0),t.point(i=o,n=s),r=a},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function iy(t,e,i,n){var r,o,s=Cg(t-i);return xg(s)>dg?bg((Cg(e)*(o=Mg(n))*Cg(i)-Cg(n)*(r=Mg(e))*Cg(t))/(r*o*s)):(e+n)/2}function ny(t,e,i,n){var r;if(null==t)r=i*yg,n.point(-gg,r),n.point(0,r),n.point(gg,r),n.point(gg,0),n.point(gg,-r),n.point(0,-r),n.point(-gg,-r),n.point(-gg,0),n.point(-gg,r);else if(xg(t[0]-e[0])>dg){var o=t[0]<e[0]?gg:-gg;r=i*o/2,n.point(-o,r),n.point(0,r),n.point(o,r)}else n.point(e[0],e[1])}function ry(t){return function(e){var i=new oy;for(var n in t)i[n]=t[n];return i.stream=e,i}}function oy(){}oy.prototype={constructor:oy,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};Mg(30*vg);ry({point:function(t,e){this.stream.point(t*vg,e*vg)}});function sy(t){return function(e,i){var n=Mg(e),r=Mg(i),o=t(n*r);return[o*r*Cg(e),o*Cg(i)]}}function ay(t){return function(e,i){var n=Ig(e*e+i*i),r=t(n),o=Cg(r),s=Mg(r);return[wg(e*o,n*s),Og(n&&i*o/n)]}}var hy=sy((function(t){return Ig(2/(1+t))}));hy.invert=ay((function(t){return 2*Og(t/2)}));var ly=sy((function(t){return(t=Lg(t))&&t/Cg(t)}));function uy(t,e){return[t,Sg(Pg((yg+e)/2))]}function cy(t,e){return[t,e]}function py(t,e){var i=Mg(e),n=Mg(t)*i;return[i*Cg(t)/n,Cg(e)/n]}function fy(t,e){var i=e*e,n=i*i;return[t*(.8707-.131979*i+n*(n*(.003971*i-.001529*n)-.013791)),e*(1.007226+i*(.015085+n*(.028874*i-.044475-.005916*n)))]}function dy(t,e){return[Mg(e)*Cg(t),Cg(e)]}function gy(t,e){var i=Mg(e),n=1+Mg(t)*i;return[i*Cg(t)/n,Cg(e)/n]}function yy(t,e){return[Sg(Pg((yg+e)/2)),-t]}ly.invert=ay((function(t){return t})),uy.invert=function(t,e){return[t,2*bg(Eg(e))-yg]},cy.invert=cy,py.invert=ay(bg),fy.invert=function(t,e){var i,n=e,r=25;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(xg(i)>dg&&--r>0);return[t/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]},dy.invert=ay(Og),gy.invert=ay((function(t){return 2*bg(t)})),yy.invert=function(t,e){return[-e,2*bg(Eg(t))-yg]};var my="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",_y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",vy={data(){return{marker:{move:null,num:[]},markerTips:"",markerTipsStart:"",markerTipsGoon:"",markerTipsEnd:"",markerTipsPlohgonEnd:"",coordinateArr:[],tempCoordinateArr:[],tempDrawing:null,drawingStatus:"",measureMarker:null}},computed:{coordinateArrLen(){return this.coordinateArr.length}},methods:{initDrawShapeStatus(t=!0){t&&this.emitFinishDraw(this.tempDrawing),this.coordinateArr=[],this.tempDrawing=null,this.measureMarker=null,this.clearMarker()},onMapClick(t){if(this.editable){let e=t.latlng,i=[e.lat,e.lng],n=this.editType;if("marker"==n)this.dealDrawMarker(i),this.emitStartDraw(i);else if("circleMarker"==n)this.dealDrawCircleMarker(i),this.emitStartDraw(i);else if("rectangle"===n)this.coordinateArrLen>=1?this.finishDrawRectangle():(this.drawMarkerNum(0,e),this.dealDrawRectangle(i),this.emitStartDraw(i));else if("polygon"===n){this.dealDrawPolygon(i);let t=this.coordinateArrLen;this.drawMarkerNum(t-1,e),1==t?(this.emitStartDraw(i),this.marker.move.setTooltipContent(this.markerTipsGoon)):t>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}else"circle"===n?(this.dealDrawCircle(i),this.clearMarker()):"polyline"===n&&this.dealDrawPolyline(i,"click")}},onMapMousemove(t){if(this.editable){let e=t.latlng,i=[e.lat,e.lng],n=this.editType;this.coordinateArr.length>0?"rectangle"===n?(this.drawMarker(e),this.dealDrawRectangle(i,"move")):"polygon"===n?(this.drawMarker(e),this.dealDrawPolygon(i,"move")):"circle"===n?(this.drawMarker(e,!1),this.marker.move.setTooltipContent(this.markerTipsEnd),this.dealDrawCircle(i,"move")):"polyline"===n&&(this.drawMarker(e),this.dealDrawPolyline(i,"move")):"marker"==n?this.dealDrawMarker(i,"move"):"circleMarker"==n?this.dealDrawCircleMarker(i,"move"):this.drawMarker(e)}},dealDrawMarker(t,e){"move"==e?this.marker.move?this.marker.move.setLatLng(t):this.marker.move=this.drawSelfMarker(t):(this.tempDrawing=this.drawSelfMarker(t),this.initDrawShapeStatus())},drawSelfMarker(t){let e={icon:L.icon({iconUrl:my,shadowUrl:_y,iconAnchor:[12,38]}),...this.drawStyle};return L.marker(t,e).addTo(this.drawLayer)},dealDrawCircleMarker(t,e){"move"==e?this.marker.move?this.marker.move.setLatLng(t):this.marker.move=this.drawCircleMarker(t):(this.tempDrawing=this.drawCircleMarker(t),this.initDrawShapeStatus())},drawCircleMarker(t){let e={radius:10,...this.drawStyle};return L.circleMarker(t,e).addTo(this.drawLayer)},dealDrawRectangle(t,e="click"){if("move"===e){this.marker.move.setTooltipContent(this.markerTipsEnd);let e=this.coordinateArr[0]?this.coordinateArr[0]:this.coordinateArr[1],i=[e[0],t[1]],n=[t[0],e[1]];this.drawMarkerNum(1,i),this.drawMarkerNum(2,n)}if(0==this.coordinateArr.length)this.coordinateArr.push(t);else{this.coordinateArr[1]=t;let i=this.coordinateArr;this.tempDrawing?(this.tempDrawing.setBounds(i),this.emitDrawing(this.tempDrawing,e,i)):this.tempDrawing=this.drawRectangle(i),this.getMeasure("area",2)}},drawRectangle(t){let e=this.drawStyle;return L.rectangle(t,e).addTo(this.drawLayer)},finishDrawRectangle(){this.initDrawShapeStatus()},dealDrawPolygon(t,e){let i=this.coordinateArr;if("move"===e){let e=this.marker.num&&this.marker.num.length;e>2&&(e-=1),this.coordinateArr[e]=t}else this.coordinateArr.push(t);i=this.coordinateArr,this.tempDrawing?(this.tempDrawing.setLatLngs(i),this.emitDrawing(this.tempDrawing,e,i)):this.tempDrawing=this.drawPolygon(i),this.getMeasure()},drawPolygon(t){let e=this.drawStyle;return L.polygon(t,e).addTo(this.drawLayer)},finishDrawPolygon(){let t=this.coordinateArr;t.pop(),this.tempDrawing.setLatLngs(t),this.initDrawShapeStatus()},dealDrawCircle(t,e){if("move"==e){let i=this.coordinateArr[0],n=L.latLng(i).distanceTo(t);this.tempDrawing?(this.tempDrawing.setRadius(n),this.emitDrawing(this.tempDrawing,e,i)):(this.emitStartDraw(t),this.tempDrawing=this.drawCircle(i,n)),this.getMeasure("circle",{center:i,radius:n})}else this.coordinateArrLen>=1?this.finishDrawCircle():0==this.coordinateArr.length&&this.coordinateArr.push(t)},dealDistTwoPoing(t){return L.latLng(t).distanceTo(point2)},drawCircle(t,e){let i=this.drawStyle;return L.circle(t,e,i).addTo(this.drawLayer)},finishDrawCircle(){this.initDrawShapeStatus()},dealDrawPolyline(t,e){let i=this.coordinateArr;if("move"===e){let e=this.marker.num&&this.marker.num.length;this.coordinateArr[e]=t}else this.coordinateArr.push(t);if(i=this.coordinateArr,this.tempDrawing?(this.tempDrawing.setLatLngs(i),this.emitDrawing(this.tempDrawing,e,i)):(this.emitStartDraw(t),this.tempDrawing=this.drawPolyline(i)),"click"===e){let e=this.coordinateArrLen;this.drawMarkerNum(e-1,t),1==e?this.marker.move.setTooltipContent(this.markerTipsGoon):e>3&&this.marker.move.setTooltipContent(this.markerTipsPlohgonEnd)}this.getMeasure("length")},drawPolyline(t){let e=this.drawStyle;return L.polyline(t,e).addTo(this.drawLayer)},finishDrawPolyline(){let t=this.coordinateArr;t.pop(),this.tempDrawing.setLatLngs(t),this.initDrawShapeStatus()},getMeasure(t="area",e=3){if(this.isMeasure&&this.tempDrawing){let i=this.coordinateArr,n=i.length;"area"==t&&n>=e?this.dealMeasure(t):"circle"==t?this.dealMeasure(t,e):"length"==t&&n>1&&this.dealMeasure(t)}},dealMeasure(t,e){let i=void 0==e&&this.tempDrawing.getCenter(),n=this.tempDrawing.toGeoJSON();var r=0;let o,s="";if("length"==t){let t=this.coordinateArr;i=t[t.length-1];let e=n.geometry.coordinates,a=Qc(e);r=Ap(a,{units:"kilometers"}),r*=1e3,o=r,r=""+r+" m",s="tips-top"}else if("circle"==t){i=e.center;let{radius:t}=e;r=Math.PI*t*t,o=r,r=""+r+" "}else r=Pp(n),o=r,r=""+r+" ";this.measureFormat&&"function"==typeof this.measureFormat&&(r=this.measureFormat(t,o));var a=L.divIcon({className:"my-measure-icon",html:'<span class="tips '+s+'">'+r+"</span>"});this.measureMarker?this.measureMarker.setLatLng(i).setIcon(a):this.measureMarker=L.marker(i,{icon:a}).addTo(this.drawLayer)},drawMarker(t,e=!0){if(this.marker.move)this.marker.move.setLatLng(t);else{let i={};e||(i={display:"none"}),this.marker.move=L.marker(t,{icon:this.drawIcon(i),zIndexOffset:99}).bindTooltip(this.markerTips,{permanent:!0,direction:"bottom",offset:L.point(0,9)}).openTooltip().addTo(this.lMap.self),this.marker.move.on("dblclick",(t=>("polygon"==this.editType&&this.coordinateArrLen>3?this.finishDrawPolygon():"polyline"==this.editType&&this.coordinateArrLen>2&&this.finishDrawPolyline(),!1)))}},drawMarkerNum(t,e,i=!0){let n=this.marker.num[t];n&&n.remove();let r={};i||(r={display:"none"}),n=L.marker(e,{icon:this.drawIcon(r),zIndexOffset:99}).addTo(this.lMap.self),this.marker.num[t]=n,this.marker.num[t].on("click",(t=>("polygon"==this.editType&&this.coordinateArrLen>3?this.finishDrawPolygon():"polyline"==this.editType&&this.coordinateArrLen>2&&this.finishDrawPolyline(),!1)))},clearMarker(){let t=this.marker;t.move&&t.move.remove(),t.num.length>0&&t.num.forEach((t=>{t&&t.remove()})),this.marker.move=null,this.marker.num=[]},drawIcon(t={}){let e=this.drawStyle||{},i=e.color||"#4c7efd",n={"background-color":"#ffffff",width:"18px",height:"18px",position:"relative",left:"-9px",top:"-9px",display:"block","border-radius":"50%",outline:"none",border:"1px solid "+i},r=Object.assign({},n,this.drawIconStyle,t),o=Object.keys(r),s=o.map((t=>t+":"+r[t]+";"));return s=s.join(""),L.divIcon({className:"my-custom-pin",iconAnchor:[0,0],html:`<span style="${s}" />`})}}};Hl().polyline,Hl().extend;var xy={name:"LDrawLayer",inject:["lMap"],mixins:[eu,vy],inheritAttrs:!1,props:{mode:{type:String,default:"vertical"},customClass:{type:String,default:""},dToB:{type:[String,Array],default:"10px 80px"},position:{type:String,default:"topleft",validator:function(t){return-1!==["topleft","topright","bottomleft","bottomright"].indexOf(t)}},drawShapeMore:{type:Boolean,custom:!0,default:!0},drawOptions:{type:[Array,Object],default:()=>["zoomIn","zoomOut","marker","circleMarker","rectangle","polygon","circle","polyline","delete"],validator:function(t){let e=!0;return Array.isArray(t)&&(e=t.every((t=>"string"==typeof t||void 0!=t.type))),e}},commonStyle:{type:Object,default:()=>({color:"#4c7efd",weight:1})},commonIconStyle:{type:Object,default:()=>({})},measure:{type:Boolean,default:!1},measureFormat:{type:Function}},data(){return{drawList:[],originOptions:{zoomIn:{title:""},zoomOut:{title:""},marker:{title:""},circleMarker:{title:""},rectangle:{title:""},rectangleMeasure:{title:""},polygon:{title:""},polygonMeasure:{title:""},circle:{title:""},polyline:{title:""},polylineMeasure:{title:""},delete:{title:""}},renderDrawObj:{},mapObject:null,drawLayer:null,editable:!1,editType:"",isMeasure:this.measure}},watch:{drawOptions:{deep:!0,immediate:!0,handler(t,e){let i=this.originOptions,n=this.typeArr,r=Array.isArray(t)?t:Object.keys(t);this.renderDrawObj={},this.drawList=r.map((e=>{if(!n.includes(e.type||e))return console.error(`"${e}"\n${n}`),!1;let r={},o=typeof e,s=i[e]||i[e.type];return"string"===o?(r.type=e,t[e]&&(r={...r,...t[e]}),r={...s,...r}):"object"===o&&(r={...s,...e}),this.renderDrawObj[r.type]=r,r}))}}},computed:{typeArr(){return Object.keys(this.originOptions)},drawStyle(){let t={color:"#4c7efd",weight:1},e=this.editType,i=this.renderDrawObj,n=i[e].style||{};return{style:t,...this.commonStyle,...n}},drawIconStyle(){let t=this.editType,e=this.renderDrawObj,i=e[t].iconStyle||{};return{...this.commonIconStyle,...i}},positionClass(){let t=this.dToB,e=this.position;t=Array.isArray(t)?t:t.split(" ");let i=t[0],n=1==t.length?i:t[1],r=e.includes("left")?"left":"right",o=e.includes("top")?"top":"bottom";return{[r]:i,[o]:n}}},methods:{setDrawShape(t){if("object"!=typeof t||!t.type)return console.error("shapeInfotype"),!1;let e=t.type;if(!this.originOptions[e])return console.error(`type${e}drawOptionstype`),!1;this.handleDrawShape(t)},cancelDraw(){this.editType="",this.setEditable(!1)},zoomFn(t){let e=this.mapObject.getZoom();e="zoomIn"===t?e+1:e-1,this.mapObject.setZoom(e)},handleDrawShape(t){let{type:e}=t;if(["zoomIn","zoomOut"].includes(e))return this.zoomFn(e),this.$emit("changeType",t),!1;if(this.initDrawShapeStatus(!1),"delete"==e)return this.clearLayers(),this.$emit("changeType",t),!1;this.drawShapeMore||this.clearLayers(!0),this.getIsMeasure(t);let i=this.editType==e;this.editType=i?"":e,this.setEditable(!i),this.$emit("changeType",t)},getIsMeasure(t){this.isMeasure=void 0!=t.measure?t.measure:this.measure},setEditable(t){this.clearMarker(),this.editable=t},clearLayers(t=!1){t||(this.editType=""),this.setEditable(!1),this.drawLayer&&this.drawLayer.clearLayers(),this.$emit("clearLayers")},getDrawLayers(t){let e=this.drawLayer;return t&&this.typeArr.includes(t)&&e.eachLayer((t=>{console.log(t)})),e.getLayers()},getDrawLayer(){return this.drawLayer},getFeatures(){let t=this.drawLayer.toGeoJSON();return t.features||[]},toWKT(t){if(!t){t=this.getFeatures();let e=t.map((t=>t.geometry));t={type:"GeometryCollection",geometries:e}}return Fu(t)},toWktArray(){let t=this.getFeatures();return t.map((t=>Fu(t.geometry)))},emitStartDraw(t){this.$emit("startDraw",t,this.editType)},emitDrawing(t,e,i){this.$emit("drawing",t,e,i)},emitFinishDraw(t){this.drawShapeMore||(this.editType="",this.setEditable(!1)),this.$emit("finishDraw",t)},initLeafletObject(){this.mapObject=this.lMap.self,this.drawLayer=Hl().featureGroup(),this.mapObject.addLayer(this.drawLayer),this.mapObject.on("click",this.onMapClick),this.mapObject.on("mousemove",this.onMapMousemove),$l(this,this.drawLayer,this.$options.props),$l(this,this.drawLayer,{},this.options),this.$nextTick((()=>{this.ready=!0,this.useSelfMethods&&Kl(this,this.drawLayer),this.$emit("ready",this.mapObject,this.selfOptions)}))}},mounted(){this.initLeafletObject()}};const by=(0,Hu.A)(xy,[["render",Hc],["__scopeId","data-v-02536e18"]]);var wy=by;wy.install=function(t){t.component(wy.name,wy)};const My={style:{display:"none"}};function Ey(t,e,i,n,r,o){return Sr(),Or("div",My,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Sy=Hl().layerGroup,Cy=Hl().extend;var Iy={name:"LLayerGroup",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{layersArr:{type:Array,default(){return[]}}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Cy(this.originOptions,this.options,this.$attrs),this.self=Sy(this.layersArr,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const Py=(0,Hu.A)(Iy,[["render",Ey]]);var Ly=Py;Ly.install=function(t){t.component(Ly.name,Ly)};const Oy={style:{display:"none"}};function Ny(t,e,i,n,r,o){return Sr(),Or("div",Oy,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Ty=Hl().featureGroup,Ay=Hl().extend;var Ry={name:"LFeatureGroup",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{layersArr:{type:Array,default(){return[]}}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Ay(this.originOptions,this.options,this.$attrs),this.self=Ty(this.layersArr,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const Dy=(0,Hu.A)(Ry,[["render",Ny]]);var ky=Dy;ky.install=function(t){t.component(ky.name,ky)};const Fy={style:{display:"none"}};function By(t,e,i,n,r,o){return Sr(),Or("div",Fy,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const zy=Hl().geoJSON,jy=Hl().extend;var Uy={name:"LGeoJson",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{geojson:{custom:!0,type:[Array,Object],default:()=>({})},isFitBounds:{custom:!0,type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{setGeojson(){this.self.clearLayers&&this.self.clearLayers(),this.addData(this.geojson),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))},setIsFitBounds(){this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))},addData(t){this.self.addData(t)},resetStyle(t){this.self.resetStyle(t)},setStyle(t){this.self.setStyle(t)},initLeafletObject(){this.selfOptions=jy(this.originOptions,this.options,this.$attrs),this.self=zy(this.geojson,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const Gy=(0,Hu.A)(Uy,[["render",By]]);var Vy=Gy;Vy.install=function(t){t.component(Vy.name,Vy)};const qy={style:{display:"none"}};function Wy(t,e,i,n,r,o){return Sr(),Or("div",qy,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Yy=Hl().polyline,Hy=Hl().extend;var Xy={name:"LPolyline",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Hy(this.originOptions,this.options,this.$attrs),this.self=Yy(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const Zy=(0,Hu.A)(Xy,[["render",Wy]]);var $y=Zy;$y.install=function(t){t.component($y.name,$y)};const Jy={style:{display:"none"}};function Ky(t,e,i,n,r,o){return Sr(),Or("div",Jy,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const Qy=Hl().polygon,tm=Hl().extend;var em={name:"LPolygon",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=tm(this.originOptions,this.options,this.$attrs),this.self=Qy(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const im=(0,Hu.A)(em,[["render",Ky]]);var nm=im;nm.install=function(t){t.component(nm.name,nm)};const rm={style:{display:"none"}};function om(t,e,i,n,r,o){return Sr(),Or("div",rm,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const sm=Hl().rectangle,am=Hl().extend;var hm={name:"LRectangle",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latlngs:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=am(this.originOptions,this.options,this.$attrs),this.self=sm(this.latlngs,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const lm=(0,Hu.A)(hm,[["render",om]]);var um=lm;um.install=function(t){t.component(um.name,um)};const cm={style:{display:"none"}};function pm(t,e,i,n,r,o){return Sr(),Or("div",cm,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}var fm={name:"LCircle",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=Hl().extend(this.originOptions,this.options,this.$attrs),this.self=Hl().circle(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const dm=(0,Hu.A)(fm,[["render",pm]]);var gm=dm;gm.install=function(t){t.component(gm.name,gm)};const ym={style:{display:"none"}};function mm(t,e,i,n,r,o){return Sr(),Or("div",ym,[t.ready?Ji(t.$slots,"default",{key:0}):Gr("",!0)])}const _m=Hl().circleMarker,vm=Hl().extend;var xm={name:"LCircleMarker",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latlng:{type:[Array,Object],default:null},isFitBounds:{type:Boolean,default:!1}},data(){return{originOptions:{}}},methods:{initLeafletObject(){this.selfOptions=vm(this.originOptions,this.options,this.$attrs),this.self=_m(this.latlng,this.selfOptions),this.initFunction(),this.$nextTick((()=>{this.isFitBounds&&this.lMap.self.fitBounds(this.self.getBounds())}))}},mounted(){this.initLeafletObject()}};const bm=(0,Hu.A)(xm,[["render",mm]]);var wm=bm;wm.install=function(t){t.component(wm.name,wm)};const Mm={key:0};function Em(t,e,i,n,r,o){return t.ready?(Sr(),Or("div",Mm,[Ji(t.$slots,"default")])):Gr("",!0)}const Sm=Hl().marker,Cm=Hl().icon,Im=Hl().divIcon,Pm=Hl().extend;var Lm={name:"LMarker",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{latLng:{type:[Array,Object],default:null},latlng:{custom:!0,type:[Array,Object],default:null},iconOptions:{custom:!0,type:Object,default:null},divIconOptions:{custom:!0,type:Object,default:null}},data(){return{originOptions:{}}},methods:{setLatlng(t){this.self.setLatLng(t)},initLeafletObject(){this.selfOptions=Pm(this.originOptions,this.options,this.$attrs),this.iconOptions?this.selfOptions.icon=Cm(this.iconOptions):this.divIconOptions?this.selfOptions.icon=Im(this.divIconOptions):this.selfOptions.icon=Cm({iconUrl:my,shadowUrl:_y,iconAnchor:[12,38]});let t=this.latLng||this.latlng;this.self=Sm(t,this.selfOptions),this.initFunction()}},mounted(){this.initLeafletObject()}};const Om=(0,Hu.A)(Lm,[["render",Em]]);var Nm=Om;Nm.install=function(t){t.component(Nm.name,Nm)};var Tm=Nm;function Am(t,e,i,n,r,o){return Sr(),Or("div",null,[Ji(t.$slots,"default")])}const Rm=Hl().DomEvent,Dm=Hl().popup,km=Hl().extend;var Fm={name:"LPopup",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{addToMap:{type:Boolean,default:!1},layer:{type:[Array,Object],default:null},latlng:{custom:!0,type:[Array,Object],default:null},content:{custom:!0,type:[Object,String,Function]}},data(){return{originOptions:{},parentDom:null,_attrs:{},_listeners:{}}},methods:{setContent(t){this.self&&null!==t&&void 0!==t&&this.self.setContent(t)},setLatlng(t){this.self&&null!==t&&void 0!==t&&(this.self.setLatLng(t),this.self.togglePopup())},getParentDom(){let t=this.addToMap?this.lMap:this.$parent;return t.self||(t=Jl(this)),t},initFunction(){if(!this.self)return!1;this.parentDom=this.getParentDom(),this.parentDom.bindPopup?this.parentDom.bindPopup(this.self):this.self.addTo(this.lMap.self),Rm.on(this.self,this._listeners),$l(this,this.self,this.$options.props),$l(this,this.self,{},this.options),this.$nextTick((()=>{this.ready=!0,this.useSelfMethods&&Kl(this,this.self),this.$emit("ready",this.self,this.selfOptions)}))},initLeafletObject(){let t={},e={},i=this.$attrs;Object.keys(i).forEach((n=>{if(n&&n.startsWith("on")){let t=n.substring(2);t=t&&t.toLowerCase(),e[t]=i[n]}else t[n]=i[n]})),this._attrs=t,this._listeners=e,this.selfOptions=km(this.originOptions,this.options,t),this.self=Dm(this.selfOptions,this.layer),void 0!==this.latlng&&null!==this.latlng&&this.self.setLatLng(this.latlng),this.self.setContent(this.content||this.$el),this.initFunction()}},mounted(){this.initLeafletObject()},beforeUnmount(){this.parentDom&&(this.parentDom.unbindPopup?this.parentDom.unbindPopup():this.parentDom.self&&this.parentDom.self.unbindPopup&&this.parentDom.self.unbindPopup())}};const Bm=(0,Hu.A)(Fm,[["render",Am]]);var zm=Bm;zm.install=function(t){t.component(zm.name,zm)};var jm=zm;function Um(t,e,i,n,r,o){return Sr(),Or("div",null,[Ji(t.$slots,"default")])}const Gm=Hl().DomEvent,Vm=Hl().tooltip,qm=(Hl().latLng,Hl().extend);var Wm={name:"LTooltip",inject:["lMap"],mixins:[eu],inheritAttrs:!1,props:{addToMap:{type:Boolean,default:!1},content:{custom:!0,type:[Object,String,Function]}},data(){return{originOptions:{},parentDom:null}},methods:{setContent(t){this.self&&null!==t&&void 0!==t&&this.self.setContent(t)},initFunction(){if(!this.self)return!1;let t=this.addToMap?this.lMap:this.$parent;t.self||(t=Jl(this)),this.parentDom=t,this.self.setContent(this.content||this.$el),t.self.bindTooltip(this.self),Gm.on(this.self,this.$listeners),$l(this,this.self,this.$options.props),$l(this,this.self,{},this.options),this.$nextTick((()=>{this.ready=!0,this.useSelfMethods&&Kl(this,this.self),this.$emit("ready",this.self,this.selfOptions)}))},initLeafletObject(){this.selfOptions=qm(this.originOptions,this.options,this.$attrs),this.self=Vm(this.selfOptions,this.layer),this.initFunction()}},mounted(){this.initLeafletObject()},beforeUnmount(){this.parentDom&&(this.parentDom.unbindTooltip?this.parentDom.unbindTooltip():this.parentDom.self&&this.parentDom.self.unbindTooltip&&this.parentDom.self.unbindTooltip())}};const Ym=(0,Hu.A)(Wm,[["render",Um]]);var Hm=Ym;Hm.install=function(t){t.component(Hm.name,Hm)};function Xm(t){return Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(t)}function Zm(t,e){if("object"!=Xm(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=Xm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function $m(t){var e=Zm(t,"string");return"symbol"==Xm(e)?e:e+""}function Jm(t,e,i){return(e=$m(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function Km(t){return t+.5|0}const Qm=(t,e,i)=>Math.max(Math.min(t,i),e);function t_(t){return Qm(Km(2.55*t),0,255)}function e_(t){return Qm(Km(255*t),0,255)}function i_(t){return Qm(Km(t/2.55)/100,0,1)}function n_(t){return Qm(Km(100*t),0,100)}const r_={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},o_=[..."0123456789ABCDEF"],s_=t=>o_[15&t],a_=t=>o_[(240&t)>>4]+o_[15&t],h_=t=>(240&t)>>4===(15&t),l_=t=>h_(t.r)&&h_(t.g)&&h_(t.b)&&h_(t.a);function u_(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*r_[t[1]],g:255&17*r_[t[2]],b:255&17*r_[t[3]],a:5===i?17*r_[t[4]]:255}:7!==i&&9!==i||(e={r:r_[t[1]]<<4|r_[t[2]],g:r_[t[3]]<<4|r_[t[4]],b:r_[t[5]]<<4|r_[t[6]],a:9===i?r_[t[7]]<<4|r_[t[8]]:255})),e}const c_=(t,e)=>t<255?e(t):"";function p_(t){var e=l_(t)?s_:a_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+c_(t.a,e):void 0}const f_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function d_(t,e,i){const n=e*Math.min(i,1-i),r=(e,r=(e+t/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function g_(t,e,i){const n=(n,r=(n+t/60)%6)=>i-i*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function y_(t,e,i){const n=d_(t,1,.5);let r;for(e+i>1&&(r=1/(e+i),e*=r,i*=r),r=0;r<3;r++)n[r]*=1-e-i,n[r]+=e;return n}function m_(t,e,i,n,r){return t===r?(e-i)/n+(e<i?6:0):e===r?(i-t)/n+2:(t-e)/n+4}function __(t){const e=255,i=t.r/e,n=t.g/e,r=t.b/e,o=Math.max(i,n,r),s=Math.min(i,n,r),a=(o+s)/2;let h,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),h=m_(i,n,r,u,o),h=60*h+.5),[0|h,l||0,a]}function v_(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(e_)}function x_(t,e,i){return v_(d_,t,e,i)}function b_(t,e,i){return v_(y_,t,e,i)}function w_(t,e,i){return v_(g_,t,e,i)}function M_(t){return(t%360+360)%360}function E_(t){const e=f_.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?t_(+e[5]):e_(+e[5]));const r=M_(+e[2]),o=+e[3]/100,s=+e[4]/100;return i="hwb"===e[1]?b_(r,o,s):"hsv"===e[1]?w_(r,o,s):x_(r,o,s),{r:i[0],g:i[1],b:i[2],a:n}}function S_(t,e){var i=__(t);i[0]=M_(i[0]+e),i=x_(i),t.r=i[0],t.g=i[1],t.b=i[2]}function C_(t){if(!t)return;const e=__(t),i=e[0],n=n_(e[1]),r=n_(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${r}%, ${i_(t.a)})`:`hsl(${i}, ${n}%, ${r}%)`}const I_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},P_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function L_(){const t={},e=Object.keys(P_),i=Object.keys(I_);let n,r,o,s,a;for(n=0;n<e.length;n++){for(s=a=e[n],r=0;r<i.length;r++)o=i[r],a=a.replace(o,I_[o]);o=parseInt(P_[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}let O_;function N_(t){O_||(O_=L_(),O_.transparent=[0,0,0,0]);const e=O_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const T_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function A_(t){const e=T_.exec(t);let i,n,r,o=255;if(e){if(e[7]!==i){const t=+e[7];o=e[8]?t_(t):Qm(255*t,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?t_(i):Qm(i,0,255)),n=255&(e[4]?t_(n):Qm(n,0,255)),r=255&(e[6]?t_(r):Qm(r,0,255)),{r:i,g:n,b:r,a:o}}}function R_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${i_(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const D_=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,k_=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function F_(t,e,i){const n=k_(i_(t.r)),r=k_(i_(t.g)),o=k_(i_(t.b));return{r:e_(D_(n+i*(k_(i_(e.r))-n))),g:e_(D_(r+i*(k_(i_(e.g))-r))),b:e_(D_(o+i*(k_(i_(e.b))-o))),a:t.a+i*(e.a-t.a)}}function B_(t,e,i){if(t){let n=__(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=x_(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function z_(t,e){return t?Object.assign(e||{},t):t}function j_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=e_(t[3]))):(e=z_(t,{r:0,g:0,b:0,a:1}),e.a=e_(e.a)),e}function U_(t){return"r"===t.charAt(0)?A_(t):E_(t)}class G_{constructor(t){if(t instanceof G_)return t;const e=typeof t;let i;"object"===e?i=j_(t):"string"===e&&(i=u_(t)||N_(t)||U_(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=z_(this._rgb);return t&&(t.a=i_(t.a)),t}set rgb(t){this._rgb=j_(t)}rgbString(){return this._valid?R_(this._rgb):void 0}hexString(){return this._valid?p_(this._rgb):void 0}hslString(){return this._valid?C_(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let r;const o=e===r?.5:e,s=2*o-1,a=i.a-n.a,h=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;r=1-h,i.r=255&h*i.r+r*n.r+.5,i.g=255&h*i.g+r*n.g+.5,i.b=255&h*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=F_(this._rgb,t._rgb,e)),this}clone(){return new G_(this.rgb)}alpha(t){return this._rgb.a=e_(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Km(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return B_(this._rgb,2,t),this}darken(t){return B_(this._rgb,2,-t),this}saturate(t){return B_(this._rgb,1,t),this}desaturate(t){return B_(this._rgb,1,-t),this}rotate(t){return S_(this._rgb,t),this}}
/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
function V_(){}const q_=(()=>{let t=0;return()=>t++})();function W_(t){return null===t||"undefined"===typeof t}function Y_(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function H_(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function X_(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function Z_(t,e){return X_(t)?t:e}function $_(t,e){return"undefined"===typeof t?e:t}const J_=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,K_=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Q_(t,e,i){if(t&&"function"===typeof t.call)return t.apply(i,e)}function tv(t,e,i,n){let r,o,s;if(Y_(t))if(o=t.length,n)for(r=o-1;r>=0;r--)e.call(i,t[r],r);else for(r=0;r<o;r++)e.call(i,t[r],r);else if(H_(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(i,t[s[r]],s[r])}function ev(t,e){let i,n,r,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(r=t[i],o=e[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function iv(t){if(Y_(t))return t.map(iv);if(H_(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let r=0;for(;r<n;++r)e[i[r]]=iv(t[i[r]]);return e}return t}function nv(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function rv(t,e,i,n){if(!nv(t))return;const r=e[t],o=i[t];H_(r)&&H_(o)?ov(r,o,n):e[t]=iv(o)}function ov(t,e,i){const n=Y_(e)?e:[e],r=n.length;if(!H_(t))return t;i=i||{};const o=i.merger||rv;let s;for(let a=0;a<r;++a){if(s=n[a],!H_(s))continue;const e=Object.keys(s);for(let n=0,r=e.length;n<r;++n)o(e[n],t,s,i)}return t}function sv(t,e){return ov(t,e,{merger:av})}function av(t,e,i){if(!nv(t))return;const n=e[t],r=i[t];H_(n)&&H_(r)?sv(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=iv(r))}const hv={"":t=>t,x:t=>t.x,y:t=>t.y};function lv(t){const e=t.split("."),i=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function uv(t){const e=lv(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}function cv(t,e){const i=hv[e]||(hv[e]=uv(e));return i(t)}function pv(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fv=t=>"undefined"!==typeof t,dv=t=>"function"===typeof t,gv=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function yv(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const mv=Math.PI,_v=2*mv,vv=_v+mv,xv=Number.POSITIVE_INFINITY,bv=mv/180,wv=mv/2,Mv=mv/4,Ev=2*mv/3,Sv=Math.log10,Cv=Math.sign;function Iv(t,e,i){return Math.abs(t-e)<i}function Pv(t){const e=Math.round(t);t=Iv(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(Sv(t))),n=t/i,r=n<=1?1:n<=2?2:n<=5?5:10;return r*i}function Lv(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n===0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function Ov(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Nv(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function Tv(t,e,i){let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Av(t){return t*(mv/180)}function Rv(t){return t*(180/mv)}function Dv(t){if(!X_(t))return;let e=1,i=0;while(Math.round(t*e)/e!==t)e*=10,i++;return i}function kv(t,e){const i=e.x-t.x,n=e.y-t.y,r=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*mv&&(o+=_v),{angle:o,distance:r}}function Fv(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Bv(t,e){return(t-e+vv)%_v-mv}function zv(t){return(t%_v+_v)%_v}function jv(t,e,i,n){const r=zv(t),o=zv(e),s=zv(i),a=zv(o-r),h=zv(s-r),l=zv(r-o),u=zv(r-s);return r===o||r===s||n&&o===s||a>h&&l<u}function Uv(t,e,i){return Math.max(e,Math.min(i,t))}function Gv(t){return Uv(t,-32768,32767)}function Vv(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function qv(t,e,i){i=i||(i=>t[i]<e);let n,r=t.length-1,o=0;while(r-o>1)n=o+r>>1,i(n)?o=n:r=n;return{lo:o,hi:r}}const Wv=(t,e,i,n)=>qv(t,i,n?n=>{const r=t[n][e];return r<i||r===i&&t[n+1][e]===i}:n=>t[n][e]<i),Yv=(t,e,i)=>qv(t,i,(n=>t[n][e]>=i));function Hv(t,e,i){let n=0,r=t.length;while(n<r&&t[n]<e)n++;while(r>n&&t[r-1]>i)r--;return n>0||r<t.length?t.slice(n,r):t}const Xv=["push","pop","shift","splice","unshift"];function Zv(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xv.forEach((e=>{const i="_onData"+pv(e),n=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const r=n.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[i]&&t[i](...e)})),r}})})))}function $v(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(e);-1!==r&&n.splice(r,1),n.length>0||(Xv.forEach((e=>{delete t[e]})),delete t._chartjs)}function Jv(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Kv=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function Qv(t,e){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Kv.call(window,(()=>{n=!1,t.apply(e,i)})))}}function tx(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}const ex=t=>"start"===t?"left":"end"===t?"right":"center",ix=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,nx=(t,e,i,n)=>{const r=n?"left":"right";return t===r?i:"center"===t?(e+i)/2:e};function rx(t,e,i){const n=e.length;let r=0,o=n;if(t._sorted){const{iScale:s,_parsed:a}=t,h=s.axis,{min:l,max:u,minDefined:c,maxDefined:p}=s.getUserBounds();c&&(r=Uv(Math.min(Wv(a,h,l).lo,i?n:Wv(e,h,s.getPixelForValue(l)).lo),0,n-1)),o=p?Uv(Math.max(Wv(a,s.axis,u,!0).hi+1,i?0:Wv(e,h,s.getPixelForValue(u),!0).hi+1),r,n)-r:n-r}return{start:r,count:o}}function ox(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,r={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=r,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,r),o}const sx=t=>0===t||1===t,ax=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*_v/i),hx=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*_v/i)+1,lx={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*wv),easeOutSine:t=>Math.sin(t*wv),easeInOutSine:t=>-.5*(Math.cos(mv*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>sx(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>sx(t)?t:ax(t,.075,.3),easeOutElastic:t=>sx(t)?t:hx(t,.075,.3),easeInOutElastic(t){const e=.1125,i=.45;return sx(t)?t:t<.5?.5*ax(2*t,e,i):.5+.5*hx(2*t-1,e,i)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-lx.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*lx.easeInBounce(2*t):.5*lx.easeOutBounce(2*t-1)+.5};function ux(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function cx(t){return ux(t)?t:new G_(t)}function px(t){return ux(t)?t:new G_(t).saturate(.5).darken(.1).hexString()}const fx=["x","y","borderWidth","radius","tension"],dx=["color","borderColor","backgroundColor"];function gx(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:dx},numbers:{type:"number",properties:fx}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})}function yx(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const mx=new Map;function _x(t,e){e=e||{};const i=t+JSON.stringify(e);let n=mx.get(i);return n||(n=new Intl.NumberFormat(t,e),mx.set(i,n)),n}function vx(t,e,i){return _x(e,i).format(t)}const xx={values(t){return Y_(t)?t:""+t},numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale;let r,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),o=bx(t,i)}const s=Sv(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),h={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(h,this.options.ticks.format),vx(t,n,h)},logarithmic(t,e,i){if(0===t)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(Sv(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?xx.numeric.call(this,t,e,i):""}};function bx(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t)),i}var wx={formatters:xx};function Mx(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}const Ex=Object.create(null),Sx=Object.create(null);function Cx(t,e){if(!e)return t;const i=e.split(".");for(let n=0,r=i.length;n<r;++n){const e=i[n];t=t[e]||(t[e]=Object.create(null))}return t}function Ix(t,e,i){return"string"===typeof e?ov(Cx(t,e),i):ov(Cx(t,""),e)}class Px{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>px(e.backgroundColor),this.hoverBorderColor=(t,e)=>px(e.borderColor),this.hoverColor=(t,e)=>px(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ix(this,t,e)}get(t){return Cx(this,t)}describe(t,e){return Ix(Sx,t,e)}override(t,e){return Ix(Ex,t,e)}route(t,e,i,n){const r=Cx(this,t),o=Cx(this,i),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[n];return H_(t)?Object.assign({},e,t):$_(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Lx=new Px({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gx,yx,Mx]);function Ox(t){return!t||W_(t.size)||W_(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Nx(t,e,i,n,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,i.push(r)),o>n&&(n=o),n}function Tx(t,e,i,n){n=n||{};let r=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let s=0;const a=i.length;let h,l,u,c,p;for(h=0;h<a;h++)if(c=i[h],void 0===c||null===c||Y_(c)){if(Y_(c))for(l=0,u=c.length;l<u;l++)p=c[l],void 0===p||null===p||Y_(p)||(s=Nx(t,r,o,s,p))}else s=Nx(t,r,o,s,c);t.restore();const f=o.length/2;if(f>i.length){for(h=0;h<f;h++)delete r[o[h]];o.splice(0,f)}return s}function Ax(t,e,i){const n=t.currentDevicePixelRatio,r=0!==i?Math.max(i/2,.5):0;return Math.round((e-r)*n)/n+r}function Rx(t,e){(e||t)&&(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Dx(t,e,i,n){kx(t,e,i,n,null)}function kx(t,e,i,n,r){let o,s,a,h,l,u,c,p;const f=e.pointStyle,d=e.rotation,g=e.radius;let y=(d||0)*bv;if(f&&"object"===typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,n),t.rotate(y),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(i,n,r/2,g,0,0,_v):t.arc(i,n,g,0,_v),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(i+Math.sin(y)*u,n-Math.cos(y)*g),y+=Ev,t.lineTo(i+Math.sin(y)*u,n-Math.cos(y)*g),y+=Ev,t.lineTo(i+Math.sin(y)*u,n-Math.cos(y)*g),t.closePath();break;case"rectRounded":l=.516*g,h=g-l,s=Math.cos(y+Mv)*h,c=Math.cos(y+Mv)*(r?r/2-l:h),a=Math.sin(y+Mv)*h,p=Math.sin(y+Mv)*(r?r/2-l:h),t.arc(i-c,n-a,l,y-mv,y-wv),t.arc(i+p,n-s,l,y-wv,y),t.arc(i+c,n+a,l,y,y+wv),t.arc(i-p,n+s,l,y+wv,y+mv),t.closePath();break;case"rect":if(!d){h=Math.SQRT1_2*g,u=r?r/2:h,t.rect(i-u,n-h,2*u,2*h);break}y+=Mv;case"rectRot":c=Math.cos(y)*(r?r/2:g),s=Math.cos(y)*g,a=Math.sin(y)*g,p=Math.sin(y)*(r?r/2:g),t.moveTo(i-c,n-a),t.lineTo(i+p,n-s),t.lineTo(i+c,n+a),t.lineTo(i-p,n+s),t.closePath();break;case"crossRot":y+=Mv;case"cross":c=Math.cos(y)*(r?r/2:g),s=Math.cos(y)*g,a=Math.sin(y)*g,p=Math.sin(y)*(r?r/2:g),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+p,n-s),t.lineTo(i-p,n+s);break;case"star":c=Math.cos(y)*(r?r/2:g),s=Math.cos(y)*g,a=Math.sin(y)*g,p=Math.sin(y)*(r?r/2:g),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+p,n-s),t.lineTo(i-p,n+s),y+=Mv,c=Math.cos(y)*(r?r/2:g),s=Math.cos(y)*g,a=Math.sin(y)*g,p=Math.sin(y)*(r?r/2:g),t.moveTo(i-c,n-a),t.lineTo(i+c,n+a),t.moveTo(i+p,n-s),t.lineTo(i-p,n+s);break;case"line":s=r?r/2:Math.cos(y)*g,a=Math.sin(y)*g,t.moveTo(i-s,n-a),t.lineTo(i+s,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(y)*(r?r/2:g),n+Math.sin(y)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Fx(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Bx(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zx(t){t.restore()}function jx(t,e,i,n,r){if(!e)return t.lineTo(i.x,i.y);if("middle"===r){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===r!==!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Ux(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Gx(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),W_(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Vx(t,e,i,n,r){if(r.strikethrough||r.underline){const o=t.measureText(n),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,h=i-o.actualBoundingBoxAscent,l=i+o.actualBoundingBoxDescent,u=r.strikethrough?(h+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function qx(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function Wx(t,e,i,n,r,o={}){const s=Y_(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let h,l;for(t.save(),t.font=r.string,Gx(t,o),h=0;h<s.length;++h)l=s[h],o.backdrop&&qx(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),W_(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(l,i,n,o.maxWidth)),t.fillText(l,i,n,o.maxWidth),Vx(t,i,n,l,o),n+=Number(r.lineHeight);t.restore()}function Yx(t,e){const{x:i,y:n,w:r,h:o,radius:s}=e;t.arc(i+s.topLeft,n+s.topLeft,s.topLeft,1.5*mv,mv,!0),t.lineTo(i,n+o-s.bottomLeft),t.arc(i+s.bottomLeft,n+o-s.bottomLeft,s.bottomLeft,mv,wv,!0),t.lineTo(i+r-s.bottomRight,n+o),t.arc(i+r-s.bottomRight,n+o-s.bottomRight,s.bottomRight,wv,0,!0),t.lineTo(i+r,n+s.topRight),t.arc(i+r-s.topRight,n+s.topRight,s.topRight,0,-wv,!0),t.lineTo(i+s.topLeft,n)}const Hx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zx(t,e){const i=(""+t).match(Hx);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100;break}return e*t}const $x=t=>+t||0;function Jx(t,e){const i={},n=H_(e),r=n?Object.keys(e):e,o=H_(t)?n?i=>$_(t[i],t[e[i]]):e=>t[e]:()=>t;for(const s of r)i[s]=$x(o(s));return i}function Kx(t){return Jx(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qx(t){return Jx(t,["topLeft","topRight","bottomLeft","bottomRight"])}function tb(t){const e=Kx(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function eb(t,e){t=t||{},e=e||Lx.font;let i=$_(t.size,e.size);"string"===typeof i&&(i=parseInt(i,10));let n=$_(t.style,e.style);n&&!(""+n).match(Xx)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:$_(t.family,e.family),lineHeight:Zx($_(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:$_(t.weight,e.weight),string:""};return r.string=Ox(r),r}function ib(t,e,i,n){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"===typeof s&&(s=s(e),a=!1),void 0!==i&&Y_(s)&&(s=s[i%s.length],a=!1),void 0!==s))return n&&!a&&(n.cacheable=!1),s}function nb(t,e,i){const{min:n,max:r}=t,o=K_(e,(r-n)/2),s=(t,e)=>i&&0===t?0:t+e;return{min:s(n,-Math.abs(o)),max:s(r,o)}}function rb(t,e){return Object.assign(Object.create(t),e)}function ob(t,e=[""],i,n,r=()=>t[0]){const o=i||t;"undefined"===typeof n&&(n=bb("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:r,override:i=>ob([i,...t],e,o,n)};return new Proxy(s,{deleteProperty(e,i){return delete e[i],delete e._keys,delete t[0][i],!0},get(i,n){return ub(i,n,(()=>xb(n,e,t,i)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return wb(t).includes(e)},ownKeys(t){return wb(t)},set(t,e,i){const n=t._storage||(t._storage=r());return t[e]=n[e]=i,delete t._keys,!0}})}function sb(t,e,i,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:ab(t,n),setContext:e=>sb(t,e,i,n),override:r=>sb(t.override(r),e,i,n)};return new Proxy(r,{deleteProperty(e,i){return delete e[i],delete t[i],!0},get(t,e,i){return ub(t,e,(()=>cb(t,e,i)))},getOwnPropertyDescriptor(e,i){return e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(e,i,n){return t[i]=n,delete e[i],!0}})}function ab(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:i,indexable:n,isScriptable:dv(i)?i:()=>i,isIndexable:dv(n)?n:()=>n}}const hb=(t,e)=>t?t+pv(e):e,lb=(t,e)=>H_(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function ub(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const n=i();return t[e]=n,n}function cb(t,e,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:s}=t;let a=n[e];return dv(a)&&s.isScriptable(e)&&(a=pb(e,a,t,i)),Y_(a)&&a.length&&(a=fb(e,a,t,s.isIndexable)),lb(e,a)&&(a=sb(a,r,o&&o[e],s)),a}function pb(t,e,i,n){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let h=e(o,s||n);return a.delete(t),lb(t,h)&&(h=mb(r._scopes,r,t,h)),h}function fb(t,e,i,n){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=i;if("undefined"!==typeof o.index&&n(t))return e[o.index%e.length];if(H_(e[0])){const i=e,n=r._scopes.filter((t=>t!==i));e=[];for(const h of i){const i=mb(n,r,t,h);e.push(sb(i,o,s&&s[t],a))}}return e}function db(t,e,i){return dv(t)?t(e,i):t}const gb=(t,e)=>!0===t?e:"string"===typeof t?cv(e,t):void 0;function yb(t,e,i,n,r){for(const o of e){const e=gb(i,o);if(e){t.add(e);const o=db(e._fallback,i,r);if("undefined"!==typeof o&&o!==i&&o!==n)return o}else if(!1===e&&"undefined"!==typeof n&&i!==n)return null}return!1}function mb(t,e,i,n){const r=e._rootScopes,o=db(e._fallback,i,n),s=[...t,...r],a=new Set;a.add(n);let h=_b(a,s,i,o||i,n);return null!==h&&(("undefined"===typeof o||o===i||(h=_b(a,s,o,h,n),null!==h))&&ob(Array.from(a),[""],r,o,(()=>vb(e,i,n))))}function _b(t,e,i,n,r){while(i)i=yb(t,e,i,n,r);return i}function vb(t,e,i){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return Y_(r)&&H_(i)?i:r||{}}function xb(t,e,i,n){let r;for(const o of e)if(r=bb(hb(o,t),i),"undefined"!==typeof r)return lb(t,r)?mb(i,n,t,r):r}function bb(t,e){for(const i of e){if(!i)continue;const e=i[t];if("undefined"!==typeof e)return e}}function wb(t){let e=t._keys;return e||(e=t._keys=Mb(t._scopes)),e}function Mb(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}function Eb(t,e,i,n){const{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(n);let a,h,l,u;for(a=0,h=n;a<h;++a)l=a+i,u=e[l],s[a]={r:r.parse(cv(u,o),l)};return s}const Sb=Number.EPSILON||1e-14,Cb=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ib=t=>"x"===t?"y":"x";function Pb(t,e,i,n){const r=t.skip?e:t,o=e,s=i.skip?e:i,a=Fv(o,r),h=Fv(s,o);let l=a/(a+h),u=h/(a+h);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const c=n*l,p=n*u;return{previous:{x:o.x-c*(s.x-r.x),y:o.y-c*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function Lb(t,e,i){const n=t.length;let r,o,s,a,h,l=Cb(t,0);for(let u=0;u<n-1;++u)h=l,l=Cb(t,u+1),h&&l&&(Iv(e[u],0,Sb)?i[u]=i[u+1]=0:(r=i[u]/e[u],o=i[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),i[u]=r*s*e[u],i[u+1]=o*s*e[u])))}function Ob(t,e,i="x"){const n=Ib(i),r=t.length;let o,s,a,h=Cb(t,0);for(let l=0;l<r;++l){if(s=a,a=h,h=Cb(t,l+1),!a)continue;const r=a[i],u=a[n];s&&(o=(r-s[i])/3,a[`cp1${i}`]=r-o,a[`cp1${n}`]=u-o*e[l]),h&&(o=(h[i]-r)/3,a[`cp2${i}`]=r+o,a[`cp2${n}`]=u+o*e[l])}}function Nb(t,e="x"){const i=Ib(e),n=t.length,r=Array(n).fill(0),o=Array(n);let s,a,h,l=Cb(t,0);for(s=0;s<n;++s)if(a=h,h=l,l=Cb(t,s+1),h){if(l){const t=l[e]-h[e];r[s]=0!==t?(l[i]-h[i])/t:0}o[s]=a?l?Cv(r[s-1])!==Cv(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}Lb(t,r,o),Ob(t,o,e)}function Tb(t,e,i){return Math.max(Math.min(t,i),e)}function Ab(t,e){let i,n,r,o,s,a=Fx(t[0],e);for(i=0,n=t.length;i<n;++i)s=o,o=a,a=i<n-1&&Fx(t[i+1],e),o&&(r=t[i],s&&(r.cp1x=Tb(r.cp1x,e.left,e.right),r.cp1y=Tb(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Tb(r.cp2x,e.left,e.right),r.cp2y=Tb(r.cp2y,e.top,e.bottom)))}function Rb(t,e,i,n,r){let o,s,a,h;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Nb(t,r);else{let i=n?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],h=Pb(i,a,t[Math.min(o+1,s-(n?0:1))%s],e.tension),a.cp1x=h.previous.x,a.cp1y=h.previous.y,a.cp2x=h.next.x,a.cp2y=h.next.y,i=a}e.capBezierPoints&&Ab(t,i)}function Db(){return"undefined"!==typeof window&&"undefined"!==typeof document}function kb(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Fb(t,e,i){let n;return"string"===typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const Bb=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function zb(t,e){return Bb(t).getPropertyValue(e)}const jb=["top","right","bottom","left"];function Ub(t,e,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const o=jb[r];n[o]=parseFloat(t[e+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Gb=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function Vb(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:r,offsetY:o}=n;let s,a,h=!1;if(Gb(r,o,t.target))s=r,a=o;else{const t=e.getBoundingClientRect();s=n.clientX-t.left,a=n.clientY-t.top,h=!0}return{x:s,y:a,box:h}}function qb(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,r=Bb(i),o="border-box"===r.boxSizing,s=Ub(r,"padding"),a=Ub(r,"border","width"),{x:h,y:l,box:u}=Vb(t,i),c=s.left+(u&&a.left),p=s.top+(u&&a.top);let{width:f,height:d}=e;return o&&(f-=s.width+a.width,d-=s.height+a.height),{x:Math.round((h-c)/f*i.width/n),y:Math.round((l-p)/d*i.height/n)}}function Wb(t,e,i){let n,r;if(void 0===e||void 0===i){const o=t&&kb(t);if(o){const t=o.getBoundingClientRect(),s=Bb(o),a=Ub(s,"border","width"),h=Ub(s,"padding");e=t.width-h.width-a.width,i=t.height-h.height-a.height,n=Fb(s.maxWidth,o,"clientWidth"),r=Fb(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||xv,maxHeight:r||xv}}const Yb=t=>Math.round(10*t)/10;function Hb(t,e,i,n){const r=Bb(t),o=Ub(r,"margin"),s=Fb(r.maxWidth,t,"clientWidth")||xv,a=Fb(r.maxHeight,t,"clientHeight")||xv,h=Wb(t,e,i);let{width:l,height:u}=h;if("content-box"===r.boxSizing){const t=Ub(r,"border","width"),e=Ub(r,"padding");l-=e.width+t.width,u-=e.height+t.height}l=Math.max(0,l-o.width),u=Math.max(0,n?l/n:u-o.height),l=Yb(Math.min(l,s,h.maxWidth)),u=Yb(Math.min(u,a,h.maxHeight)),l&&!u&&(u=Yb(l/2));const c=void 0!==e||void 0!==i;return c&&n&&h.height&&u>h.height&&(u=h.height,l=Yb(Math.floor(u*n))),{width:l,height:u}}function Xb(t,e,i){const n=e||1,r=Math.floor(t.height*n),o=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(i||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=n,s.height=r,s.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0)}const Zb=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Db()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(RP){}return t}();function $b(t,e){const i=zb(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Jb(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Kb(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function Qb(t,e,i,n){const r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Jb(t,r,i),a=Jb(r,o,i),h=Jb(o,e,i),l=Jb(s,a,i),u=Jb(a,h,i);return Jb(l,u,i)}const tw=function(t,e){return{x(i){return t+t+e-i},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},ew=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function iw(t,e,i){return t?tw(e,i):ew()}function nw(t,e){let i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function rw(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function ow(t){return"angle"===t?{between:jv,compare:Bv,normalize:zv}:{between:Vv,compare:(t,e)=>t-e,normalize:t=>t}}function sw({start:t,end:e,count:i,loop:n,style:r}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i===0,style:r}}function aw(t,e,i){const{property:n,start:r,end:o}=i,{between:s,normalize:a}=ow(n),h=e.length;let l,u,{start:c,end:p,loop:f}=t;if(f){for(c+=h,p+=h,l=0,u=h;l<u;++l){if(!s(a(e[c%h][n]),r,o))break;c--,p--}c%=h,p%=h}return p<c&&(p+=h),{start:c,end:p,loop:f,style:t.style}}function hw(t,e,i){if(!i)return[t];const{property:n,start:r,end:o}=i,s=e.length,{compare:a,between:h,normalize:l}=ow(n),{start:u,end:c,loop:p,style:f}=aw(t,e,i),d=[];let g,y,m,_=!1,v=null;const x=()=>h(r,m,g)&&0!==a(r,m),b=()=>0===a(o,g)||h(o,m,g),w=()=>_||x(),M=()=>!_||b();for(let E=u,S=u;E<=c;++E)y=e[E%s],y.skip||(g=l(y[n]),g!==m&&(_=h(g,r,o),null===v&&w()&&(v=0===a(g,r)?E:S),null!==v&&M()&&(d.push(sw({start:v,end:E,loop:p,count:s,style:f})),v=null),S=E,m=g));return null!==v&&d.push(sw({start:v,end:c,loop:p,count:s,style:f})),d}function lw(t,e){const i=[],n=t.segments;for(let r=0;r<n.length;r++){const o=hw(n[r],t.points,e);o.length&&i.push(...o)}return i}function uw(t,e,i,n){let r=0,o=e-1;if(i&&!n)while(r<e&&!t[r].skip)r++;while(r<e&&t[r].skip)r++;r%=e,i&&(o+=r);while(o>r&&t[o%e].skip)o--;return o%=e,{start:r,end:o}}function cw(t,e,i,n){const r=t.length,o=[];let s,a=e,h=t[e];for(s=e+1;s<=i;++s){const i=t[s%r];i.skip||i.stop?h.skip||(n=!1,o.push({start:e%r,end:(s-1)%r,loop:n}),e=a=i.stop?s:null):(a=s,h.skip&&(e=s)),h=i}return null!==a&&o.push({start:e%r,end:a%r,loop:n}),o}function pw(t,e){const i=t.points,n=t.options.spanGaps,r=i.length;if(!r)return[];const o=!!t._loop,{start:s,end:a}=uw(i,r,o,n);if(!0===n)return fw(t,[{start:s,end:a,loop:o}],i,e);const h=a<s?a+r:a,l=!!t._fullLoop&&0===s&&a===r-1;return fw(t,cw(i,s,h,l),i,e)}function fw(t,e,i,n){return n&&n.setContext&&i?dw(t,e,i,n):e}function dw(t,e,i,n){const r=t._chart.getContext(),o=gw(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,h=i.length,l=[];let u=o,c=e[0].start,p=c;function f(t,e,n,r){const o=a?-1:1;if(t!==e){t+=h;while(i[t%h].skip)t-=o;while(i[e%h].skip)e+=o;t%h!==e%h&&(l.push({start:t%h,end:e%h,loop:n,style:r}),u=r,c=e%h)}}for(const d of e){c=a?c:d.start;let t,e=i[c%h];for(p=c+1;p<=d.end;p++){const o=i[p%h];t=gw(n.setContext(rb(r,{type:"segment",p0:e,p1:o,p0DataIndex:(p-1)%h,p1DataIndex:p%h,datasetIndex:s}))),yw(t,u)&&f(c,p-1,d.loop,u),e=o,u=t}c<p-1&&f(c,p-1,d.loop,u)}return l}function gw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function yw(t,e){if(!e)return!1;const i=[],n=function(t,e){return ux(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,n)!==JSON.stringify(e,n)}
/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
class mw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const r=e.listeners[n],o=e.duration;r.forEach((n=>n({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Kv.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),r.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var _w=new mw;const vw="transparent",xw={boolean(t,e,i){return i>.5?e:t},color(t,e,i){const n=cx(t||vw),r=n.valid&&cx(e||vw);return r&&r.valid?r.mix(n,i).hexString():e},number(t,e,i){return t+(e-t)*i}};class bw{constructor(t,e,i,n){const r=e[i];n=ib([t.to,n,r,t.from]);const o=ib([t.from,r,n]);this._active=!0,this._fn=t.fn||xw[t.type||typeof o],this._easing=lx[t.easing]||lx.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=ib([t.to,e,n,t.from]),this._from=ib([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||e<i),!this._active)return this._target[n]=s,void this._notify(!0);e<0?this._target[n]=r:(a=e/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}}class ww{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!H_(t))return;const e=Object.keys(Lx.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n];if(!H_(r))return;const o={};for(const t of e)o[t]=r[t];(Y_(r.properties)&&r.properties||[n]).forEach((t=>{t!==n&&i.has(t)||i.set(t,o)}))}))}_animateOptions(t,e){const i=e.options,n=Ew(t,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&Mw(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),r}_createAnimations(t,e){const i=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const h=o[a];if("$"===h.charAt(0))continue;if("options"===h){n.push(...this._animateOptions(t,e));continue}const l=e[h];let u=r[h];const c=i.get(h);if(u){if(c&&u.active()){u.update(c,l,s);continue}u.cancel()}c&&c.duration?(r[h]=u=new bw(c,t,h,l),n.push(u)):t[h]=l}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(_w.add(this._chart,i),!0):void 0}}function Mw(t,e){const i=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const e=t[n[r]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}function Ew(t,e){if(!e)return;let i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}function Sw(t,e){const i=t&&t.options||{},n=i.reverse,r=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:n?o:r,end:n?r:o}}function Cw(t,e,i){if(!1===i)return!1;const n=Sw(t,i),r=Sw(e,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Iw(t){let e,i,n,r;return H_(t)?(e=t.top,i=t.right,n=t.bottom,r=t.left):e=i=n=r=t,{top:e,right:i,bottom:n,left:r,disabled:!1===t}}function Pw(t,e){const i=[],n=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function Lw(t,e,i,n={}){const r=t.keys,o="single"===n.mode;let s,a,h,l;if(null===e)return;let u=!1;for(s=0,a=r.length;s<a;++s){if(h=+r[s],h===i){if(u=!0,n.all)continue;break}l=t.values[h],X_(l)&&(o||0===e||Cv(e)===Cv(l))&&(e+=l)}return u||n.all?e:0}function Ow(t,e){const{iScale:i,vScale:n}=e,r="x"===i.axis?"x":"y",o="x"===n.axis?"x":"y",s=Object.keys(t),a=new Array(s.length);let h,l,u;for(h=0,l=s.length;h<l;++h)u=s[h],a[h]={[r]:u,[o]:t[u]};return a}function Nw(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Tw(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}function Aw(t){const{min:e,max:i,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function Rw(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Dw(t,e,i,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const e=t[r.index];if(i&&e>0||!i&&e<0)return r.index}return null}function kw(t,e){const{chart:i,_cachedMeta:n}=t,r=i._stacks||(i._stacks={}),{iScale:o,vScale:s,index:a}=n,h=o.axis,l=s.axis,u=Tw(o,s,n),c=e.length;let p;for(let f=0;f<c;++f){const t=e[f],{[h]:i,[l]:o}=t,c=t._stacks||(t._stacks={});p=c[l]=Rw(r,u,i),p[a]=o,p._top=Dw(p,s,!0,n.type),p._bottom=Dw(p,s,!1,n.type);const d=p._visualValues||(p._visualValues={});d[a]=o}}function Fw(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Bw(t,e){return rb(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zw(t,e,i){return rb(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}function jw(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}}const Uw=t=>"reset"===t||"none"===t,Gw=(t,e)=>e?t:Object.assign({},t),Vw=(t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Pw(i,!0),values:null};class qw{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Nw(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jw(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,r=e.xAxisID=$_(i.xAxisID,Fw(t,"x")),o=e.yAxisID=$_(i.yAxisID,Fw(t,"y")),s=e.rAxisID=$_(i.rAxisID,Fw(t,"r")),a=e.indexAxis,h=e.iAxisID=n(a,r,o,s),l=e.vAxisID=n(a,o,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(l)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$v(this._data,this),t._stacked&&jw(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(H_(e)){const t=this._cachedMeta;this._data=Ow(e,t)}else if(i!==e){if(i){$v(i,this);const t=this._cachedMeta;jw(t),t._parsed=[]}e&&Object.isExtensible(e)&&Zv(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=Nw(e.vScale,e),e.stack!==i.stack&&(n=!0,jw(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&(kw(this,e._parsed),e._stacked=Nw(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,s=r.axis;let a,h,l,u=0===t&&e===n.length||i._sorted,c=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,l=n;else{l=Y_(n[t])?this.parseArrayData(i,n,t,e):H_(n[t])?this.parseObjectData(i,n,t,e):this.parsePrimitiveData(i,n,t,e);const r=()=>null===h[s]||c&&h[s]<c[s];for(a=0;a<e;++a)i._parsed[a+t]=h=l[a],u&&(r()&&(u=!1),c=h);i._sorted=u}o&&kw(this,l)}parsePrimitiveData(t,e,i,n){const{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,h=r.getLabels(),l=r===o,u=new Array(n);let c,p,f;for(c=0,p=n;c<p;++c)f=c+i,u[c]={[s]:l||r.parse(h[f],f),[a]:o.parse(e[f],f)};return u}parseArrayData(t,e,i,n){const{xScale:r,yScale:o}=t,s=new Array(n);let a,h,l,u;for(a=0,h=n;a<h;++a)l=a+i,u=e[l],s[a]={x:r.parse(u[0],l),y:o.parse(u[1],l)};return s}parseObjectData(t,e,i,n){const{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,h=new Array(n);let l,u,c,p;for(l=0,u=n;l<u;++l)c=l+i,p=e[c],h[l]={x:r.parse(cv(p,s),c),y:o.parse(cv(p,a),c)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,r=this._cachedMeta,o=e[t.axis],s={keys:Pw(n,!0),values:e._stacks[t.axis]._visualValues};return Lw(s,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const r=i[e.axis];let o=null===r?NaN:r;const s=n&&i._stacks[e.axis];n&&s&&(n.values=s,o=Lw(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&t===i.iScale,o=n.length,s=this._getOtherScale(t),a=Vw(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:l,max:u}=Aw(s);let c,p;function f(){p=n[c];const e=p[s.axis];return!X_(p[t.axis])||l>e||u<e}for(c=0;c<o;++c)if(!f()&&(this.updateRangeFromParsed(h,t,p,a),r))break;if(r)for(c=o-1;c>=0;--c)if(!f()){this.updateRangeFromParsed(h,t,p,a);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n][t.axis],X_(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Iw($_(this.options.clip,Cw(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],r=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||n.length-s,h=this.options.drawActiveElementsOnTop;let l;for(i.dataset&&i.dataset.draw(t,r,s,a),l=s;l<s+a;++l){const e=n[l];e.hidden||(e.active&&h?o.push(e):e.draw(t,r))}for(l=0;l<o.length;++l)o[l].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=zw(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Bw(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&fv(i);if(s)return Gw(s,a);const h=this.chart.config,l=h.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],c=h.getOptionScopes(this.getDataset(),l),p=Object.keys(Lx.elements[t]),f=()=>this.getContext(i,n,e),d=h.resolveNamedOptions(c,p,f,u);return d.$shared&&(d.$shared=a,r[o]=Object.freeze(Gw(d,a))),d}_resolveAnimations(t,e,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,s=r[o];if(s)return s;let a;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,e),o=n.getOptionScopes(this.getDataset(),r);a=n.createResolver(o,this.getContext(t,i,e))}const h=new ww(n,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Uw(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,n){Uw(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!Uw(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[s,a,h]of this._syncList)this[s](a,h);this._syncList=[];const n=i.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){const n=this._cachedMeta,r=n.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&jw(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Ww(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,r=i.length;e<r;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=Jv(n.sort(((t,e)=>t-e)))}return t._cache.$bar}function Yw(t){const e=t.iScale,i=Ww(e,t.type);let n,r,o,s,a=e._length;const h=()=>{32767!==o&&-32768!==o&&(fv(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(n=0,r=i.length;n<r;++n)o=e.getPixelForValue(i[n]),h();for(s=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),h();return a}function Hw(t,e,i,n){const r=i.barThickness;let o,s;return W_(r)?(o=e.min*i.categoryPercentage,s=i.barPercentage):(o=r*n,s=1),{chunk:o/n,ratio:s,start:e.pixels[t]-o/2}}function Xw(t,e,i,n){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const h=i.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const l=o-(o-Math.min(s,a))/2*h,u=Math.abs(a-s)/2*h;return{chunk:u/n,ratio:i.barPercentage,start:l}}function Zw(t,e,i,n){const r=i.parse(t[0],n),o=i.parse(t[1],n),s=Math.min(r,o),a=Math.max(r,o);let h=s,l=a;Math.abs(s)>Math.abs(a)&&(h=a,l=s),e[i.axis]=l,e._custom={barStart:h,barEnd:l,start:r,end:o,min:s,max:a}}function $w(t,e,i,n){return Y_(t)?Zw(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Jw(t,e,i,n){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,h=[];let l,u,c,p;for(l=i,u=i+n;l<u;++l)p=e[l],c={},c[r.axis]=a||r.parse(s[l],l),h.push($w(p,c,o,l));return h}function Kw(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Qw(t,e,i){return 0!==t?Cv(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}function tM(t){let e,i,n,r,o;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(r="end",o="start"):(r="start",o="end"),{start:i,end:n,reverse:e,top:r,bottom:o}}function eM(t,e,i,n){let r=e.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:h,top:l,bottom:u}=tM(t);"middle"===r&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?r=l:(i._bottom||0)===n?r=u:(o[iM(u,s,a,h)]=!0,r=l)),o[iM(r,s,a,h)]=!0,t.borderSkipped=o}function iM(t,e,i,n){return n?(t=nM(t,e,i),t=rM(t,i,e)):t=rM(t,e,i),t}function nM(t,e,i){return t===e?i:t===i?e:t}function rM(t,e,i){return"start"===t?e:"end"===t?i:t}function oM(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}Jm(qw,"defaults",{}),Jm(qw,"datasetElementType",null),Jm(qw,"dataElementType",null);class sM extends qw{parsePrimitiveData(t,e,i,n){return Jw(t,e,i,n)}parseArrayData(t,e,i,n){return Jw(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:r,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,h="x"===r.axis?s:a,l="x"===o.axis?s:a,u=[];let c,p,f,d;for(c=i,p=i+n;c<p;++c)d=e[c],f={},f[r.axis]=r.parse(cv(d,h),c),u.push($w(cv(d,l),f,o,c));return u}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,r=this.getParsed(t),o=r._custom,s=Kw(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const r="reset"===n,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),h=s.isHorizontal(),l=this._getRuler(),{sharedOptions:u,includeOptions:c}=this._getSharedOptions(e,n);for(let p=e;p<e+i;p++){const e=this.getParsed(p),i=r||W_(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(p),f=this._calculateBarIndexPixels(p,l),d=(e._stacks||{})[s.axis],g={horizontal:h,base:i.base,enableBorderRadius:!d||Kw(e._custom)||o===d._top||o===d._bottom,x:h?i.head:f.center,y:h?f.center:i.head,height:h?f.size:Math.abs(i.size),width:h?Math.abs(i.size):f.size};c&&(g.options=u||this.resolveDataElementOptions(p,t[p].active?"active":n));const y=g.options||t[p].options;eM(g,y,d,o),oM(g,y,l.ratio),this.updateElement(t[p],p,g,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=i.options.stacked,o=[],s=this._cachedMeta.controller.getParsed(e),a=s&&s[i.axis],h=t=>{const e=t._parsed.find((t=>t[i.axis]===a)),n=e&&e[t.vScale.axis];if(W_(n)||isNaN(n))return!0};for(const l of n)if((void 0===e||!h(l))&&((!1===r||-1===o.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),r=void 0!==e?n.indexOf(e):-1;return-1===r?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const s=t.barThickness,a=s||Yw(e);return{min:a,pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(t),h=a._custom,l=Kw(h);let u,c,p=a[e.axis],f=0,d=i?this.applyStack(e,a,i):p;d!==p&&(f=d-p,d=p),l&&(p=h.barStart,d=h.barEnd-h.barStart,0!==p&&Cv(p)!==Cv(h.barEnd)&&(f=0),f+=p);const g=W_(r)||l?f:r;let y=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+d):y,c=u-y,Math.abs(c)<o){c=Qw(c,e,s)*o,p===s&&(y-=c/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),h=Math.min(t,r),f=Math.max(t,r);y=Math.max(Math.min(y,f),h),u=y+c,i&&!l&&(a._stacks[e.axis]._visualValues[n]=e.getValueForPixel(u)-e.getValueForPixel(y))}if(y===e.getPixelForValue(s)){const t=Cv(c)*e.getLineWidthForValue(s)/2;y+=t,c-=t}return{size:c,base:y,head:u,center:u+c/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,r=n.skipNull,o=$_(n.maxBarThickness,1/0);let s,a;if(e.grouped){const i=r?this._getStackCount(t):e.stackCount,h="flex"===n.barThickness?Xw(t,e,n,i):Hw(t,e,n,i),l=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);s=h.start+h.chunk*l+h.chunk/2,a=Math.min(o,h.chunk*h.ratio)}else s=i.getPixelForValue(this.getParsed(t)[i.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)null===this.getParsed(r)[e.axis]||i[r].hidden||i[r].draw(this._ctx)}}Jm(sM,"id","bar"),Jm(sM,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Jm(sM,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class aM extends qw{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const r=super.parsePrimitiveData(t,e,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,n){const r=super.parseArrayData(t,e,i,n);for(let o=0;o<r.length;o++){const t=e[i+o];r[o]._custom=$_(t[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,n){const r=super.parseObjectData(t,e,i,n);for(let o=0;o<r.length;o++){const t=e[i+o];r[o]._custom=$_(t&&t.r&&+t.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),s=n.getLabelForValue(o.x),a=r.getLabelForValue(o.y),h=o._custom;return{label:i[t]||"",value:"("+s+", "+a+(h?", "+h:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:h}=this._getSharedOptions(e,n),l=o.axis,u=s.axis;for(let c=e;c<e+i;c++){const e=t[c],i=!r&&this.getParsed(c),p={},f=p[l]=r?o.getPixelForDecimal(.5):o.getPixelForValue(i[l]),d=p[u]=r?s.getBasePixel():s.getPixelForValue(i[u]);p.skip=isNaN(f)||isNaN(d),h&&(p.options=a||this.resolveDataElementOptions(c,e.active?"active":n),r&&(p.options.radius=0)),this.updateElement(e,c,p,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return"active"!==e&&(n.radius=0),n.radius+=$_(i&&i._custom,r),n}}function hM(t,e,i){let n=1,r=1,o=0,s=0;if(e<_v){const a=t,h=a+e,l=Math.cos(a),u=Math.sin(a),c=Math.cos(h),p=Math.sin(h),f=(t,e,n)=>jv(t,a,h,!0)?1:Math.max(e,e*i,n,n*i),d=(t,e,n)=>jv(t,a,h,!0)?-1:Math.min(e,e*i,n,n*i),g=f(0,l,c),y=f(wv,u,p),m=d(mv,l,c),_=d(mv+wv,u,p);n=(g-m)/2,r=(y-_)/2,o=-(g+m)/2,s=-(y+_)/2}return{ratioX:n,ratioY:r,offsetX:o,offsetY:s}}Jm(aM,"id","bubble"),Jm(aM,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Jm(aM,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class lM extends qw{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let r,o,s=t=>+i[t];if(H_(i[t])){const{key:t="value"}=this._parsing;s=e=>+cv(i[e],t)}for(r=t,o=t+e;r<o;++r)n._parsed[r]=s(r)}}_getRotation(){return Av(this.options.rotation-90)}_getCircumference(){return Av(this.options.circumference)}_getRotationExtents(){let t=_v,e=-_v;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(i.width,i.height)-o)/2,0),a=Math.min(J_(this.options.cutout,s),1),h=this._getRingWeight(this.index),{circumference:l,rotation:u}=this._getRotationExtents(),{ratioX:c,ratioY:p,offsetX:f,offsetY:d}=hM(u,l,a),g=(i.width-o)/c,y=(i.height-o)/p,m=Math.max(Math.min(g,y)/2,0),_=K_(this.options.radius,m),v=Math.max(_*a,0),x=(_-v)/this._getVisibleDatasetWeightTotal();this.offsetX=f*_,this.offsetY=d*_,n.total=this.calculateTotal(),this.outerRadius=_-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*h,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/_v)}updateElements(t,e,i,n){const r="reset"===n,o=this.chart,s=o.chartArea,a=o.options,h=a.animation,l=(s.left+s.right)/2,u=(s.top+s.bottom)/2,c=r&&h.animateScale,p=c?0:this.innerRadius,f=c?0:this.outerRadius,{sharedOptions:d,includeOptions:g}=this._getSharedOptions(e,n);let y,m=this._getRotation();for(y=0;y<e;++y)m+=this._circumference(y,r);for(y=e;y<e+i;++y){const e=this._circumference(y,r),i=t[y],o={x:l+this.offsetX,y:u+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:f,innerRadius:p};g&&(o.options=d||this.resolveDataElementOptions(y,i.active?"active":n)),m+=e,this.updateElement(i,y,o,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const r=t._parsed[i];null===r||isNaN(r)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_v*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=vx(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,r,o,s,a;if(!t)for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),t=o.data,s=o.controller;break}if(!t)return 0;for(n=0,r=t.length;n<r;++n)a=s.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max($_(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Jm(lM,"id","doughnut"),Jm(lM,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Jm(lM,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Jm(lM,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0),s=o.controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class uM extends qw{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:s,count:a}=rx(e,n,o);this._drawStart=s,this._drawCount=a,ox(e)&&(s=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},t),this.updateElements(n,s,a,t)}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s,_stacked:a,_dataset:h}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,n),c=o.axis,p=s.axis,{spanGaps:f,segment:d}=this.options,g=Ov(f)?f:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n,m=e+i,_=t.length;let v=e>0&&this.getParsed(e-1);for(let x=0;x<_;++x){const i=t[x],f=y?i:{};if(x<e||x>=m){f.skip=!0;continue}const _=this.getParsed(x),b=W_(_[p]),w=f[c]=o.getPixelForValue(_[c],x),M=f[p]=r||b?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,_,a):_[p],x);f.skip=isNaN(w)||isNaN(M)||b,f.stop=x>0&&Math.abs(_[c]-v[c])>g,d&&(f.parsed=_,f.raw=h.data[x]),u&&(f.options=l||this.resolveDataElementOptions(x,i.active?"active":n)),y||this.updateElement(i,x,f,n),v=_}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Jm(uM,"id","line"),Jm(uM,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Jm(uM,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cM extends qw{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=vx(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return Eb.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),s=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,i,n){const r="reset"===n,o=this.chart,s=o.options,a=s.animation,h=this._cachedMeta.rScale,l=h.xCenter,u=h.yCenter,c=h.getIndexAngle(0)-.5*mv;let p,f=c;const d=360/this.countVisibleElements();for(p=0;p<e;++p)f+=this._computeAngle(p,n,d);for(p=e;p<e+i;p++){const e=t[p];let i=f,s=f+this._computeAngle(p,n,d),g=o.getDataVisibility(p)?h.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=s,r&&(a.animateScale&&(g=0),a.animateRotate&&(i=s=c));const y={x:l,y:u,innerRadius:0,outerRadius:g,startAngle:i,endAngle:s,options:this.resolveDataElementOptions(p,e.active?"active":n)};this.updateElement(e,p,y,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Av(this.resolveDataElementOptions(t,e).angle||i):0}}Jm(cM,"id","polarArea"),Jm(cM,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Jm(cM,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,r)=>{const o=t.getDatasetMeta(0),s=o.controller.getStyle(r);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:n,lineWidth:s.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class pM extends lM{}Jm(pM,"id","pie"),Jm(pM,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fM extends qw{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return Eb.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===n.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const r=this._cachedMeta.rScale,o="reset"===n;for(let s=e;s<e+i;s++){const e=t[s],i=this.resolveDataElementOptions(s,e.active?"active":n),a=r.getPointPositionForValue(s,this.getParsed(s).r),h=o?r.xCenter:a.x,l=o?r.yCenter:a.y,u={x:h,y:l,angle:a.angle,skip:isNaN(h)||isNaN(l),options:i};this.updateElement(e,s,u,n)}}}Jm(fM,"id","radar"),Jm(fM,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Jm(fM,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class dM extends qw{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),s=n.getLabelForValue(o.x),a=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+s+", "+a+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:o}=rx(e,i,n);if(this._drawStart=r,this._drawCount=o,ox(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const s=this.resolveDatasetElementOptions(t);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:s},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const r="reset"===n,{iScale:o,vScale:s,_stacked:a,_dataset:h}=this._cachedMeta,l=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(l),c=this.includeOptions(n,u),p=o.axis,f=s.axis,{spanGaps:d,segment:g}=this.options,y=Ov(d)?d:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===n;let _=e>0&&this.getParsed(e-1);for(let v=e;v<e+i;++v){const e=t[v],i=this.getParsed(v),l=m?e:{},d=W_(i[f]),x=l[p]=o.getPixelForValue(i[p],v),b=l[f]=r||d?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,i,a):i[f],v);l.skip=isNaN(x)||isNaN(b)||d,l.stop=v>0&&Math.abs(i[p]-_[p])>y,g&&(l.parsed=i,l.raw=h.data[v]),c&&(l.options=u||this.resolveDataElementOptions(v,e.active?"active":n)),m||this.updateElement(e,v,l,n),_=i}this.updateSharedOptions(u,n,l)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,o)/2}}Jm(dM,"id","scatter"),Jm(dM,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Jm(dM,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gM=Object.freeze({__proto__:null,BarController:sM,BubbleController:aM,DoughnutController:lM,LineController:uM,PieController:pM,PolarAreaController:cM,RadarController:fM,ScatterController:dM});function yM(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mM{static override(t){Object.assign(mM.prototype,t)}constructor(t){Jm(this,"options",void 0),this.options=t||{}}init(){}formats(){return yM()}parse(){return yM()}format(){return yM()}add(){return yM()}diff(){return yM()}startOf(){return yM()}endOf(){return yM()}}var _M={_date:mM};function vM(t,e,i,n){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const t=a._reversePixels?Yv:Wv;if(!n)return t(o,e,i);if(r._sharedOptions){const n=o[0],r="function"===typeof n.getRange&&n.getRange(e);if(r){const n=t(o,e,i-r),s=t(o,e,i+r);return{lo:n.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function xM(t,e,i,n,r){const o=t.getSortedVisibleDatasetMetas(),s=i[e];for(let a=0,h=o.length;a<h;++a){const{index:t,data:i}=o[a],{lo:h,hi:l}=vM(o[a],e,s,r);for(let e=h;e<=l;++e){const r=i[e];r.skip||n(r,t,e)}}}function bM(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const r=e?Math.abs(t.x-n.x):0,o=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function wM(t,e,i,n,r){const o=[];if(!r&&!t.isPointInArea(e))return o;const s=function(i,s,a){(r||Fx(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&o.push({element:i,datasetIndex:s,index:a})};return xM(t,i,e,s,!0),o}function MM(t,e,i,n){let r=[];function o(t,i,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],n),{angle:h}=kv(t,{x:e.x,y:e.y});jv(h,s,a)&&r.push({element:t,datasetIndex:i,index:o})}return xM(t,i,e,o),r}function EM(t,e,i,n,r,o){let s=[];const a=bM(i);let h=Number.POSITIVE_INFINITY;function l(i,l,u){const c=i.inRange(e.x,e.y,r);if(n&&!c)return;const p=i.getCenterPoint(r),f=!!o||t.isPointInArea(p);if(!f&&!c)return;const d=a(e,p);d<h?(s=[{element:i,datasetIndex:l,index:u}],h=d):d===h&&s.push({element:i,datasetIndex:l,index:u})}return xM(t,i,e,l),s}function SM(t,e,i,n,r,o){return o||t.isPointInArea(e)?"r"!==i||n?EM(t,e,i,n,r,o):MM(t,e,i,r):[]}function CM(t,e,i,n,r){const o=[],s="x"===i?"inXRange":"inYRange";let a=!1;return xM(t,i,e,((t,n,h)=>{t[s]&&t[s](e[i],r)&&(o.push({element:t,datasetIndex:n,index:h}),a=a||t.inRange(e.x,e.y,r))})),n&&!a?[]:o}var IM={evaluateInteractionItems:xM,modes:{index(t,e,i,n){const r=qb(e,t),o=i.axis||"x",s=i.includeInvisible||!1,a=i.intersect?wM(t,r,o,n,s):SM(t,r,o,!1,n,s),h=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&h.push({element:i,datasetIndex:t.index,index:e})})),h):[]},dataset(t,e,i,n){const r=qb(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;let a=i.intersect?wM(t,r,o,n,s):SM(t,r,o,!1,n,s);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point(t,e,i,n){const r=qb(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;return wM(t,r,o,n,s)},nearest(t,e,i,n){const r=qb(e,t),o=i.axis||"xy",s=i.includeInvisible||!1;return SM(t,r,o,i.intersect,n,s)},x(t,e,i,n){const r=qb(e,t);return CM(t,r,"x",i.intersect,n)},y(t,e,i,n){const r=qb(e,t);return CM(t,r,"y",i.intersect,n)}}};const PM=["left","top","right","bottom"];function LM(t,e){return t.filter((t=>t.pos===e))}function OM(t,e){return t.filter((t=>-1===PM.indexOf(t.pos)&&t.box.axis===e))}function NM(t,e){return t.sort(((t,i)=>{const n=e?i:t,r=e?t:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight}))}function TM(t){const e=[];let i,n,r,o,s,a;for(i=0,n=(t||[]).length;i<n;++i)r=t[i],({position:o,options:{stack:s,stackWeight:a=1}}=r),e.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function AM(t){const e={};for(const i of t){const{stack:t,pos:n,stackWeight:r}=i;if(!t||!PM.includes(n))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function RM(t,e){const i=AM(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,h=i[a.stack],l=h&&a.stackWeight/h.weight;a.horizontal?(a.width=l?l*n:s&&e.availableWidth,a.height=r):(a.width=n,a.height=l?l*r:s&&e.availableHeight)}return i}function DM(t){const e=TM(t),i=NM(e.filter((t=>t.box.fullSize)),!0),n=NM(LM(e,"left"),!0),r=NM(LM(e,"right")),o=NM(LM(e,"top"),!0),s=NM(LM(e,"bottom")),a=OM(e,"x"),h=OM(e,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(h).concat(s).concat(a),chartArea:LM(e,"chartArea"),vertical:n.concat(r).concat(h),horizontal:o.concat(s).concat(a)}}function kM(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function FM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BM(t,e,i,n){const{pos:r,box:o}=i,s=t.maxPadding;if(!H_(r)){i.size&&(t[r]-=i.size);const e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?o.height:o.width),i.size=e.size/e.count,t[r]+=i.size}o.getPadding&&FM(s,o.getPadding());const a=Math.max(0,e.outerWidth-kM(s,t,"left","right")),h=Math.max(0,e.outerHeight-kM(s,t,"top","bottom")),l=a!==t.w,u=h!==t.h;return t.w=a,t.h=h,i.horizontal?{same:l,other:u}:{same:u,other:l}}function zM(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}function jM(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function UM(t,e,i,n){const r=[];let o,s,a,h,l,u;for(o=0,s=t.length,l=0;o<s;++o){a=t[o],h=a.box,h.update(a.width||e.w,a.height||e.h,jM(a.horizontal,e));const{same:s,other:c}=BM(e,i,a,n);l|=s&&r.length,u=u||c,h.fullSize||r.push(a)}return l&&UM(r,e,i,n)||u}function GM(t,e,i,n,r){t.top=i,t.left=e,t.right=e+n,t.bottom=i+r,t.width=n,t.height=r}function VM(t,e,i,n){const r=i.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,h=n[a.stack]||{count:1,placed:0,weight:1},l=a.stackWeight/h.weight||1;if(a.horizontal){const n=e.w*l,o=h.size||t.height;fv(h.start)&&(s=h.start),t.fullSize?GM(t,r.left,s,i.outerWidth-r.right-r.left,o):GM(t,e.left+h.placed,s,n,o),h.start=s,h.placed+=n,s=t.bottom}else{const n=e.h*l,s=h.size||t.width;fv(h.start)&&(o=h.start),t.fullSize?GM(t,o,r.top,s,i.outerHeight-r.bottom-r.top):GM(t,o,e.top+h.placed,s,n),h.start=o,h.placed+=n,o=t.right}}e.x=o,e.y=s}var qM={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const r=tb(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(i-r.height,0),a=DM(t.boxes),h=a.vertical,l=a.horizontal;tv(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=h.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,c=Object.freeze({outerWidth:e,outerHeight:i,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),p=Object.assign({},r);FM(p,tb(n));const f=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),d=RM(h.concat(l),c);UM(a.fullSize,f,c,d),UM(h,f,c,d),UM(l,f,c,d)&&UM(h,f,c,d),zM(f),VM(a.leftAndTop,f,c,d),f.x+=f.w,f.y+=f.h,VM(a.rightAndBottom,f,c,d),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},tv(a.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class WM{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class YM extends WM{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const HM="$chartjs",XM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ZM=t=>null===t||""===t;function $M(t,e){const i=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[HM]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ZM(r)){const e=$b(t,"width");void 0!==e&&(t.width=e)}if(ZM(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=$b(t,"height");void 0!==e&&(t.height=e)}return t}const JM=!!Zb&&{passive:!0};function KM(t,e,i){t&&t.addEventListener(e,i,JM)}function QM(t,e,i){t&&t.canvas&&t.canvas.removeEventListener(e,i,JM)}function tE(t,e){const i=XM[t.type]||t.type,{x:n,y:r}=qb(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==r?r:null}}function eE(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function iE(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||eE(i.addedNodes,n),e=e&&!eE(i.removedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}function nE(t,e,i){const n=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||eE(i.removedNodes,n),e=e&&!eE(i.addedNodes,n);e&&i()}));return r.observe(document,{childList:!0,subtree:!0}),r}const rE=new Map;let oE=0;function sE(){const t=window.devicePixelRatio;t!==oE&&(oE=t,rE.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function aE(t,e){rE.size||window.addEventListener("resize",sE),rE.set(t,e)}function hE(t){rE.delete(t),rE.size||window.removeEventListener("resize",sE)}function lE(t,e,i){const n=t.canvas,r=n&&kb(n);if(!r)return;const o=Qv(((t,e)=>{const n=r.clientWidth;i(t,e),n<r.clientWidth&&i()}),window),s=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||o(i,n)}));return s.observe(r),aE(t,o),s}function uE(t,e,i){i&&i.disconnect(),"resize"===e&&hE(t)}function cE(t,e,i){const n=t.canvas,r=Qv((e=>{null!==t.ctx&&i(tE(e,t))}),t);return KM(n,e,r),r}class pE extends WM{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?($M(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[HM])return!1;const i=e[HM].initial;["height","width"].forEach((t=>{const n=i[t];W_(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[HM],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),r={attach:iE,detach:nE,resize:lE},o=r[e]||cE;n[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;const r={attach:uE,detach:uE,resize:uE},o=r[e]||QM;o(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Hb(t,e,i,n)}isAttached(t){const e=t&&kb(t);return!(!e||!e.isConnected)}}function fE(t){return!Db()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?YM:pE}class dE{constructor(){Jm(this,"x",void 0),Jm(this,"y",void 0),Jm(this,"active",!1),Jm(this,"options",void 0),Jm(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ov(this.x)&&Ov(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach((t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),n}}function gE(t,e){const i=t.options.ticks,n=yE(t),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?_E(e):[],s=o.length,a=o[0],h=o[s-1],l=[];if(s>r)return vE(e,l,o,s/r),l;const u=mE(o,e,r);if(s>0){let t,i;const n=s>1?Math.round((h-a)/(s-1)):null;for(xE(e,l,u,W_(n)?0:a-n,a),t=0,i=s-1;t<i;t++)xE(e,l,u,o[t],o[t+1]);return xE(e,l,u,h,W_(n)?e.length:h+n),l}return xE(e,l,u),l}function yE(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),r=t._maxLength/i;return Math.floor(Math.min(n,r))}function mE(t,e,i){const n=bE(t),r=e.length/i;if(!n)return Math.max(r,1);const o=Lv(n);for(let s=0,a=o.length-1;s<a;s++){const t=o[s];if(t>r)return t}return Math.max(r,1)}function _E(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}function vE(t,e,i,n){let r,o=0,s=i[0];for(n=Math.ceil(n),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=i[o*n])}function xE(t,e,i,n,r){const o=$_(n,0),s=Math.min($_(r,t.length),t.length);let a,h,l,u=0;i=Math.ceil(i),r&&(a=r-n,i=a/Math.floor(a/i)),l=o;while(l<0)u++,l=Math.round(o+u*i);for(h=Math.max(o,0);h<s;h++)h===l&&(e.push(t[h]),u++,l=Math.round(o+u*i))}function bE(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}Jm(dE,"defaults",{}),Jm(dE,"defaultRoutes",void 0);const wE=t=>"left"===t?"right":"right"===t?"left":t,ME=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,EE=(t,e)=>Math.min(e||t,t);function SE(t,e){const i=[],n=t.length/e,r=t.length;let o=0;for(;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function CE(t,e,i){const n=t.ticks.length,r=Math.min(e,n-1),o=t._startPixel,s=t._endPixel,a=1e-6;let h,l=t.getPixelForTick(r);if(!(i&&(h=1===n?Math.max(l-o,s-l):0===e?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,l+=r<e?h:-h,l<o-a||l>s+a)))return l}function IE(t,e){tv(t,(t=>{const i=t.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete t.data[i[r]];i.splice(0,n)}}))}function PE(t){return t.drawTicks?t.tickLength:0}function LE(t,e){if(!t.display)return 0;const i=eb(t.font,e),n=tb(t.padding),r=Y_(t.text)?t.text.length:1;return r*i.lineHeight+n.height}function OE(t,e){return rb(t,{scale:e,type:"scale"})}function NE(t,e,i){return rb(t,{tick:i,index:e,type:"tick"})}function TE(t,e,i){let n=ex(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=wE(n)),n}function AE(t,e,i,n){const{top:r,left:o,bottom:s,right:a,chart:h}=t,{chartArea:l,scales:u}=h;let c,p,f,d=0;const g=s-r,y=a-o;if(t.isHorizontal()){if(p=ix(n,o,a),H_(i)){const t=Object.keys(i)[0],n=i[t];f=u[t].getPixelForValue(n)+g-e}else f="center"===i?(l.bottom+l.top)/2+g-e:ME(t,i,e);c=a-o}else{if(H_(i)){const t=Object.keys(i)[0],n=i[t];p=u[t].getPixelForValue(n)-y+e}else p="center"===i?(l.left+l.right)/2-y+e:ME(t,i,e);f=ix(n,s,r),d="left"===i?-wv:wv}return{titleX:p,titleY:f,maxWidth:c,rotation:d}}class RE extends dE{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=Z_(t,Number.POSITIVE_INFINITY),e=Z_(e,Number.NEGATIVE_INFINITY),i=Z_(i,Number.POSITIVE_INFINITY),n=Z_(n,Number.NEGATIVE_INFINITY),{min:Z_(t,i),max:Z_(e,n),minDefined:X_(t),maxDefined:X_(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:i,max:n};const s=this.getMatchingVisibleMetas();for(let a=0,h=s.length;a<h;++a)e=s[a].controller.getMinMax(this,t),r||(i=Math.min(i,e.min)),o||(n=Math.max(n,e.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:Z_(i,Z_(n,i)),max:Z_(n,Z_(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Q_(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nb(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?SE(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=gE(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Q_(this.options.afterUpdate,[this])}beforeSetDimensions(){Q_(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Q_(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Q_(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Q_(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],r.label=Q_(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Q_(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Q_(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=EE(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let o,s,a,h=n;if(!this._isVisible()||!e.display||n>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const l=this._getLabelSizes(),u=l.widest.width,c=l.highest.height,p=Uv(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/i:p/(i-1),u+6>o&&(o=p/(i-(t.offset?.5:1)),s=this.maxHeight-PE(t.grid)-e.padding-LE(t.title,this.chart.options.font),a=Math.sqrt(u*u+c*c),h=Rv(Math.min(Math.asin(Uv((l.highest.height+6)/o,-1,1)),Math.asin(Uv(s/a,-1,1))-Math.asin(Uv(c/a,-1,1)))),h=Math.max(n,Math.min(r,h))),this.labelRotation=h}afterCalculateLabelRotation(){Q_(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Q_(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=LE(n,e.options.font);if(s?(t.width=this.maxWidth,t.height=PE(r)+o):(t.height=this.maxHeight,t.width=PE(r)+o),i.display&&this.ticks.length){const{first:e,last:n,widest:r,highest:o}=this._getLabelSizes(),a=2*i.padding,h=Av(this.labelRotation),l=Math.cos(h),u=Math.sin(h);if(s){const e=i.mirror?0:u*r.width+l*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=i.mirror?0:l*r.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,n,u,l)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,h="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,c=0;a?h?(u=n*t.width,c=i*e.height):(u=i*t.height,c=n*e.width):"start"===r?c=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,c=e.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((c-l+o)*this.width/(this.width-l),0)}else{let i=e.height/2,n=t.height/2;"start"===r?(i=0,n=t.height):"end"===r&&(i=e.height,n=0),this.paddingTop=i+o,this.paddingBottom=n+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Q_(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)W_(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=SE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/EE(e,i));let h,l,u,c,p,f,d,g,y,m,_,v=0,x=0;for(h=0;h<e;h+=a){if(c=t[h].label,p=this._resolveTickFontOptions(h),n.font=f=p.string,d=r[f]=r[f]||{data:{},gc:[]},g=p.lineHeight,y=m=0,W_(c)||Y_(c)){if(Y_(c))for(l=0,u=c.length;l<u;++l)_=c[l],W_(_)||Y_(_)||(y=Nx(n,d.data,d.gc,y,_),m+=g)}else y=Nx(n,d.data,d.gc,y,c),m=g;o.push(y),s.push(m),v=Math.max(y,v),x=Math.max(m,x)}IE(r,e);const b=o.indexOf(v),w=s.indexOf(x),M=t=>({width:o[t]||0,height:s[t]||0});return{first:M(0),last:M(e-1),widest:M(b),highest:M(w),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Gv(this._alignToPixels?Ax(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=NE(this.getContext(),t,i))}return this.$context||(this.$context=OE(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Av(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*i>s*n?s/i:a/n:a*n<s*i?a/i:s/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:s}=n,a=r.offset,h=this.isHorizontal(),l=this.ticks,u=l.length+(a?1:0),c=PE(r),p=[],f=s.setContext(this.getContext()),d=f.display?f.width:0,g=d/2,y=function(t){return Ax(i,t,d)};let m,_,v,x,b,w,M,E,S,C,I,P;if("top"===o)m=y(this.bottom),w=this.bottom-c,E=m-g,C=y(t.top)+g,P=t.bottom;else if("bottom"===o)m=y(this.top),C=t.top,P=y(t.bottom)-g,w=m+g,E=this.top+c;else if("left"===o)m=y(this.right),b=this.right-c,M=m-g,S=y(t.left)+g,I=t.right;else if("right"===o)m=y(this.left),S=t.left,I=y(t.right)-g,b=m+g,M=this.left+c;else if("x"===e){if("center"===o)m=y((t.top+t.bottom)/2+.5);else if(H_(o)){const t=Object.keys(o)[0],e=o[t];m=y(this.chart.scales[t].getPixelForValue(e))}C=t.top,P=t.bottom,w=m+g,E=w+c}else if("y"===e){if("center"===o)m=y((t.left+t.right)/2);else if(H_(o)){const t=Object.keys(o)[0],e=o[t];m=y(this.chart.scales[t].getPixelForValue(e))}b=m-g,M=b-c,S=t.left,I=t.right}const L=$_(n.ticks.maxTicksLimit,u),O=Math.max(1,Math.ceil(u/L));for(_=0;_<u;_+=O){const t=this.getContext(_),e=r.setContext(t),n=s.setContext(t),o=e.lineWidth,l=e.color,u=n.dash||[],c=n.dashOffset,f=e.tickWidth,d=e.tickColor,g=e.tickBorderDash||[],y=e.tickBorderDashOffset;v=CE(this,_,a),void 0!==v&&(x=Ax(i,v,o),h?b=M=S=I=x:w=E=C=P=x,p.push({tx1:b,ty1:w,tx2:M,ty2:E,x1:S,y1:C,x2:I,y2:P,width:o,color:l,borderDash:u,borderDashOffset:c,tickWidth:f,tickColor:d,tickBorderDash:g,tickBorderDashOffset:y}))}return this._ticksLength=u,this._borderValue=m,p}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:h,padding:l,mirror:u}=r,c=PE(i.grid),p=c+l,f=u?-l:p,d=-Av(this.labelRotation),g=[];let y,m,_,v,x,b,w,M,E,S,C,I,P="middle";if("top"===n)b=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===n)b=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(c);w=t.textAlign,x=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(c);w=t.textAlign,x=t.x}else if("x"===e){if("center"===n)b=(t.top+t.bottom)/2+p;else if(H_(n)){const t=Object.keys(n)[0],e=n[t];b=this.chart.scales[t].getPixelForValue(e)+p}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)x=(t.left+t.right)/2-p;else if(H_(n)){const t=Object.keys(n)[0],e=n[t];x=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(c).textAlign}"y"===e&&("start"===a?P="top":"end"===a&&(P="bottom"));const L=this._getLabelSizes();for(y=0,m=s.length;y<m;++y){_=s[y],v=_.label;const t=r.setContext(this.getContext(y));M=this.getPixelForTick(y)+r.labelOffset,E=this._resolveTickFontOptions(y),S=E.lineHeight,C=Y_(v)?v.length:1;const e=C/2,i=t.color,a=t.textStrokeColor,l=t.textStrokeWidth;let c,p=w;if(o?(x=M,"inner"===w&&(p=y===m-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),I="top"===n?"near"===h||0!==d?-C*S+S/2:"center"===h?-L.highest.height/2-e*S+S:-L.highest.height+S/2:"near"===h||0!==d?S/2:"center"===h?L.highest.height/2-e*S:L.highest.height-C*S,u&&(I*=-1),0===d||t.showLabelBackdrop||(x+=S/2*Math.sin(d))):(b=M,I=(1-C)*S/2),t.showLabelBackdrop){const e=tb(t.backdropPadding),i=L.heights[y],n=L.widths[y];let r=I-e.top,o=0-e.left;switch(P){case"middle":r-=i/2;break;case"bottom":r-=i;break}switch(w){case"center":o-=n/2;break;case"right":o-=n;break;case"inner":y===m-1?o-=n:y>0&&(o-=n/2);break}c={left:o,top:r,width:n+e.width,height:i+e.height,color:t.backdropColor}}g.push({label:v,font:E,textOffset:I,options:{rotation:d,color:i,strokeColor:a,strokeWidth:l,textAlign:p,textBaseline:P,translation:[x,b],backdrop:c}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,i=-Av(this.labelRotation);if(i)return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),s=t+r,a=o.widest.width;let h,l;return"left"===e?n?(l=this.right+r,"near"===i?h="left":"center"===i?(h="center",l+=a/2):(h="right",l+=a)):(l=this.right-s,"near"===i?h="right":"center"===i?(h="center",l-=a/2):(h="left",l=this.left)):"right"===e?n?(l=this.left+r,"near"===i?h="right":"center"===i?(h="center",l-=a/2):(h="left",l-=a)):(l=this.left+s,"near"===i?h="left":"center"===i?(h="center",l+=a/2):(h="right",l=this.right)):h="right",{textAlign:h,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks,n=i.findIndex((e=>e.value===t));if(n>=0){const t=e.setContext(this.getContext(n));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const s=(t,e,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=n.length;r<o;++r){const t=n[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const s=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let h,l,u,c;this.isHorizontal()?(h=Ax(t,this.left,o)-o/2,l=Ax(t,this.right,s)+s/2,u=c=a):(u=Ax(t,this.top,o)-o/2,c=Ax(t,this.bottom,s)+s/2,h=l=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(h,u),e.lineTo(l,c),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Bx(i,n);const r=this.getLabelItems(t);for(const o of r){const t=o.options,e=o.font,n=o.label,r=o.textOffset;Wx(i,n,0,r,e,t)}n&&zx(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const r=eb(i.font),o=tb(i.padding),s=i.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||H_(e)?(a+=o.bottom,Y_(i.text)&&(a+=r.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:h,titleY:l,maxWidth:u,rotation:c}=AE(this,a,e,s);Wx(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:c,textAlign:TE(s,e,n),textBaseline:"middle",translation:[h,l]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=$_(t.grid&&t.grid.z,-1),n=$_(t.border&&t.border.z,0);return this._isVisible()&&this.draw===RE.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=e.length;r<o;++r){const o=e[r];o[i]!==this.id||t&&o.type!==t||n.push(o)}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return eb(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class DE{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;BE(e)&&(i=this.register(e));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,kE(t,o,i),this.override&&Lx.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in Lx[n]&&(delete Lx[n][i],this.override&&delete Ex[i])}}function kE(t,e,i){const n=ov(Object.create(null),[i?Lx.get(i):{},Lx.get(e),t.defaults]);Lx.set(e,n),t.defaultRoutes&&FE(e,t.defaultRoutes),t.descriptors&&Lx.describe(e,t.descriptors)}function FE(t,e){Object.keys(e).forEach((i=>{const n=i.split("."),r=n.pop(),o=[t].concat(n).join("."),s=e[i].split("."),a=s.pop(),h=s.join(".");Lx.route(o,r,h,a)}))}function BE(t){return"id"in t&&"defaults"in t}class zE{constructor(){this.controllers=new DE(qw,"datasets",!0),this.elements=new DE(dE,"elements"),this.plugins=new DE(Object,"plugins"),this.scales=new DE(RE,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):tv(e,(e=>{const n=i||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,i){const n=pv(t);Q_(i["before"+n],[],i),e[t](i),Q_(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var jE=new zE;class UE{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,n){n=n||{};for(const r of t){const t=r.plugin,o=t[i],s=[e,n,r.options];if(!1===Q_(o,s,t)&&n.cancelable)return!1}return!0}invalidate(){W_(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=$_(i.options&&i.options.plugins,{}),r=GE(i);return!1!==n||e?qE(t,r,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function GE(t){const e={},i=[],n=Object.keys(jE.plugins.items);for(let o=0;o<n.length;o++)i.push(jE.getPlugin(n[o]));const r=t.plugins||[];for(let o=0;o<r.length;o++){const t=r[o];-1===i.indexOf(t)&&(i.push(t),e[t.id]=!0)}return{plugins:i,localIds:e}}function VE(t,e){return e||!1!==t?!0===t?{}:t:null}function qE(t,{plugins:e,localIds:i},n,r){const o=[],s=t.getContext();for(const a of e){const e=a.id,h=VE(n[e],r);null!==h&&o.push({plugin:a,options:WE(t.config,{plugin:a,local:i[e]},h,s)})}return o}function WE(t,{plugin:e,local:i},n,r){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(n,o);return i&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YE(t,e){const i=Lx.datasets[t]||{},n=(e.datasets||{})[t]||{};return n.indexAxis||e.indexAxis||i.indexAxis||"x"}function HE(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}function XE(t,e){return t===e?"_index_":"_value_"}function ZE(t){if("x"===t||"y"===t||"r"===t)return t}function $E(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function JE(t,...e){if(ZE(t))return t;for(const i of e){const e=i.axis||$E(i.position)||t.length>1&&ZE(t[0].toLowerCase());if(e)return e}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function KE(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function QE(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return KE(t,"x",i[0])||KE(t,"y",i[0])}return{}}function tS(t,e){const i=Ex[t.type]||{scales:{}},n=e.scales||{},r=YE(t.type,e),o=Object.create(null);return Object.keys(n).forEach((e=>{const s=n[e];if(!H_(s))return console.error(`Invalid scale configuration for scale: ${e}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=JE(e,s,QE(e,t),Lx.scales[s.type]),h=XE(a,r),l=i.scales||{};o[e]=sv(Object.create(null),[{axis:a},s,l[a],l[h]])})),t.data.datasets.forEach((i=>{const r=i.type||t.type,s=i.indexAxis||YE(r,e),a=Ex[r]||{},h=a.scales||{};Object.keys(h).forEach((t=>{const e=HE(t,s),r=i[e+"AxisID"]||e;o[r]=o[r]||Object.create(null),sv(o[r],[{axis:e},n[r],h[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];sv(e,[Lx.scales[e.type],Lx.scale])})),o}function eS(t){const e=t.options||(t.options={});e.plugins=$_(e.plugins,{}),e.scales=tS(t,e)}function iS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nS(t){return t=t||{},t.data=iS(t.data),eS(t),t}const rS=new Map,oS=new Set;function sS(t,e){let i=rS.get(t);return i||(i=e(),rS.set(t,i),oS.add(i)),i}const aS=(t,e,i)=>{const n=cv(e,i);void 0!==n&&t.add(n)};class hS{constructor(t){this._config=nS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=iS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),eS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sS(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return sS(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return sS(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,i=this.type;return sS(`${i}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:r}=this,o=this._cachedScopes(t,i),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>aS(a,t,e)))),e.forEach((t=>aS(a,n,t))),e.forEach((t=>aS(a,Ex[r]||{},t))),e.forEach((t=>aS(a,Lx,t))),e.forEach((t=>aS(a,Sx,t)))}));const h=Array.from(a);return 0===h.length&&h.push(Object.create(null)),oS.has(e)&&o.set(e,h),h}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ex[e]||{},Lx.datasets[e]||{},{type:e},Lx,Sx]}resolveNamedOptions(t,e,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=lS(this._resolverCache,t,n);let a=o;if(cS(o,e)){r.$shared=!1,i=dv(i)?i():i;const e=this.createResolver(t,i,s);a=sb(o,i,e)}for(const h of e)r[h]=a[h];return r}createResolver(t,e,i=[""],n){const{resolver:r}=lS(this._resolverCache,t,i);return H_(e)?sb(r,e,void 0,n):r}}function lS(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=i.join();let o=n.get(r);if(!o){const t=ob(e,i);o={resolver:t,subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},n.set(r,o)}return o}const uS=t=>H_(t)&&Object.getOwnPropertyNames(t).some((e=>dv(t[e])));function cS(t,e){const{isScriptable:i,isIndexable:n}=ab(t);for(const r of e){const e=i(r),o=n(r),s=(o||e)&&t[r];if(e&&(dv(s)||uS(s))||o&&Y_(s))return!0}return!1}var pS="4.4.6";const fS=["top","bottom","left","right","chartArea"];function dS(t,e){return"top"===t||"bottom"===t||-1===fS.indexOf(t)&&"x"===e}function gS(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function yS(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Q_(i&&i.onComplete,[t],e)}function mS(t){const e=t.chart,i=e.options.animation;Q_(i&&i.onProgress,[t],e)}function _S(t){return Db()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const vS={},xS=t=>{const e=_S(t);return Object.values(vS).filter((t=>t.canvas===e)).pop()};function bS(t,e,i){const n=Object.keys(t);for(const r of n){const n=+r;if(n>=e){const o=t[r];delete t[r],(i>0||n>e)&&(t[n+i]=o)}}}function wS(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}function MS(t,e,i){return t.options.clip?t[i]:e[i]}function ES(t,e){const{xScale:i,yScale:n}=t;return i&&n?{left:MS(i,e,"left"),right:MS(i,e,"right"),top:MS(n,e,"top"),bottom:MS(n,e,"bottom")}:e}class SS{static register(...t){jE.add(...t),CS()}static unregister(...t){jE.remove(...t),CS()}constructor(t,e){const i=this.config=new hS(e),n=_S(t),r=xS(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fE(n)),this.platform.updateConfig(i);const s=this.platform.acquireContext(n,o.aspectRatio),a=s&&s.canvas,h=a&&a.height,l=a&&a.width;this.id=q_(),this.ctx=s,this.canvas=a,this.width=l,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new UE,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tx((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],vS[this.id]=this,s&&a?(_w.listen(this,"complete",yS),_w.listen(this,"progress",mS),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return W_(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return jE}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rx(this.canvas,this.ctx),this}stop(){return _w.stop(this),this}resize(t,e){_w.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,e,r),s=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Xb(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Q_(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};tv(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const i=e[t],n=JE(t,i),r="r"===n,o="x"===n;return{options:i,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),tv(r,(e=>{const r=e.options,o=r.id,s=JE(o,r),a=$_(r.type,e.dtype);void 0!==r.position&&dS(r.position,s)===dS(e.dposition)||(r.position=e.dposition),n[o]=!0;let h=null;if(o in i&&i[o].type===a)h=i[o];else{const t=jE.getScale(a);h=new t({id:o,type:a,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(r,t)})),tv(n,((t,e)=>{t||delete i[e]})),tv(i,(t=>{qM.configure(this,t,t.options),qM.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(gS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const n=e[i];let r=this.getDatasetMeta(i);const o=n.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=o,r.indexAxis=n.indexAxis||YE(o,this.options),r.order=n.order||0,r.index=i,r.label=""+n.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const e=jE.getController(o),{datasetElementType:n,dataElementType:s}=Lx.datasets[o];Object.assign(e,{dataElementType:jE.getElement(s),datasetElementType:n&&jE.getElement(n)}),r.controller=new e(this,i),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){tv(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,l=this.data.datasets.length;h<l;h++){const{controller:t}=this.getDatasetMeta(h),e=!n&&-1===r.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||tv(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(gS("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){tv(this.scales,(t=>{qM.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);gv(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of e){const e="_removeElements"===i?-r:r;bS(t,n,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=i(0);for(let r=1;r<e;r++)if(!gv(n,i(r)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;qM.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],tv(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,dv(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_w.has(this)?this.attached&&!_w.running(this)&&_w.start(this):(this.draw(),yS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,r;for(n=0,r=e.length;n<r;++n){const r=e[n];t&&!r.visible||i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,r=ES(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(n&&Bx(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),n&&zx(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Fx(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const r=IM.modes[e];return"function"===typeof r?r(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=rb(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"===typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);fv(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),_w.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Rx(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete vS[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};tv(this.options.events,(t=>i(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(i,n)=>{t[i]&&(e.removeEventListener(this,i,n),delete t[i])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{n("attach",s),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){tv(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},tv(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let r,o,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!ev(i,e);n&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const n=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=r(e,t),s=i?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),s.length&&n.mode&&this.updateHoverStyle(s,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:r}=this,o=e,s=this._getActiveElements(t,n,i,o),a=yv(t),h=wS(t,this._lastEvent,i,a);i&&(this._lastEvent=null,Q_(r.onHover,[t,s,this],this),a&&Q_(r.onClick,[t,s,this],this));const l=!ev(s,n);return(l||e)&&(this._active=s,this._updateHoverStyles(s,n,e)),this._lastEvent=h,l}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}function CS(){return tv(SS.instances,(t=>t._plugins.invalidate()))}function IS(t,e,i){const{startAngle:n,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:h}=e;let l=r/a;t.beginPath(),t.arc(o,s,a,n-l,i+l),h>r?(l=r/h,t.arc(o,s,h,i+l,n-l,!0)):t.arc(o,s,r,i+wv,n-wv),t.closePath(),t.clip()}function PS(t){return Jx(t,["outerStart","outerEnd","innerStart","innerEnd"])}function LS(t,e,i,n){const r=PS(t.options.borderRadius),o=(i-e)/2,s=Math.min(o,n*e/2),a=t=>{const e=(i-Math.min(o,t))*n/2;return Uv(t,0,Math.min(o,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Uv(r.innerStart,0,s),innerEnd:Uv(r.innerEnd,0,s)}}function OS(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function NS(t,e,i,n,r,o){const{x:s,y:a,startAngle:h,pixelMargin:l,innerRadius:u}=e,c=Math.max(e.outerRadius+n+i-l,0),p=u>0?u+n+i+l:0;let f=0;const d=r-h;if(n){const t=u>0?u-n:0,e=c>0?c-n:0,i=(t+e)/2,r=0!==i?d*i/(i+n):d;f=(d-r)/2}const g=Math.max(.001,d*c-i/mv)/c,y=(d-g)/2,m=h+y+f,_=r-y-f,{outerStart:v,outerEnd:x,innerStart:b,innerEnd:w}=LS(e,p,c,_-m),M=c-v,E=c-x,S=m+v/M,C=_-x/E,I=p+b,P=p+w,L=m+b/I,O=_-w/P;if(t.beginPath(),o){const e=(S+C)/2;if(t.arc(s,a,c,S,e),t.arc(s,a,c,e,C),x>0){const e=OS(E,C,s,a);t.arc(e.x,e.y,x,C,_+wv)}const i=OS(P,_,s,a);if(t.lineTo(i.x,i.y),w>0){const e=OS(P,O,s,a);t.arc(e.x,e.y,w,_+wv,O+Math.PI)}const n=(_-w/p+(m+b/p))/2;if(t.arc(s,a,p,_-w/p,n,!0),t.arc(s,a,p,n,m+b/p,!0),b>0){const e=OS(I,L,s,a);t.arc(e.x,e.y,b,L+Math.PI,m-wv)}const r=OS(M,m,s,a);if(t.lineTo(r.x,r.y),v>0){const e=OS(M,S,s,a);t.arc(e.x,e.y,v,m-wv,S)}}else{t.moveTo(s,a);const e=Math.cos(S)*c+s,i=Math.sin(S)*c+a;t.lineTo(e,i);const n=Math.cos(C)*c+s,r=Math.sin(C)*c+a;t.lineTo(n,r)}t.closePath()}function TS(t,e,i,n,r){const{fullCircles:o,startAngle:s,circumference:a}=e;let h=e.endAngle;if(o){NS(t,e,i,n,h,r);for(let e=0;e<o;++e)t.fill();isNaN(a)||(h=s+(a%_v||_v))}return NS(t,e,i,n,h,r),t.fill(),h}function AS(t,e,i,n,r){const{fullCircles:o,startAngle:s,circumference:a,options:h}=e,{borderWidth:l,borderJoinStyle:u,borderDash:c,borderDashOffset:p}=h,f="inner"===h.borderAlign;if(!l)return;t.setLineDash(c||[]),t.lineDashOffset=p,f?(t.lineWidth=2*l,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let d=e.endAngle;if(o){NS(t,e,i,n,d,r);for(let e=0;e<o;++e)t.stroke();isNaN(a)||(d=s+(a%_v||_v))}f&&IS(t,e,d),o||(NS(t,e,i,n,d,r),t.stroke())}Jm(SS,"defaults",Lx),Jm(SS,"instances",vS),Jm(SS,"overrides",Ex),Jm(SS,"registry",jE),Jm(SS,"version",pS),Jm(SS,"getChart",xS);class RS extends dE{constructor(t){super(),Jm(this,"circumference",void 0),Jm(this,"endAngle",void 0),Jm(this,"fullCircles",void 0),Jm(this,"innerRadius",void 0),Jm(this,"outerRadius",void 0),Jm(this,"pixelMargin",void 0),Jm(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.getProps(["x","y"],i),{angle:r,distance:o}=kv(n,{x:t,y:e}),{startAngle:s,endAngle:a,innerRadius:h,outerRadius:l,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),c=(this.options.spacing+this.options.borderWidth)/2,p=$_(u,a-s),f=jv(r,s,a)&&s!==a,d=p>=_v||f,g=Vv(o,h+c,l+c);return d&&g}getCenterPoint(t){const{x:e,y:i,startAngle:n,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:h}=this.options,l=(n+r)/2,u=(o+s+h+a)/2;return{x:e+Math.cos(l)*u,y:i+Math.sin(l)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,n=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>_v?Math.floor(i/_v):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const s=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(s)*n,Math.sin(s)*n);const a=1-Math.sin(Math.min(mv,i||0)),h=n*a;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,TS(t,this,h,r,o),AS(t,this,h,r,o),t.restore()}}function DS(t,e,i=e){t.lineCap=$_(i.borderCapStyle,e.borderCapStyle),t.setLineDash($_(i.borderDash,e.borderDash)),t.lineDashOffset=$_(i.borderDashOffset,e.borderDashOffset),t.lineJoin=$_(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=$_(i.borderWidth,e.borderWidth),t.strokeStyle=$_(i.borderColor,e.borderColor)}function kS(t,e,i){t.lineTo(i.x,i.y)}function FS(t){return t.stepped?jx:t.tension||"monotone"===t.cubicInterpolationMode?Ux:kS}function BS(t,e,i={}){const n=t.length,{start:r=0,end:o=n-1}=i,{start:s,end:a}=e,h=Math.max(r,s),l=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:n,start:h,loop:e.loop,ilen:l<h&&!u?n+l-h:l-h}}function zS(t,e,i,n){const{points:r,options:o}=e,{count:s,start:a,loop:h,ilen:l}=BS(r,i,n),u=FS(o);let c,p,f,{move:d=!0,reverse:g}=n||{};for(c=0;c<=l;++c)p=r[(a+(g?l-c:c))%s],p.skip||(d?(t.moveTo(p.x,p.y),d=!1):u(t,f,p,g,o.stepped),f=p);return h&&(p=r[(a+(g?l:0))%s],u(t,f,p,g,o.stepped)),!!h}function jS(t,e,i,n){const r=e.points,{count:o,start:s,ilen:a}=BS(r,i,n),{move:h=!0,reverse:l}=n||{};let u,c,p,f,d,g,y=0,m=0;const _=t=>(s+(l?a-t:t))%o,v=()=>{f!==d&&(t.lineTo(y,d),t.lineTo(y,f),t.lineTo(y,g))};for(h&&(c=r[_(0)],t.moveTo(c.x,c.y)),u=0;u<=a;++u){if(c=r[_(u)],c.skip)continue;const e=c.x,i=c.y,n=0|e;n===p?(i<f?f=i:i>d&&(d=i),y=(m*y+e)/++m):(v(),t.lineTo(e,i),p=n,m=0,f=d=i),g=i}v()}function US(t){const e=t.options,i=e.borderDash&&e.borderDash.length,n=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!i;return n?jS:zS}function GS(t){return t.stepped?Kb:t.tension||"monotone"===t.cubicInterpolationMode?Qb:Jb}function VS(t,e,i,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,i,n)&&r.closePath()),DS(t,e.options),t.stroke(r)}function qS(t,e,i,n){const{segments:r,options:o}=e,s=US(e);for(const a of r)DS(t,o,a.style),t.beginPath(),s(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}Jm(RS,"id","arc"),Jm(RS,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Jm(RS,"defaultRoutes",{backgroundColor:"backgroundColor"}),Jm(RS,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const WS="function"===typeof Path2D;function YS(t,e,i,n){WS&&!e.options.segment?VS(t,e,i,n):qS(t,e,i,n)}class HS extends dE{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Rb(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pw(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],r=this.points,o=lw(this,{property:e,start:n,end:n});if(!o.length)return;const s=[],a=GS(i);let h,l;for(h=0,l=o.length;h<l;++h){const{start:l,end:u}=o[h],c=r[l],p=r[u];if(c===p){s.push(c);continue}const f=Math.abs((n-c[e])/(p[e]-c[e])),d=a(c,p,f,i.stepped);d[e]=t[e],s.push(d)}return 1===s.length?s[0]:s}pathSegment(t,e,i){const n=US(this);return n(t,this,e,i)}path(t,e,i){const n=this.segments,r=US(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const s of n)o&=r(t,this,s,{start:e,end:e+i-1});return!!o}draw(t,e,i,n){const r=this.options||{},o=this.points||[];o.length&&r.borderWidth&&(t.save(),YS(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function XS(t,e,i,n){const r=t.options,{[i]:o}=t.getProps([i],n);return Math.abs(e-o)<r.radius+r.hitRadius}Jm(HS,"id","line"),Jm(HS,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Jm(HS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Jm(HS,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class ZS extends dE{constructor(t){super(),Jm(this,"parsed",void 0),Jm(this,"skip",void 0),Jm(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:r,y:o}=this.getProps(["x","y"],i);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return XS(this,t,"x",e)}inYRange(t,e){return XS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return 2*(e+i)}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Fx(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Dx(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function $S(t,e){const{x:i,y:n,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,h,l,u,c;return t.horizontal?(c=s/2,a=Math.min(i,r),h=Math.max(i,r),l=n-c,u=n+c):(c=o/2,a=i-c,h=i+c,l=Math.min(n,r),u=Math.max(n,r)),{left:a,top:l,right:h,bottom:u}}function JS(t,e,i,n){return t?0:Uv(e,i,n)}function KS(t,e,i){const n=t.options.borderWidth,r=t.borderSkipped,o=Kx(n);return{t:JS(r.top,o.top,0,i),r:JS(r.right,o.right,0,e),b:JS(r.bottom,o.bottom,0,i),l:JS(r.left,o.left,0,e)}}function QS(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Qx(r),s=Math.min(e,i),a=t.borderSkipped,h=n||H_(r);return{topLeft:JS(!h||a.top||a.left,o.topLeft,0,s),topRight:JS(!h||a.top||a.right,o.topRight,0,s),bottomLeft:JS(!h||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:JS(!h||a.bottom||a.right,o.bottomRight,0,s)}}function tC(t){const e=$S(t),i=e.right-e.left,n=e.bottom-e.top,r=KS(t,i/2,n/2),o=QS(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function eC(t,e,i,n){const r=null===e,o=null===i,s=r&&o,a=t&&!s&&$S(t,n);return a&&(r||Vv(e,a.left,a.right))&&(o||Vv(i,a.top,a.bottom))}function iC(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function nC(t,e){t.rect(e.x,e.y,e.w,e.h)}function rC(t,e,i={}){const n=t.x!==i.x?-e:0,r=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-n,s=(t.y+t.h!==i.y+i.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}Jm(ZS,"id","point"),Jm(ZS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Jm(ZS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class oC extends dE{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=tC(this),s=iC(o.radius)?Yx:nC;t.save(),o.w===r.w&&o.h===r.h||(t.beginPath(),s(t,rC(o,e,r)),t.clip(),s(t,rC(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),s(t,rC(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return eC(this,t,e,i)}inXRange(t,e){return eC(this,t,null,e)}inYRange(t,e){return eC(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Jm(oC,"id","bar"),Jm(oC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Jm(oC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var sC=Object.freeze({__proto__:null,ArcElement:RS,BarElement:oC,LineElement:HS,PointElement:ZS});const aC=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hC=aC.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function lC(t){return aC[t%aC.length]}function uC(t){return hC[t%hC.length]}function cC(t,e){return t.borderColor=lC(e),t.backgroundColor=uC(e),++e}function pC(t,e){return t.backgroundColor=t.data.map((()=>lC(e++))),e}function fC(t,e){return t.backgroundColor=t.data.map((()=>uC(e++))),e}function dC(t){let e=0;return(i,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof lM?e=pC(i,e):r instanceof cM?e=fC(i,e):r&&(e=cC(i,e))}}function gC(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function yC(t){return t&&(t.borderColor||t.backgroundColor)}function mC(){return"rgba(0,0,0,0.1)"!==Lx.borderColor||"rgba(0,0,0,0.1)"!==Lx.backgroundColor}var _C={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:o}=r,s=gC(n)||yC(r)||o&&gC(o)||mC();if(!i.forceOverride&&s)return;const a=dC(t);n.forEach(a)}};function vC(t,e,i,n,r){const o=r.samples||n;if(o>=i)return t.slice(e,e+i);const s=[],a=(i-2)/(o-2);let h=0;const l=e+i-1;let u,c,p,f,d,g=e;for(s[h++]=t[g],u=0;u<o-2;u++){let n,r=0,o=0;const l=Math.floor((u+1)*a)+1+e,y=Math.min(Math.floor((u+2)*a)+1,i)+e,m=y-l;for(n=l;n<y;n++)r+=t[n].x,o+=t[n].y;r/=m,o/=m;const _=Math.floor(u*a)+1+e,v=Math.min(Math.floor((u+1)*a)+1,i)+e,{x:x,y:b}=t[g];for(p=f=-1,n=_;n<v;n++)f=.5*Math.abs((x-r)*(t[n].y-b)-(x-t[n].x)*(o-b)),f>p&&(p=f,c=t[n],d=n);s[h++]=c,g=d}return s[h++]=t[l],s}function xC(t,e,i,n){let r,o,s,a,h,l,u,c,p,f,d=0,g=0;const y=[],m=e+i-1,_=t[e].x,v=t[m].x,x=v-_;for(r=e;r<e+i;++r){o=t[r],s=(o.x-_)/x*n,a=o.y;const e=0|s;if(e===h)a<p?(p=a,l=r):a>f&&(f=a,u=r),d=(g*d+o.x)/++g;else{const i=r-1;if(!W_(l)&&!W_(u)){const e=Math.min(l,u),n=Math.max(l,u);e!==c&&e!==i&&y.push({...t[e],x:d}),n!==c&&n!==i&&y.push({...t[n],x:d})}r>0&&i!==c&&y.push(t[i]),y.push(o),h=e,g=0,p=f=a,l=u=c=r}}return y}function bC(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function wC(t){t.data.datasets.forEach((t=>{bC(t)}))}function MC(t,e){const i=e.length;let n,r=0;const{iScale:o}=t,{min:s,max:a,minDefined:h,maxDefined:l}=o.getUserBounds();return h&&(r=Uv(Wv(e,o.axis,s).lo,0,i-1)),n=l?Uv(Wv(e,o.axis,a).hi+1,r,i)-r:i-r,{start:r,count:n}}var EC={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void wC(t);const n=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:o,indexAxis:s}=e,a=t.getDatasetMeta(r),h=o||e.data;if("y"===ib([s,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const l=t.scales[a.xAxisID];if("linear"!==l.type&&"time"!==l.type)return;if(t.options.parsing)return;let{start:u,count:c}=MC(a,h);const p=i.threshold||4*n;if(c<=p)return void bC(e);let f;switch(W_(o)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":f=vC(h,u,c,n,i);break;case"min-max":f=xC(h,u,c,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=f}))},destroy(t){wC(t)}};function SC(t,e,i){const n=t.segments,r=t.points,o=e.points,s=[];for(const a of n){let{start:t,end:n}=a;n=PC(t,n,r);const h=CC(i,r[t],r[n],a.loop);if(!e.segments){s.push({source:a,target:h,start:r[t],end:r[n]});continue}const l=lw(e,h);for(const e of l){const t=CC(i,o[e.start],o[e.end],e.loop),n=hw(a,r,t);for(const r of n)s.push({source:r,target:e,start:{[i]:LC(h,t,"start",Math.max)},end:{[i]:LC(h,t,"end",Math.min)}})}}return s}function CC(t,e,i,n){if(n)return;let r=e[t],o=i[t];return"angle"===t&&(r=zv(r),o=zv(o)),{property:t,start:r,end:o}}function IC(t,e){const{x:i=null,y:n=null}=t||{},r=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=PC(t,e,r);const s=r[t],a=r[e];null!==n?(o.push({x:s.x,y:n}),o.push({x:a.x,y:n})):null!==i&&(o.push({x:i,y:s.y}),o.push({x:i,y:a.y}))})),o}function PC(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function LC(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function OC(t,e){let i=[],n=!1;return Y_(t)?(n=!0,i=t):i=IC(t,e),i.length?new HS({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function NC(t){return t&&!1!==t.fill}function TC(t,e,i){const n=t[e];let r=n.fill;const o=[e];let s;if(!i)return r;while(!1!==r&&-1===o.indexOf(r)){if(!X_(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function AC(t,e,i){const n=FC(t);if(H_(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return X_(r)&&Math.floor(r)===r?RC(n[0],e,r,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function RC(t,e,i,n){return"-"!==t&&"+"!==t||(i=e+i),!(i===e||i<0||i>=n)&&i}function DC(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:H_(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}function kC(t,e,i){let n;return n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:H_(t)?t.value:e.getBaseValue(),n}function FC(t){const e=t.options,i=e.fill;let n=$_(i&&i.target,i);return void 0===n&&(n=!!e.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}function BC(t){const{scale:e,index:i,line:n}=t,r=[],o=n.segments,s=n.points,a=zC(e,i);a.push(OC({x:null,y:e.bottom},n));for(let h=0;h<o.length;h++){const t=o[h];for(let e=t.start;e<=t.end;e++)jC(r,s[e],a)}return new HS({points:r,options:{}})}function zC(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const t=n[r];if(t.index===e)break;t.hidden||i.unshift(t.dataset)}return i}function jC(t,e,i){const n=[];for(let r=0;r<i.length;r++){const o=i[r],{first:s,last:a,point:h}=UC(o,e,"x");if(!(!h||s&&a))if(s)n.unshift(h);else if(t.push(h),!a)break}t.push(...n)}function UC(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const r=n[i],o=t.segments,s=t.points;let a=!1,h=!1;for(let l=0;l<o.length;l++){const t=o[l],e=s[t.start][i],n=s[t.end][i];if(Vv(r,e,n)){a=r===e,h=r===n;break}}return{first:a,last:h,point:n}}class GC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:r,radius:o}=this;return e=e||{start:0,end:_v},t.arc(n,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function VC(t){const{chart:e,fill:i,line:n}=t;if(X_(i))return qC(e,i);if("stack"===i)return BC(t);if("shape"===i)return!0;const r=WC(t);return r instanceof GC?r:OC(r,n)}function qC(t,e){const i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}function WC(t){const e=t.scale||{};return e.getPointPositionForValue?HC(t):YC(t)}function YC(t){const{scale:e={},fill:i}=t,n=DC(i,e);if(X_(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}function HC(t){const{scale:e,fill:i}=t,n=e.options,r=e.getLabels().length,o=n.reverse?e.max:e.min,s=kC(i,e,o),a=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,o);return new GC({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(s)})}for(let h=0;h<r;++h)a.push(e.getPointPositionForValue(h,s));return a}function XC(t,e,i){const n=VC(e),{line:r,scale:o,axis:s}=e,a=r.options,h=a.fill,l=a.backgroundColor,{above:u=l,below:c=l}=h||{};n&&r.points.length&&(Bx(t,i),ZC(t,{line:r,target:n,above:u,below:c,area:i,scale:o,axis:s}),zx(t))}function ZC(t,e){const{line:i,target:n,above:r,below:o,area:s,scale:a}=e,h=i._loop?"angle":e.axis;t.save(),"x"===h&&o!==r&&($C(t,n,s.top),JC(t,{line:i,target:n,color:r,scale:a,property:h}),t.restore(),t.save(),$C(t,n,s.bottom)),JC(t,{line:i,target:n,color:o,scale:a,property:h}),t.restore()}function $C(t,e,i){const{segments:n,points:r}=e;let o=!0,s=!1;t.beginPath();for(const a of n){const{start:n,end:h}=a,l=r[n],u=r[PC(n,h,r)];o?(t.moveTo(l.x,l.y),o=!1):(t.lineTo(l.x,i),t.lineTo(l.x,l.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(u.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function JC(t,e){const{line:i,target:n,property:r,color:o,scale:s}=e,a=SC(i,n,r);for(const{source:h,target:l,start:u,end:c}of a){const{style:{backgroundColor:e=o}={}}=h,a=!0!==n;t.save(),t.fillStyle=e,KC(t,s,a&&CC(r,u,c)),t.beginPath();const p=!!i.pathSegment(t,h);let f;if(a){p?t.closePath():QC(t,n,c,r);const e=!!n.pathSegment(t,l,{move:p,reverse:!0});f=p&&e,f||QC(t,n,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function KC(t,e,i){const{top:n,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=i||{};"x"===o&&(t.beginPath(),t.rect(s,n,a-s,r-n),t.clip())}function QC(t,e,i,n){const r=e.interpolate(i,n);r&&t.lineTo(r.x,r.y)}var tI={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,r=[];let o,s,a,h;for(s=0;s<n;++s)o=t.getDatasetMeta(s),a=o.dataset,h=null,a&&a.options&&a instanceof HS&&(h={visible:t.isDatasetVisible(s),index:s,fill:AC(a,s,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=h,r.push(h);for(s=0;s<n;++s)h=r[s],h&&!1!==h.fill&&(h.fill=TC(r,s,i.propagate))},beforeDraw(t,e,i){const n="beforeDraw"===i.drawTime,r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){const e=r[s].$filler;e&&(e.line.updateControlPoints(o,e.axis),n&&e.fill&&XC(t.ctx,e,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const e=n[r].$filler;NC(e)&&XC(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;NC(n)&&"beforeDatasetDraw"===i.drawTime&&XC(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const eI=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},iI=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class nI extends dE{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Q_(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,n=eb(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=eI(i,r);let h,l;e.font=n.string,this.isHorizontal()?(h=this.maxWidth,l=this._fitRows(o,r,s,a)+10):(l=this.maxHeight,h=this._fitCols(o,n,s,a)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(l,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],h=this.lineWidths=[0],l=n+s;let u=t;r.textAlign="left",r.textBaseline="middle";let c=-1,p=-l;return this.legendItems.forEach(((t,f)=>{const d=i+e/2+r.measureText(t.text).width;(0===f||h[h.length-1]+d+2*s>o)&&(u+=l,h[h.length-(f>0?0:1)]=0,p+=l,c++),a[f]={left:0,top:p,row:c,width:d,height:n},h[h.length-1]+=d+s})),u}_fitCols(t,e,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],h=this.columnSizes=[],l=o-t;let u=s,c=0,p=0,f=0,d=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:y}=rI(i,e,r,t,n);o>0&&p+y+2*s>l&&(u+=c+s,h.push({width:c,height:p}),f+=c+s,d++,c=p=0),a[o]={left:f,top:p,col:d,width:g,height:y},c=Math.max(c,g),p+=y+s})),u+=c,h.push({width:c,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:r}}=this,o=iw(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=ix(i,this.left+n,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=ix(i,this.left+n,this.right-this.lineWidths[r])),a.top+=this.top+t+n,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+n}else{let r=0,s=ix(i,this.top+t+n,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=ix(i,this.top+t+n,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+n,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Bx(t,this),this._draw(),zx(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:r,labels:o}=t,s=Lx.color,a=iw(t.rtl,this.left,this.width),h=eb(o.font),{padding:l}=o,u=h.size,c=u/2;let p;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=h.string;const{boxWidth:f,boxHeight:d,itemHeight:g}=eI(o,u),y=function(t,e,i){if(isNaN(f)||f<=0||isNaN(d)||d<0)return;n.save();const r=$_(i.lineWidth,1);if(n.fillStyle=$_(i.fillStyle,s),n.lineCap=$_(i.lineCap,"butt"),n.lineDashOffset=$_(i.lineDashOffset,0),n.lineJoin=$_(i.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=$_(i.strokeStyle,s),n.setLineDash($_(i.lineDash,[])),o.usePointStyle){const s={radius:d*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:r},h=a.xPlus(t,f/2),l=e+c;kx(n,s,h,l,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-d)/2,0),s=a.leftForLtr(t,f),h=Qx(i.borderRadius);n.beginPath(),Object.values(h).some((t=>0!==t))?Yx(n,{x:s,y:o,w:f,h:d,radius:h}):n.rect(s,o,f,d),n.fill(),0!==r&&n.stroke()}n.restore()},m=function(t,e,i){Wx(n,i.text,t,e+g/2,h,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})},_=this.isHorizontal(),v=this._computeTitleHeight();p=_?{x:ix(r,this.left+l,this.right-i[0]),y:this.top+l+v,line:0}:{x:this.left+l,y:ix(r,this.top+v+l,this.bottom-e[0].height),line:0},nw(this.ctx,t.textDirection);const x=g+l;this.legendItems.forEach(((s,u)=>{n.strokeStyle=s.fontColor,n.fillStyle=s.fontColor;const d=n.measureText(s.text).width,g=a.textAlign(s.textAlign||(s.textAlign=o.textAlign)),b=f+c+d;let w=p.x,M=p.y;a.setWidth(this.width),_?u>0&&w+b+l>this.right&&(M=p.y+=x,p.line++,w=p.x=ix(r,this.left+l,this.right-i[p.line])):u>0&&M+x>this.bottom&&(w=p.x=w+e[p.line].width+l,p.line++,M=p.y=ix(r,this.top+v+l,this.bottom-e[p.line].height));const E=a.x(w);if(y(E,M,s),w=nx(g,w+f+c,_?w+b:this.right,t.rtl),m(a.x(w),M,s),_)p.x+=b+l;else if("string"!==typeof s.text){const t=h.lineHeight;p.y+=aI(s,t)+l}else p.y+=x})),rw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=eb(e.font),n=tb(e.padding);if(!e.display)return;const r=iw(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=i.size/2,h=n.top+a;let l,u=this.left,c=this.width;if(this.isHorizontal())c=Math.max(...this.lineWidths),l=this.top+h,u=ix(t.align,u,this.right-c);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);l=h+ix(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const p=ix(s,u,u+c);o.textAlign=r.textAlign(ex(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,Wx(o,e.text,p,l,i)}_computeTitleHeight(){const t=this.options.title,e=eb(t.font),i=tb(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(Vv(t,this.left,this.right)&&Vv(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],Vv(t,n.left,n.left+n.width)&&Vv(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!hI(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const n=this._hoveredItem,r=iI(n,i);n&&!r&&Q_(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!r&&Q_(e.onHover,[t,i,this],this)}else i&&Q_(e.onClick,[t,i,this],this)}}function rI(t,e,i,n,r){const o=oI(n,t,e,i),s=sI(r,n,e.lineHeight);return{itemWidth:o,itemHeight:s}}function oI(t,e,i,n){let r=t.text;return r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e))),e+i.size/2+n.measureText(r).width}function sI(t,e,i){let n=t;return"string"!==typeof e.text&&(n=aI(e,i)),n}function aI(t,e){const i=t.text?t.text.length:0;return e*i}function hI(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var lI={id:"legend",_element:nI,start(t,e,i){const n=t.legend=new nI({ctx:t.ctx,options:i,chart:t});qM.configure(t,n,i),qM.addBox(t,n)},stop(t){qM.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;qM.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const h=t.controller.getStyle(i?0:void 0),l=tb(h.borderWidth);return{text:e[t.index].label,fillStyle:h.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:s&&(a||h.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class uI extends dE{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=Y_(i.text)?i.text.length:1;this._padding=tb(i.padding);const r=n*eb(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:n,right:r,options:o}=this,s=o.align;let a,h,l,u=0;return this.isHorizontal()?(h=ix(s,i,r),l=e+t,a=r-i):("left"===o.position?(h=i+t,l=ix(s,n,e),u=-.5*mv):(h=r-t,l=ix(s,e,n),u=.5*mv),a=n-e),{titleX:h,titleY:l,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=eb(e.font),n=i.lineHeight,r=n/2+this._padding.top,{titleX:o,titleY:s,maxWidth:a,rotation:h}=this._drawArgs(r);Wx(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:h,textAlign:ex(e.align),textBaseline:"middle",translation:[o,s]})}}function cI(t,e){const i=new uI({ctx:t.ctx,options:e,chart:t});qM.configure(t,i,e),qM.addBox(t,i),t.titleBlock=i}var pI={id:"title",_element:uI,start(t,e,i){cI(t,i)},stop(t){const e=t.titleBlock;qM.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;qM.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fI=new WeakMap;var dI={id:"subtitle",start(t,e,i){const n=new uI({ctx:t.ctx,options:i,chart:t});qM.configure(t,n,i),qM.addBox(t,n),fI.set(t,n)},stop(t){qM.removeBox(t,fI.get(t)),fI.delete(t)},beforeUpdate(t,e,i){const n=fI.get(t);qM.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gI={average(t){if(!t.length)return!1;let e,i,n=new Set,r=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();n.add(t.x),r+=t.y,++o}}if(0===o||0===n.size)return!1;const s=[...n].reduce(((t,e)=>t+e))/n.size;return{x:s,y:r/o}},nearest(t,e){if(!t.length)return!1;let i,n,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){const n=t[i].element;if(n&&n.hasValue()){const t=n.getCenterPoint(),i=Fv(e,t);i<a&&(a=i,r=n)}}if(r){const t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function yI(t,e){return e&&(Y_(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function mI(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function _I(t,e){const{element:i,datasetIndex:n,index:r}=e,o=t.getDatasetMeta(n).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function vI(t,e){const i=t.chart.ctx,{body:n,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,h=eb(e.bodyFont),l=eb(e.titleFont),u=eb(e.footerFont),c=o.length,p=r.length,f=n.length,d=tb(e.padding);let g=d.height,y=0,m=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(m+=t.beforeBody.length+t.afterBody.length,c&&(g+=c*l.lineHeight+(c-1)*e.titleSpacing+e.titleMarginBottom),m){const t=e.displayColors?Math.max(a,h.lineHeight):h.lineHeight;g+=f*t+(m-f)*h.lineHeight+(m-1)*e.bodySpacing}p&&(g+=e.footerMarginTop+p*u.lineHeight+(p-1)*e.footerSpacing);let _=0;const v=function(t){y=Math.max(y,i.measureText(t).width+_)};return i.save(),i.font=l.string,tv(t.title,v),i.font=h.string,tv(t.beforeBody.concat(t.afterBody),v),_=e.displayColors?s+2+e.boxPadding:0,tv(n,(t=>{tv(t.before,v),tv(t.lines,v),tv(t.after,v)})),_=0,i.font=u.string,tv(t.footer,v),i.restore(),y+=d.width,{width:y,height:g}}function xI(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}function bI(t,e,i,n){const{x:r,width:o}=n,s=i.caretSize+i.caretPadding;return"left"===t&&r+o+s>e.width||("right"===t&&r-o-s<0||void 0)}function wI(t,e,i,n){const{x:r,width:o}=i,{width:s,chartArea:{left:a,right:h}}=t;let l="center";return"center"===n?l=r<=(a+h)/2?"left":"right":r<=o/2?l="left":r>=s-o/2&&(l="right"),bI(l,t,e,i)&&(l="center"),l}function MI(t,e,i){const n=i.yAlign||e.yAlign||xI(t,i);return{xAlign:i.xAlign||e.xAlign||wI(t,e,i,n),yAlign:n}}function EI(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}function SI(t,e,i){let{y:n,height:r}=t;return"top"===e?n+=i:n-="bottom"===e?r+i:r/2,n}function CI(t,e,i,n){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:h}=i,l=r+o,{topLeft:u,topRight:c,bottomLeft:p,bottomRight:f}=Qx(s);let d=EI(e,a);const g=SI(e,h,l);return"center"===h?"left"===a?d+=l:"right"===a&&(d-=l):"left"===a?d-=Math.max(u,p)+r:"right"===a&&(d+=Math.max(c,f)+r),{x:Uv(d,0,n.width-e.width),y:Uv(g,0,n.height-e.height)}}function II(t,e,i){const n=tb(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function PI(t){return yI([],mI(t))}function LI(t,e,i){return rb(t,{tooltip:e,tooltipItems:i,type:"tooltip"})}function OI(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const NI={beforeTitle:V_,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:V_,beforeBody:V_,beforeLabel:V_,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return W_(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),i=e.controller.getStyle(t.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:V_,afterBody:V_,beforeFooter:V_,footer:V_,afterFooter:V_};function TI(t,e,i,n){const r=t[e].call(i,n);return"undefined"===typeof r?NI[e].call(i,n):r}class AI extends dE{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new ww(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=LI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,n=TI(i,"beforeTitle",this,t),r=TI(i,"title",this,t),o=TI(i,"afterTitle",this,t);let s=[];return s=yI(s,mI(n)),s=yI(s,mI(r)),s=yI(s,mI(o)),s}getBeforeBody(t,e){return PI(TI(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return tv(t,(t=>{const e={before:[],lines:[],after:[]},r=OI(i,t);yI(e.before,mI(TI(r,"beforeLabel",this,t))),yI(e.lines,TI(r,"label",this,t)),yI(e.after,mI(TI(r,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return PI(TI(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=TI(i,"beforeFooter",this,t),r=TI(i,"footer",this,t),o=TI(i,"afterFooter",this,t);let s=[];return s=yI(s,mI(n)),s=yI(s,mI(r)),s=yI(s,mI(o)),s}_createItems(t){const e=this._active,i=this.chart.data,n=[],r=[],o=[];let s,a,h=[];for(s=0,a=e.length;s<a;++s)h.push(_I(this.chart,e[s]));return t.filter&&(h=h.filter(((e,n,r)=>t.filter(e,n,r,i)))),t.itemSort&&(h=h.sort(((e,n)=>t.itemSort(e,n,i)))),tv(h,(e=>{const i=OI(t.callbacks,e);n.push(TI(i,"labelColor",this,e)),r.push(TI(i,"labelPointStyle",this,e)),o.push(TI(i,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(n.length){const t=gI[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=vI(this,i),s=Object.assign({},t,e),a=MI(this.chart,i,s),h=CI(i,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:h.x,y:h.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:s}=i,{topLeft:a,topRight:h,bottomLeft:l,bottomRight:u}=Qx(s),{x:c,y:p}=t,{width:f,height:d}=e;let g,y,m,_,v,x;return"center"===r?(v=p+d/2,"left"===n?(g=c,y=g-o,_=v+o,x=v-o):(g=c+f,y=g+o,_=v-o,x=v+o),m=g):(y="left"===n?c+Math.max(a,l)+o:"right"===n?c+f-Math.max(h,u)-o:this.caretX,"top"===r?(_=p,v=_-o,g=y-o,m=y+o):(_=p+d,v=_+o,g=y+o,m=y-o),x=_),{x1:g,x2:y,x3:m,y1:_,y2:v,y3:x}}drawTitle(t,e,i){const n=this.title,r=n.length;let o,s,a;if(r){const h=iw(i.rtl,this.x,this.width);for(t.x=II(this,i.titleAlign,i),e.textAlign=h.textAlign(i.titleAlign),e.textBaseline="middle",o=eb(i.titleFont),s=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],h.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=i.titleMarginBottom-s)}}_drawColorBox(t,e,i,n,r){const o=this.labelColors[i],s=this.labelPointStyles[i],{boxHeight:a,boxWidth:h}=r,l=eb(r.bodyFont),u=II(this,"left",r),c=n.x(u),p=a<l.lineHeight?(l.lineHeight-a)/2:0,f=e.y+p;if(r.usePointStyle){const e={radius:Math.min(h,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},i=n.leftForLtr(c,h)+h/2,l=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Dx(t,e,i,l),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Dx(t,e,i,l)}else{t.lineWidth=H_(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=n.leftForLtr(c,h),i=n.leftForLtr(n.xPlus(c,1),h-2),s=Qx(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Yx(t,{x:e,y:f,w:h,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Yx(t,{x:i,y:f+1,w:h-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,h,a),t.strokeRect(e,f,h,a),t.fillStyle=o.backgroundColor,t.fillRect(i,f+1,h-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:h,boxPadding:l}=i,u=eb(i.bodyFont);let c=u.lineHeight,p=0;const f=iw(i.rtl,this.x,this.width),d=function(i){e.fillText(i,f.x(t.x+p),t.y+c/2),t.y+=c+r},g=f.textAlign(o);let y,m,_,v,x,b,w;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=II(this,g,i),e.fillStyle=i.bodyColor,tv(this.beforeBody,d),p=s&&"right"!==g?"center"===o?h/2+l:h+2+l:0,v=0,b=n.length;v<b;++v){for(y=n[v],m=this.labelTextColors[v],e.fillStyle=m,tv(y.before,d),_=y.lines,s&&_.length&&(this._drawColorBox(e,t,v,f,i),c=Math.max(u.lineHeight,a)),x=0,w=_.length;x<w;++x)d(_[x]),c=u.lineHeight;tv(y.after,d)}p=0,c=u.lineHeight,tv(this.afterBody,d),t.y-=r}drawFooter(t,e,i){const n=this.footer,r=n.length;let o,s;if(r){const a=iw(i.rtl,this.x,this.width);for(t.x=II(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",o=eb(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(n[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:h,height:l}=i,{topLeft:u,topRight:c,bottomLeft:p,bottomRight:f}=Qx(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(s+u,a),"top"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+h-c,a),e.quadraticCurveTo(s+h,a,s+h,a+c),"center"===o&&"right"===r&&this.drawCaret(t,e,i,n),e.lineTo(s+h,a+l-f),e.quadraticCurveTo(s+h,a+l,s+h-f,a+l),"bottom"===o&&this.drawCaret(t,e,i,n),e.lineTo(s+p,a+l),e.quadraticCurveTo(s,a+l,s,a+l-p),"center"===o&&"left"===r&&this.drawCaret(t,e,i,n),e.lineTo(s,a+u),e.quadraticCurveTo(s,a,s+u,a),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const i=gI[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=vI(this,t),s=Object.assign({},i,this._size),a=MI(e,t,s),h=CI(t,s,a,e);n._to===h.x&&r._to===h.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=tb(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),nw(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),rw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),r=!ev(i,n),o=this._positionChanged(n,e);(r||o)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),s=this._positionChanged(o,t),a=e||!ev(o,r)||s;return a&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,n){const r=this.options;if("mouseout"===t.type)return[];if(!n)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:n,options:r}=this,o=gI[r.position].call(this,t,e);return!1!==o&&(i!==o.x||n!==o.y)}}Jm(AI,"positioners",gI);var RI={id:"tooltip",_element:AI,positioners:gI,afterInit(t,e,i){i&&(t.tooltip=new AI({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},DI=Object.freeze({__proto__:null,Colors:_C,Decimation:EC,Filler:tI,Legend:lI,SubTitle:dI,Title:pI,Tooltip:RI});const kI=(t,e,i,n)=>("string"===typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function FI(t,e,i,n){const r=t.indexOf(e);if(-1===r)return kI(t,e,i,n);const o=t.lastIndexOf(e);return r!==o?i:r}const BI=(t,e)=>null===t?null:Uv(Math.round(t),0,e);function zI(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class jI extends RE{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(W_(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:FI(i,t,$_(e,t),this._addedLabels),BI(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)n.push({value:o});return n}getLabelForValue(t){return zI.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function UI(t,e){const i=[],n=1e-14,{bounds:r,step:o,min:s,max:a,precision:h,count:l,maxTicks:u,maxDigits:c,includeBounds:p}=t,f=o||1,d=u-1,{min:g,max:y}=e,m=!W_(s),_=!W_(a),v=!W_(l),x=(y-g)/(c+1);let b,w,M,E,S=Pv((y-g)/d/f)*f;if(S<n&&!m&&!_)return[{value:g},{value:y}];E=Math.ceil(y/S)-Math.floor(g/S),E>d&&(S=Pv(E*S/d/f)*f),W_(h)||(b=Math.pow(10,h),S=Math.ceil(S*b)/b),"ticks"===r?(w=Math.floor(g/S)*S,M=Math.ceil(y/S)*S):(w=g,M=y),m&&_&&o&&Nv((a-s)/o,S/1e3)?(E=Math.round(Math.min((a-s)/S,u)),S=(a-s)/E,w=s,M=a):v?(w=m?s:w,M=_?a:M,E=l-1,S=(M-w)/E):(E=(M-w)/S,E=Iv(E,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E));const C=Math.max(Dv(S),Dv(w));b=Math.pow(10,W_(h)?C:h),w=Math.round(w*b)/b,M=Math.round(M*b)/b;let I=0;for(m&&(p&&w!==s?(i.push({value:s}),w<s&&I++,Iv(Math.round((w+I*S)*b)/b,s,GI(s,x,t))&&I++):w<s&&I++);I<E;++I){const t=Math.round((w+I*S)*b)/b;if(_&&t>a)break;i.push({value:t})}return _&&p&&M!==a?i.length&&Iv(i[i.length-1].value,a,GI(a,x,t))?i[i.length-1].value=a:i.push({value:a}):_&&M!==a||i.push({value:M}),i}function GI(t,e,{horizontal:i,minRotation:n}){const r=Av(n),o=(i?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}Jm(jI,"id","category"),Jm(jI,"defaults",{ticks:{callback:zI}});class VI extends RE{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return W_(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=t=>n=e?n:t,s=t=>r=i?r:t;if(t){const t=Cv(n),e=Cv(r);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(n===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||o(n-e)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},r=this._range||this,o=UI(n,r);return"ticks"===t.bounds&&Tv(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return vx(t,this.chart.options.locale,this.options.ticks.format)}}class qI extends VI{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X_(t)?t:0,this.max=X_(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Av(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Jm(qI,"id","linear"),Jm(qI,"defaults",{ticks:{callback:wx.formatters.numeric}});const WI=t=>Math.floor(Sv(t)),YI=(t,e)=>Math.pow(10,WI(t)+e);function HI(t){const e=t/Math.pow(10,WI(t));return 1===e}function XI(t,e,i){const n=Math.pow(10,i),r=Math.floor(t/n),o=Math.ceil(e/n);return o-r}function ZI(t,e){const i=e-t;let n=WI(i);while(XI(t,e,n)>10)n++;while(XI(t,e,n)<10)n--;return Math.min(n,WI(t))}function $I(t,{min:e,max:i}){e=Z_(t.min,e);const n=[],r=WI(e);let o=ZI(e,i),s=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),h=r>o?Math.pow(10,r):0,l=Math.round((e-h)*s)/s,u=Math.floor((e-h)/a/10)*a*10;let c=Math.floor((l-u)/Math.pow(10,o)),p=Z_(t.min,Math.round((h+u+c*Math.pow(10,o))*s)/s);while(p<i)n.push({value:p,major:HI(p),significand:c}),c>=10?c=c<15?15:20:c++,c>=20&&(o++,c=2,s=o>=0?1:s),p=Math.round((h+u+c*Math.pow(10,o))*s)/s;const f=Z_(t.max,p);return n.push({value:f,major:HI(f),significand:c}),n}class JI extends RE{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=VI.prototype.parse.apply(this,[t,e]);if(0!==i)return X_(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=X_(t)?Math.max(0,t):null,this.max=X_(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!X_(this._userMin)&&(this.min=t===YI(this.min,0)?YI(this.min,-1):YI(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const r=e=>i=t?i:e,o=t=>n=e?n:t;i===n&&(i<=0?(r(1),o(10)):(r(YI(i,-1)),o(YI(n,1)))),i<=0&&r(YI(n,-1)),n<=0&&o(YI(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=$I(e,this);return"ticks"===t.bounds&&Tv(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":vx(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Sv(t),this._valueRange=Sv(this.max)-Sv(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Sv(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function KI(t){const e=t.ticks;if(e.display&&t.display){const t=tb(e.backdropPadding);return $_(e.font&&e.font.size,Lx.font.size)+t.height}return 0}function QI(t,e,i){return i=Y_(i)?i:[i],{w:Tx(t,e.string,i),h:i.length*e.lineHeight}}function tP(t,e,i,n,r){return t===n||t===r?{start:e-i/2,end:e+i/2}:t<n||t>r?{start:e-i,end:e}:{start:e,end:e+i}}function eP(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?mv/o:0;for(let h=0;h<o;h++){const o=s.setContext(t.getPointLabelContext(h));r[h]=o.padding;const l=t.getPointPosition(h,t.drawingArea+r[h],a),u=eb(o.font),c=QI(t.ctx,u,t._pointLabels[h]);n[h]=c;const p=zv(t.getIndexAngle(h)+a),f=Math.round(Rv(p)),d=tP(f,l.x,c.w,0,180),g=tP(f,l.y,c.h,90,270);iP(i,e,p,d,g)}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=oP(t,n,r)}function iP(t,e,i,n,r){const o=Math.abs(Math.sin(i)),s=Math.abs(Math.cos(i));let a=0,h=0;n.start<e.l?(a=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(h=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+h))}function nP(t,e,i){const n=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=i,h=t.getPointPosition(e,n+r+s,o),l=Math.round(Rv(zv(h.angle+wv))),u=hP(h.y,a.h,l),c=sP(l),p=aP(h.x,a.w,c);return{visible:!0,x:h.x,y:u,textAlign:c,left:p,top:u,right:p+a.w,bottom:u+a.h}}function rP(t,e){if(!e)return!0;const{left:i,top:n,right:r,bottom:o}=t,s=Fx({x:i,y:n},e)||Fx({x:i,y:o},e)||Fx({x:r,y:n},e)||Fx({x:r,y:o},e);return!s}function oP(t,e,i){const n=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,h={extra:KI(o)/2,additionalAngle:s?mv/r:0};let l;for(let u=0;u<r;u++){h.padding=i[u],h.size=e[u];const r=nP(t,u,h);n.push(r),"auto"===a&&(r.visible=rP(r,l),r.visible&&(l=r))}return n}function sP(t){return 0===t||180===t?"center":t<180?"left":"right"}function aP(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function hP(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function lP(t,e,i){const{left:n,top:r,right:o,bottom:s}=i,{backdropColor:a}=e;if(!W_(a)){const i=Qx(e.borderRadius),h=tb(e.backdropPadding);t.fillStyle=a;const l=n-h.left,u=r-h.top,c=o-n+h.width,p=s-r+h.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),Yx(t,{x:l,y:u,w:c,h:p,radius:i}),t.fill()):t.fillRect(l,u,c,p)}}function uP(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let r=e-1;r>=0;r--){const e=t._pointLabelItems[r];if(!e.visible)continue;const o=n.setContext(t.getPointLabelContext(r));lP(i,o,e);const s=eb(o.font),{x:a,y:h,textAlign:l}=e;Wx(i,t._pointLabels[r],a,h+s.lineHeight/2,s,{color:o.color,textAlign:l,textBaseline:"middle"})}}function cP(t,e,i,n){const{ctx:r}=t;if(i)r.arc(t.xCenter,t.yCenter,e,0,_v);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),r.lineTo(i.x,i.y)}}function pP(t,e,i,n,r){const o=t.ctx,s=e.circular,{color:a,lineWidth:h}=e;!s&&!n||!a||!h||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=h,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),cP(t,i,s,n),o.closePath(),o.stroke(),o.restore())}function fP(t,e,i){return rb(t,{label:i,index:e,type:"pointLabel"})}Jm(JI,"id","logarithmic"),Jm(JI,"defaults",{ticks:{callback:wx.formatters.logarithmic,major:{enabled:!0}}});class dP extends VI{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=tb(KI(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=X_(t)&&!isNaN(t)?t:0,this.max=X_(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/KI(this.options))}generateTickLabels(t){VI.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=Q_(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?eP(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){const e=_v/(this._pointLabels.length||1),i=this.options.startAngle||0;return zv(t*e+Av(i))}getDistanceFromCenterForValue(t){if(W_(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(W_(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return fP(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-wv+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),cP(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:r}=e,o=this._pointLabels.length;let s,a,h;if(e.pointLabels.display&&uP(this,o),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),s=n.setContext(i),h=r.setContext(i);pP(this,s,a,o,h)}})),i.display){for(t.save(),s=o-1;s>=0;s--){const n=i.setContext(this.getPointLabelContext(s)),{color:r,lineWidth:o}=n;o&&r&&(t.lineWidth=o,t.strokeStyle=r,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),h=this.getPointPosition(s,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,s)=>{if(0===s&&this.min>=0&&!e.reverse)return;const a=i.setContext(this.getContext(s)),h=eb(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){t.font=h.string,o=t.measureText(n.label).width,t.fillStyle=a.backdropColor;const e=tb(a.backdropPadding);t.fillRect(-o/2-e.left,-r-h.size/2-e.top,o+e.width,h.size+e.height)}Wx(t,n.label,0,-r,h,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}Jm(dP,"id","radialLinear"),Jm(dP,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:wx.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Jm(dP,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Jm(dP,"descriptors",{angleLines:{_fallback:"grid"}});const gP={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yP=Object.keys(gP);function mP(t,e){return t-e}function _P(t,e){if(W_(e))return null;const i=t._adapter,{parser:n,round:r,isoWeekday:o}=t._parseOpts;let s=e;return"function"===typeof n&&(s=n(s)),X_(s)||(s="string"===typeof n?i.parse(s,n):i.parse(s)),null===s?null:(r&&(s="week"!==r||!Ov(o)&&!0!==o?i.startOf(s,r):i.startOf(s,"isoWeek",o)),+s)}function vP(t,e,i,n){const r=yP.length;for(let o=yP.indexOf(t);o<r-1;++o){const t=gP[yP[o]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(r*t.size))<=n)return yP[o]}return yP[r-1]}function xP(t,e,i,n,r){for(let o=yP.length-1;o>=yP.indexOf(i);o--){const i=yP[o];if(gP[i].common&&t._adapter.diff(r,n,i)>=e-1)return i}return yP[i?yP.indexOf(i):0]}function bP(t){for(let e=yP.indexOf(t)+1,i=yP.length;e<i;++e)if(gP[yP[e]].common)return yP[e]}function wP(t,e,i){if(i){if(i.length){const{lo:n,hi:r}=qv(i,e),o=i[n]>=e?i[n]:i[r];t[o]=!0}}else t[e]=!0}function MP(t,e,i,n){const r=t._adapter,o=+r.startOf(e[0].value,n),s=e[e.length-1].value;let a,h;for(a=o;a<=s;a=+r.add(a,1,n))h=i[a],h>=0&&(e[h].major=!0);return e}function EP(t,e,i){const n=[],r={},o=e.length;let s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,n.push({value:a,major:!1});return 0!==o&&i?MP(t,n,r,i):n}class SP extends RE{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new _M._date(t.adapters.date);n.init(e),sv(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:_P(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(t){o||isNaN(t.min)||(n=Math.min(n,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),n=X_(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=X_(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,s=Hv(n,r,o);return this._unit=e.unit||(i.autoSkip?vP(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):xP(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?bP(this._unit):void 0,this.initOffsets(n),t.reverse&&s.reverse(),EP(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,n=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),r=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=Uv(n,0,o),r=Uv(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||vP(r.minUnit,e,i,this._getLabelCapacity(e)),s=$_(n.ticks.stepSize,1),a="week"===o&&r.isoWeekday,h=Ov(a)||!0===a,l={};let u,c,p=e;if(h&&(p=+t.startOf(p,"isoWeek",a)),p=+t.startOf(p,h?"day":o),t.diff(i,e,o)>1e5*s)throw new Error(e+" and "+i+" are too far apart with stepSize of "+s+" "+o);const f="data"===n.ticks.source&&this.getDataTimestamps();for(u=p,c=0;u<i;u=+t.add(u,s,o),c++)wP(l,u,f);return u!==i&&"ticks"!==n.bounds&&1!==c||wP(l,u,f),Object.keys(l).sort(mP).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options,n=i.time.displayFormats,r=this._unit,o=e||n[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,n){const r=this.options,o=r.ticks.callback;if(o)return Q_(o,[t,e,i],this);const s=r.time.displayFormats,a=this._unit,h=this._majorUnit,l=a&&s[a],u=h&&s[h],c=i[e],p=h&&u&&c&&c.major;return this._adapter.format(t,n||(p?u:l))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=Av(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),s=this._resolveTickFontOptions(0).size;return{w:i*r+s*o,h:i*o+s*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,EP(this,[t],this._majorUnit),n),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(_P(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Jv(t.sort(mP))}}function CP(t,e,i){let n,r,o,s,a=0,h=t.length-1;i?(e>=t[a].pos&&e<=t[h].pos&&({lo:a,hi:h}=Wv(t,"pos",e)),({pos:n,time:o}=t[a]),({pos:r,time:s}=t[h])):(e>=t[a].time&&e<=t[h].time&&({lo:a,hi:h}=Wv(t,"time",e)),({time:n,pos:o}=t[a]),({time:r,pos:s}=t[h]));const l=r-n;return l?o+(s-o)*(e-n)/l:o}Jm(SP,"id","time"),Jm(SP,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class IP extends SP{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=CP(e,this.min),this._tableRange=CP(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],r=[];let o,s,a,h,l;for(o=0,s=t.length;o<s;++o)h=t[o],h>=e&&h<=i&&n.push(h);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,s=n.length;o<s;++o)l=n[o+1],a=n[o-1],h=n[o],Math.round((l+a)/2)!==h&&r.push({time:h,pos:o/(s-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return i.includes(t)&&i.length||i.splice(0,0,t),i.includes(e)&&1!==i.length||i.push(e),i.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(CP(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return CP(this._table,i*this._tableRange+this._minPos,!0)}}Jm(IP,"id","timeseries"),Jm(IP,"defaults",SP.defaults);var PP=Object.freeze({__proto__:null,CategoryScale:jI,LinearScale:qI,LogarithmicScale:JI,RadialLinearScale:dP,TimeScale:SP,TimeSeriesScale:IP});const LP=[gM,sC,DI,PP];SS.register(...LP);var OP=SS,NP={components:{LMap:$u,LTileLayer:nc,LMarker:Tm,LPopup:jm},data(){return{countries:[],selectedCountry:null,selectedView:"text",selectedChartType:"line",populationData:[],mapCenter:[20,0],chart:null}},computed:{countryName(){const t=this.countries.find((t=>t.id===this.selectedCountry));return t?t.name:""},chartLabels(){return this.populationData.map((t=>t.date)).reverse()},chartDataValues(){return this.populationData.map((t=>t.value)).reverse()}},watch:{selectedCountry(t){t&&(this.fetchPopulationData(),this.updateMapCenter())},selectedView(t){"graph"===t?ii((()=>this.renderChart())):"map"===t&&this.updateMapCenter()}},methods:{async fetchCountries(){try{const t=await Vl.get("https://api.worldbank.org/v2/country?format=json&per_page=300");this.countries=t.data[1]}catch(t){console.error("Error fetching countries:",t)}},async fetchPopulationData(){if(this.selectedCountry)try{const t=await Vl.get(`https://api.worldbank.org/v2/country/${this.selectedCountry}/indicator/SP.POP.TOTL?format=json`);this.populationData=t.data[1]||[]}catch(t){console.error("Error fetching population data:",t)}},updateMapCenter(){const t=this.countries.find((t=>t.id===this.selectedCountry));t&&t.latitude&&t.longitude&&(this.mapCenter=[t.latitude,t.longitude],this.$refs.mapRef&&this.$refs.mapRef.mapObject.setView(this.mapCenter,4,{animate:!0}))},handleCountryChange(){localStorage.setItem("selectedCountry",this.selectedCountry),localStorage.setItem("selectedView","text"),window.location.reload()},handleViewChange(){localStorage.setItem("selectedView",this.selectedView)},loadSettings(){const t=localStorage.getItem("selectedCountry");t&&(this.selectedCountry=t),this.selectedView="text"},renderChart(){this.chart&&this.chart.destroy();const t=document.getElementById("populationChart").getContext("2d");this.chart=new OP(t,{type:this.selectedChartType,data:{labels:this.chartLabels,datasets:[{label:"Population",data:this.chartDataValues,borderColor:"#007bff",borderWidth:2,backgroundColor:"rgba(0, 123, 255, 0.2)",fill:"line"!==this.selectedChartType}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function(t){return`${t.dataset.label}: ${t.raw.toLocaleString()}`}}}}}})}},mounted(){this.fetchCountries(),this.loadSettings(),this.fetchPopulationData()}};const TP=(0,Hu.A)(NP,[["render",Ps]]);var AP=TP;fs(AP).mount("#app")}()})();
//# sourceMappingURL=app.b6213a3e.js.map